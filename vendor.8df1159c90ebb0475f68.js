webpackJsonp([0,2],[function(e,t,r){"use strict";e.exports=r(65)},function(e,t,r){"use strict";function identity(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}e.exports=identity},function(e,t,r){"use strict";function fromMat3(e,t){var r,i=t[0]+t[4]+t[8];if(i>0)r=Math.sqrt(i+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var n=0;t[4]>t[0]&&(n=1),t[8]>t[3*n+n]&&(n=2);var a=(n+1)%3,s=(n+2)%3;r=Math.sqrt(t[3*n+n]-t[3*a+a]-t[3*s+s]+1),e[n]=.5*r,r=.5/r,e[3]=(t[3*a+s]-t[3*s+a])*r,e[a]=(t[3*a+n]+t[3*n+a])*r,e[s]=(t[3*s+n]+t[3*n+s])*r}return e}e.exports=fromMat3},function(e,t,r){"use strict";function setAxisAngle(e,t,r){r*=.5;var i=Math.sin(r);return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=Math.cos(r),e}e.exports=setAxisAngle},function(e,t,r){"use strict";function slerp(e,t,r,i){var n,a,s,o,u,c=t[0],M=t[1],l=t[2],f=t[3],A=r[0],g=r[1],d=r[2],D=r[3];return a=c*A+M*g+l*d+f*D,a<0&&(a=-a,A=-A,g=-g,d=-d,D=-D),1-a>1e-6?(n=Math.acos(a),s=Math.sin(n),o=Math.sin((1-i)*n)/s,u=Math.sin(i*n)/s):(o=1-i,u=i),e[0]=o*c+u*A,e[1]=o*M+u*g,e[2]=o*l+u*d,e[3]=o*f+u*D,e}e.exports=slerp},function(t,r,i){"use strict";var n,a,o,u,u,c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){if("object"===c(r)&&void 0!==t)t.exports=e();else{a=[],n=e,void 0!==(o="function"==typeof n?n.apply(r,a):n)&&(t.exports=o)}}(function(){return function e(t,r,i){function s(a,o){if(!r[a]){if(!t[a]){var c="function"==typeof u&&u;if(!o&&c)return u(a,!0);if(n)return n(a,!0);var M=new Error("Cannot find module '"+a+"'");throw M.code="MODULE_NOT_FOUND",M}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){var r=t[a][1][e];return s(r?r:e)},l,l.exports,e,t,r,i)}return r[a].exports}for(var n="function"==typeof u&&u,a=0;a<i.length;a++)s(i[a]);return s}({1:[function(e,t,r){function Events(){}function EE(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function EventEmitter(){this._events=new Events,this._eventsCount=0}var i=Object.prototype.hasOwnProperty,n="~";Object.create&&(Events.prototype=Object.create(null),(new Events).__proto__||(n=!1)),EventEmitter.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)i.call(e,t)&&r.push(n?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},EventEmitter.prototype.listeners=function(e,t){var r=n?n+e:e,i=this._events[r];if(t)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var a=0,s=i.length,o=new Array(s);a<s;a++)o[a]=i[a].fn;return o},EventEmitter.prototype.emit=function(e,t,r,i,a,s){var o=n?n+e:e;if(!this._events[o])return!1;var u,c,M=this._events[o],l=arguments.length;if(M.fn){switch(M.once&&this.removeListener(e,M.fn,void 0,!0),l){case 1:return M.fn.call(M.context),!0;case 2:return M.fn.call(M.context,t),!0;case 3:return M.fn.call(M.context,t,r),!0;case 4:return M.fn.call(M.context,t,r,i),!0;case 5:return M.fn.call(M.context,t,r,i,a),!0;case 6:return M.fn.call(M.context,t,r,i,a,s),!0}for(c=1,u=new Array(l-1);c<l;c++)u[c-1]=arguments[c];M.fn.apply(M.context,u)}else{var f,A=M.length;for(c=0;c<A;c++)switch(M[c].once&&this.removeListener(e,M[c].fn,void 0,!0),l){case 1:M[c].fn.call(M[c].context);break;case 2:M[c].fn.call(M[c].context,t);break;case 3:M[c].fn.call(M[c].context,t,r);break;case 4:M[c].fn.call(M[c].context,t,r,i);break;default:if(!u)for(f=1,u=new Array(l-1);f<l;f++)u[f-1]=arguments[f];M[c].fn.apply(M[c].context,u)}}return!0},EventEmitter.prototype.on=function(e,t,r){var i=new EE(t,r||this),a=n?n+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],i]:this._events[a].push(i):(this._events[a]=i,this._eventsCount++),this},EventEmitter.prototype.once=function(e,t,r){var i=new EE(t,r||this,!0),a=n?n+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],i]:this._events[a].push(i):(this._events[a]=i,this._eventsCount++),this},EventEmitter.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return 0==--this._eventsCount?this._events=new Events:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||(0==--this._eventsCount?this._events=new Events:delete this._events[a]);else{for(var o=0,u=[],c=s.length;o<c;o++)(s[o].fn!==t||i&&!s[o].once||r&&s[o].context!==r)&&u.push(s[o]);u.length?this._events[a]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new Events:delete this._events[a]}return this},EventEmitter.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new Events:delete this._events[t])):(this._events=new Events,this._eventsCount=0),this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prototype.setMaxListeners=function(){return this},EventEmitter.prefixed=n,EventEmitter.EventEmitter=EventEmitter,void 0!==t&&(t.exports=EventEmitter)},{}],2:[function(e,t,r){function toObject(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}var i=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;t.exports=shouldUseNative()?Object.assign:function(e,t){for(var r,a,s=toObject(e),o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var u in r)i.call(r,u)&&(s[u]=r[u]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(r);for(var c=0;c<a.length;c++)n.call(r,a[c])&&(s[a[c]]=r[a[c]])}}return s}},{}],3:[function(e,t,r){function VRFrameData(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null}function VRDisplay(){this.isPolyfilled=!0,this.displayId=a++,this.displayName="webvr-polyfill displayName",this.depthNear=.01,this.depthFar=1e4,this.isConnected=!0,this.isPresenting=!1,this.capabilities={hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1},this.stageParameters=null,this.waitingForPresent_=!1,this.layer_=null,this.fullscreenElement_=null,this.fullscreenWrapper_=null,this.fullscreenElementCachedStyle_=null,this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null,this.wakelock_=new n}function VRDevice(){this.isPolyfilled=!0,this.hardwareUnitId="webvr-polyfill hardwareUnitId",this.deviceId="webvr-polyfill deviceId",this.deviceName="webvr-polyfill deviceName"}function HMDVRDevice(){}function PositionSensorVRDevice(){}var i=e("./util.js"),n=e("./wakelock.js"),a=1e3,s=!1,o=[0,0,.5,1],u=[.5,0,.5,1];VRDisplay.prototype.getFrameData=function(e){return i.frameDataFromPose(e,this.getPose(),this)},VRDisplay.prototype.getPose=function(){return this.getImmediatePose()},VRDisplay.prototype.requestAnimationFrame=function(e){return window.requestAnimationFrame(e)},VRDisplay.prototype.cancelAnimationFrame=function(e){return window.cancelAnimationFrame(e)},VRDisplay.prototype.wrapForFullscreen=function(e){function applyFullscreenElementStyle(){if(n.fullscreenElement_){var e=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];n.fullscreenElement_.setAttribute("style",e.join("; ")+";")}}if(i.isIOS())return e;if(!this.fullscreenWrapper_){this.fullscreenWrapper_=document.createElement("div");var t=["height: "+Math.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.fullscreenWrapper_.setAttribute("style",t.join("; ")+";"),this.fullscreenWrapper_.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.fullscreenElement_==e)return this.fullscreenWrapper_;this.removeFullscreenWrapper(),this.fullscreenElement_=e;var r=this.fullscreenElement_.parentElement;r.insertBefore(this.fullscreenWrapper_,this.fullscreenElement_),r.removeChild(this.fullscreenElement_),this.fullscreenWrapper_.insertBefore(this.fullscreenElement_,this.fullscreenWrapper_.firstChild),this.fullscreenElementCachedStyle_=this.fullscreenElement_.getAttribute("style");var n=this;return applyFullscreenElementStyle(),this.fullscreenWrapper_},VRDisplay.prototype.removeFullscreenWrapper=function(){if(this.fullscreenElement_){var e=this.fullscreenElement_;this.fullscreenElementCachedStyle_?e.setAttribute("style",this.fullscreenElementCachedStyle_):e.removeAttribute("style"),this.fullscreenElement_=null,this.fullscreenElementCachedStyle_=null;var t=this.fullscreenWrapper_.parentElement;return this.fullscreenWrapper_.removeChild(e),t.insertBefore(e,this.fullscreenWrapper_),t.removeChild(this.fullscreenWrapper_),e}},VRDisplay.prototype.requestPresent=function(e){var t=this.isPresenting,r=this;return e instanceof Array||(s||(console.warn("Using a deprecated form of requestPresent. Should pass in an array of VRLayers."),s=!0),e=[e]),new Promise(function(n,a){if(!r.capabilities.canPresent)return void a(new Error("VRDisplay is not capable of presenting."));if(0==e.length||e.length>r.capabilities.maxLayers)return void a(new Error("Invalid number of layers."));var s=e[0];if(!s.source)return void n();var c=s.leftBounds||o,M=s.rightBounds||u;if(t){var l=r.layer_;l.source!==s.source&&(l.source=s.source);for(var f=0;f<4;f++)l.leftBounds[f]=c[f],l.rightBounds[f]=M[f];return void n()}if(r.layer_={predistorted:s.predistorted,source:s.source,leftBounds:c.slice(0),rightBounds:M.slice(0)},r.waitingForPresent_=!1,r.layer_&&r.layer_.source){var A=function(){var e=i.getFullscreenElement();r.isPresenting=d===e,r.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-primary").catch(function(e){console.error("screen.orientation.lock() failed due to",e.message)}),r.waitingForPresent_=!1,r.beginPresent_(),n()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),r.removeFullscreenWrapper(),r.wakelock_.release(),r.endPresent_(),r.removeFullscreenListeners_()),r.fireVRDisplayPresentChange_()},g=function(){r.waitingForPresent_&&(r.removeFullscreenWrapper(),r.removeFullscreenListeners_(),r.wakelock_.release(),r.waitingForPresent_=!1,r.isPresenting=!1,a(new Error("Unable to present.")))},d=r.wrapForFullscreen(r.layer_.source);r.addFullscreenListeners_(d,A,g),i.requestFullscreen(d)?(r.wakelock_.request(),r.waitingForPresent_=!0):i.isIOS()&&(r.wakelock_.request(),r.isPresenting=!0,r.beginPresent_(),r.fireVRDisplayPresentChange_(),n())}r.waitingForPresent_||i.isIOS()||(i.exitFullscreen(),a(new Error("Unable to present.")))})},VRDisplay.prototype.exitPresent=function(){var e=this.isPresenting,t=this;return this.isPresenting=!1,this.layer_=null,this.wakelock_.release(),new Promise(function(r,n){e?(!i.exitFullscreen()&&i.isIOS()&&(t.endPresent_(),t.fireVRDisplayPresentChange_()),r()):n(new Error("Was not presenting to VRDisplay."))})},VRDisplay.prototype.getLayers=function(){return this.layer_?[this.layer_]:[]},VRDisplay.prototype.fireVRDisplayPresentChange_=function(){var e=new CustomEvent("vrdisplaypresentchange",{detail:{display:this}});window.dispatchEvent(e)},VRDisplay.prototype.addFullscreenListeners_=function(e,t,r){this.removeFullscreenListeners_(),this.fullscreenEventTarget_=e,this.fullscreenChangeHandler_=t,this.fullscreenErrorHandler_=r,t&&(document.fullscreenEnabled?e.addEventListener("fullscreenchange",t,!1):document.webkitFullscreenEnabled?e.addEventListener("webkitfullscreenchange",t,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenchange",t,!1):document.msFullscreenEnabled&&e.addEventListener("msfullscreenchange",t,!1)),r&&(document.fullscreenEnabled?e.addEventListener("fullscreenerror",r,!1):document.webkitFullscreenEnabled?e.addEventListener("webkitfullscreenerror",r,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenerror",r,!1):document.msFullscreenEnabled&&e.addEventListener("msfullscreenerror",r,!1))},VRDisplay.prototype.removeFullscreenListeners_=function(){if(this.fullscreenEventTarget_){var e=this.fullscreenEventTarget_;if(this.fullscreenChangeHandler_){var t=this.fullscreenChangeHandler_;e.removeEventListener("fullscreenchange",t,!1),e.removeEventListener("webkitfullscreenchange",t,!1),document.removeEventListener("mozfullscreenchange",t,!1),e.removeEventListener("msfullscreenchange",t,!1)}if(this.fullscreenErrorHandler_){var r=this.fullscreenErrorHandler_;e.removeEventListener("fullscreenerror",r,!1),e.removeEventListener("webkitfullscreenerror",r,!1),document.removeEventListener("mozfullscreenerror",r,!1),e.removeEventListener("msfullscreenerror",r,!1)}this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null}},VRDisplay.prototype.beginPresent_=function(){},VRDisplay.prototype.endPresent_=function(){},VRDisplay.prototype.submitFrame=function(e){},VRDisplay.prototype.getEyeParameters=function(e){return null},HMDVRDevice.prototype=new VRDevice,PositionSensorVRDevice.prototype=new VRDevice,t.exports.VRFrameData=VRFrameData,t.exports.VRDisplay=VRDisplay,t.exports.VRDevice=VRDevice,t.exports.HMDVRDevice=HMDVRDevice,t.exports.PositionSensorVRDevice=PositionSensorVRDevice},{"./util.js":22,"./wakelock.js":24}],4:[function(e,t,r){function CardboardDistorter(e){this.gl=e,this.ctxAttribs=e.getContextAttributes(),this.meshWidth=20,this.meshHeight=20,this.bufferScale=WebVRConfig.BUFFER_SCALE,this.bufferWidth=e.drawingBufferWidth,this.bufferHeight=e.drawingBufferHeight,this.realBindFramebuffer=e.bindFramebuffer,this.realEnable=e.enable,this.realDisable=e.disable,this.realColorMask=e.colorMask,this.realClearColor=e.clearColor,this.realViewport=e.viewport,n.isIOS()||(this.realCanvasWidth=Object.getOwnPropertyDescriptor(e.canvas.__proto__,"width"),this.realCanvasHeight=Object.getOwnPropertyDescriptor(e.canvas.__proto__,"height")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=n.linkProgram(e,s,o,this.attribs),this.uniforms=n.getProgramUniforms(e,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),this.indexCount=0,this.renderTarget=e.createTexture(),this.framebuffer=e.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=e.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=e.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=e.createRenderbuffer()),this.patch(),this.onResize(),WebVRConfig.CARDBOARD_UI_DISABLED||(this.cardboardUI=new i(e))}var i=e("./cardboard-ui.js"),n=e("./util.js"),a=e("./deps/wglu-preserve-state.js"),s=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join("\n"),o=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join("\n");CardboardDistorter.prototype.destroy=function(){var e=this.gl;this.unpatch(),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer),e.deleteTexture(this.renderTarget),e.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&e.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&e.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&e.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},CardboardDistorter.prototype.onResize=function(){var e=this.gl,t=this;a(e,[e.RENDERBUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0],function(e){t.realBindFramebuffer.call(e,e.FRAMEBUFFER,null),t.scissorTest&&t.realDisable.call(e,e.SCISSOR_TEST),t.realColorMask.call(e,!0,!0,!0,!0),t.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight),t.realClearColor.call(e,0,0,0,1),e.clear(e.COLOR_BUFFER_BIT),t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.framebuffer),e.bindTexture(e.TEXTURE_2D,t.renderTarget),e.texImage2D(e.TEXTURE_2D,0,t.ctxAttribs.alpha?e.RGBA:e.RGB,t.bufferWidth,t.bufferHeight,0,t.ctxAttribs.alpha?e.RGBA:e.RGB,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.renderTarget,0),t.ctxAttribs.depth&&t.ctxAttribs.stencil?(e.bindRenderbuffer(e.RENDERBUFFER,t.depthStencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t.depthStencilBuffer)):t.ctxAttribs.depth?(e.bindRenderbuffer(e.RENDERBUFFER,t.depthBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t.depthBuffer)):t.ctxAttribs.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,t.stencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.STENCIL_INDEX8,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.STENCIL_ATTACHMENT,e.RENDERBUFFER,t.stencilBuffer)),!e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer incomplete!"),t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.lastBoundFramebuffer),t.scissorTest&&t.realEnable.call(e,e.SCISSOR_TEST),t.realColorMask.apply(e,t.colorMask),t.realViewport.apply(e,t.viewport),t.realClearColor.apply(e,t.clearColor)}),this.cardboardUI&&this.cardboardUI.onResize()},CardboardDistorter.prototype.patch=function(){if(!this.isPatched){var e=this,t=this.gl.canvas,r=this.gl;n.isIOS()||(t.width=n.getScreenWidth()*this.bufferScale,t.height=n.getScreenHeight()*this.bufferScale,Object.defineProperty(t,"width",{configurable:!0,enumerable:!0,get:function(){return e.bufferWidth},set:function(r){e.bufferWidth=r,e.realCanvasWidth.set.call(t,r),e.onResize()}}),Object.defineProperty(t,"height",{configurable:!0,enumerable:!0,get:function(){return e.bufferHeight},set:function(r){e.bufferHeight=r,e.realCanvasHeight.set.call(t,r),e.onResize()}})),this.lastBoundFramebuffer=r.getParameter(r.FRAMEBUFFER_BINDING),null==this.lastBoundFramebuffer&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(t,i){e.lastBoundFramebuffer=i?i:e.framebuffer,e.realBindFramebuffer.call(r,t,e.lastBoundFramebuffer)},this.cullFace=r.getParameter(r.CULL_FACE),this.depthTest=r.getParameter(r.DEPTH_TEST),this.blend=r.getParameter(r.BLEND),this.scissorTest=r.getParameter(r.SCISSOR_TEST),this.stencilTest=r.getParameter(r.STENCIL_TEST),r.enable=function(t){switch(t){case r.CULL_FACE:e.cullFace=!0;break;case r.DEPTH_TEST:e.depthTest=!0;break;case r.BLEND:e.blend=!0;break;case r.SCISSOR_TEST:e.scissorTest=!0;break;case r.STENCIL_TEST:e.stencilTest=!0}e.realEnable.call(r,t)},r.disable=function(t){switch(t){case r.CULL_FACE:e.cullFace=!1;break;case r.DEPTH_TEST:e.depthTest=!1;break;case r.BLEND:e.blend=!1;break;case r.SCISSOR_TEST:e.scissorTest=!1;break;case r.STENCIL_TEST:e.stencilTest=!1}e.realDisable.call(r,t)},this.colorMask=r.getParameter(r.COLOR_WRITEMASK),r.colorMask=function(t,i,n,a){e.colorMask[0]=t,e.colorMask[1]=i,e.colorMask[2]=n,e.colorMask[3]=a,e.realColorMask.call(r,t,i,n,a)},this.clearColor=r.getParameter(r.COLOR_CLEAR_VALUE),r.clearColor=function(t,i,n,a){e.clearColor[0]=t,e.clearColor[1]=i,e.clearColor[2]=n,e.clearColor[3]=a,e.realClearColor.call(r,t,i,n,a)},this.viewport=r.getParameter(r.VIEWPORT),r.viewport=function(t,i,n,a){e.viewport[0]=t,e.viewport[1]=i,e.viewport[2]=n,e.viewport[3]=a,e.realViewport.call(r,t,i,n,a)},this.isPatched=!0,n.safariCssSizeWorkaround(t)}},CardboardDistorter.prototype.unpatch=function(){if(this.isPatched){var e=this.gl,t=this.gl.canvas;n.isIOS()||(Object.defineProperty(t,"width",this.realCanvasWidth),Object.defineProperty(t,"height",this.realCanvasHeight)),t.width=this.bufferWidth,t.height=this.bufferHeight,e.bindFramebuffer=this.realBindFramebuffer,e.enable=this.realEnable,e.disable=this.realDisable,e.colorMask=this.realColorMask,e.clearColor=this.realClearColor,e.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&e.bindFramebuffer(e.FRAMEBUFFER,null),this.isPatched=!1,setTimeout(function(){n.safariCssSizeWorkaround(t)},1)}},CardboardDistorter.prototype.setTextureBounds=function(e,t){e||(e=[0,0,.5,1]),t||(t=[.5,0,.5,1]),this.viewportOffsetScale[0]=e[0],this.viewportOffsetScale[1]=e[1],this.viewportOffsetScale[2]=e[2],this.viewportOffsetScale[3]=e[3],this.viewportOffsetScale[4]=t[0],this.viewportOffsetScale[5]=t[1],this.viewportOffsetScale[6]=t[2],this.viewportOffsetScale[7]=t[3]},CardboardDistorter.prototype.submitFrame=function(){var e=this.gl,t=this,r=[];if(WebVRConfig.DIRTY_SUBMIT_FRAME_BINDINGS||r.push(e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING,e.ELEMENT_ARRAY_BUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0),a(e,r,function(e){t.realBindFramebuffer.call(e,e.FRAMEBUFFER,null),t.cullFace&&t.realDisable.call(e,e.CULL_FACE),t.depthTest&&t.realDisable.call(e,e.DEPTH_TEST),t.blend&&t.realDisable.call(e,e.BLEND),t.scissorTest&&t.realDisable.call(e,e.SCISSOR_TEST),t.stencilTest&&t.realDisable.call(e,e.STENCIL_TEST),t.realColorMask.call(e,!0,!0,!0,!0),t.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight),(t.ctxAttribs.alpha||n.isIOS())&&(t.realClearColor.call(e,0,0,0,1),e.clear(e.COLOR_BUFFER_BIT)),e.useProgram(t.program),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.indexBuffer),e.bindBuffer(e.ARRAY_BUFFER,t.vertexBuffer),e.enableVertexAttribArray(t.attribs.position),e.enableVertexAttribArray(t.attribs.texCoord),e.vertexAttribPointer(t.attribs.position,2,e.FLOAT,!1,20,0),e.vertexAttribPointer(t.attribs.texCoord,3,e.FLOAT,!1,20,8),e.activeTexture(e.TEXTURE0),e.uniform1i(t.uniforms.diffuse,0),e.bindTexture(e.TEXTURE_2D,t.renderTarget),e.uniform4fv(t.uniforms.viewportOffsetScale,t.viewportOffsetScale),e.drawElements(e.TRIANGLES,t.indexCount,e.UNSIGNED_SHORT,0),t.cardboardUI&&t.cardboardUI.renderNoState(),t.realBindFramebuffer.call(t.gl,e.FRAMEBUFFER,t.framebuffer),t.ctxAttribs.preserveDrawingBuffer||(t.realClearColor.call(e,0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)),WebVRConfig.DIRTY_SUBMIT_FRAME_BINDINGS||t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.lastBoundFramebuffer),t.cullFace&&t.realEnable.call(e,e.CULL_FACE),t.depthTest&&t.realEnable.call(e,e.DEPTH_TEST),t.blend&&t.realEnable.call(e,e.BLEND),t.scissorTest&&t.realEnable.call(e,e.SCISSOR_TEST),t.stencilTest&&t.realEnable.call(e,e.STENCIL_TEST),t.realColorMask.apply(e,t.colorMask),t.realViewport.apply(e,t.viewport),!t.ctxAttribs.alpha&&t.ctxAttribs.preserveDrawingBuffer||t.realClearColor.apply(e,t.clearColor)}),n.isIOS()){var i=e.canvas;i.width==t.bufferWidth&&i.height==t.bufferHeight||(t.bufferWidth=i.width,t.bufferHeight=i.height,t.onResize())}},CardboardDistorter.prototype.updateDeviceInfo=function(e){var t=this.gl,r=this;a(t,[t.ARRAY_BUFFER_BINDING,t.ELEMENT_ARRAY_BUFFER_BINDING],function(t){var i=r.computeMeshVertices_(r.meshWidth,r.meshHeight,e);if(t.bindBuffer(t.ARRAY_BUFFER,r.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW),!r.indexCount){var n=r.computeMeshIndices_(r.meshWidth,r.meshHeight);t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,n,t.STATIC_DRAW),r.indexCount=n.length}})},CardboardDistorter.prototype.computeMeshVertices_=function(e,t,r){for(var i=new Float32Array(2*e*t*5),a=r.getLeftEyeVisibleTanAngles(),s=r.getLeftEyeNoLensTanAngles(),o=r.getLeftEyeVisibleScreenRect(s),u=0,c=0;c<2;c++){for(var M=0;M<t;M++)for(var l=0;l<e;l++,u++){var f=l/(e-1),A=M/(t-1),g=f,d=A,D=n.lerp(a[0],a[2],f),p=n.lerp(a[3],a[1],A),N=Math.sqrt(D*D+p*p),y=r.distortion.distortInverse(N),h=D*y/N,m=p*y/N;f=(h-s[0])/(s[2]-s[0]),A=(m-s[3])/(s[1]-s[3]);r.device.widthMeters,r.device.heightMeters;f=2*(o.x+f*o.width-.5),A=2*(o.y+A*o.height-.5),i[5*u+0]=f,i[5*u+1]=A,i[5*u+2]=g,i[5*u+3]=d,i[5*u+4]=c}var j=a[2]-a[0];a[0]=-(j+a[0]),a[2]=j-a[2],j=s[2]-s[0],s[0]=-(j+s[0]),s[2]=j-s[2],o.x=1-(o.x+o.width)}return i},CardboardDistorter.prototype.computeMeshIndices_=function(e,t){for(var r=new Uint16Array(2*(e-1)*(t-1)*6),i=e/2,n=t/2,a=0,s=0,o=0;o<2;o++)for(var u=0;u<t;u++)for(var c=0;c<e;c++,a++)0!=c&&0!=u&&(c<=i==u<=n?(r[s++]=a,r[s++]=a-e-1,r[s++]=a-e,r[s++]=a-e-1,r[s++]=a,r[s++]=a-1):(r[s++]=a-1,r[s++]=a-e,r[s++]=a,r[s++]=a-e,r[s++]=a-1,r[s++]=a-e-1));return r},CardboardDistorter.prototype.getOwnPropertyDescriptor_=function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return void 0!==r.get&&void 0!==r.set||(r.configurable=!0,r.enumerable=!0,r.get=function(){return this.getAttribute(t)},r.set=function(e){this.setAttribute(t,e)}),r},t.exports=CardboardDistorter},{"./cardboard-ui.js":5,"./deps/wglu-preserve-state.js":7,"./util.js":22}],5:[function(e,t,r){function CardboardUI(e){this.gl=e,this.attribs={position:0},this.program=i.linkProgram(e,a,s,this.attribs),this.uniforms=i.getProgramUniforms(e,this.program),this.vertexBuffer=e.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}var i=e("./util.js"),n=e("./deps/wglu-preserve-state.js"),a=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join("\n"),s=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join("\n"),o=Math.PI/180,u=60,c=12,M=20,l=1,f=.75,A=.3125,g=28,d=1.5;CardboardUI.prototype.destroy=function(){var e=this.gl;this.listener&&e.canvas.removeEventListener("click",this.listener,!1),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer)},CardboardUI.prototype.listen=function(e,t){var r=this.gl.canvas;this.listener=function(i){var n=r.clientWidth/2,a=g*d;i.clientX>n-a&&i.clientX<n+a&&i.clientY>r.clientHeight-a?e(i):i.clientX<a&&i.clientY<a&&t(i)},r.addEventListener("click",this.listener,!1)},CardboardUI.prototype.onResize=function(){var e=this.gl,t=this;n(e,[e.ARRAY_BUFFER_BINDING],function(e){function addGearSegment(e,t){var i=(90-e)*o,a=Math.cos(i),s=Math.sin(i);r.push(A*a*p+n,A*s*p+p),r.push(t*a*p+n,t*s*p+p)}function addArrowVertex(t,i){r.push(N+t,e.drawingBufferHeight-N-i)}var r=[],n=e.drawingBufferWidth/2,a=e.drawingBufferWidth/(screen.width*window.devicePixelRatio);i.isIOS()||(a*=window.devicePixelRatio);var s=4*a/2,D=g*d*a,p=g*a/2,N=(g*d-g)*a;r.push(n-s,D),r.push(n-s,e.drawingBufferHeight),r.push(n+s,D),r.push(n+s,e.drawingBufferHeight),t.gearOffset=r.length/2;for(var y=0;y<=6;y++){var h=y*u;addGearSegment(h,l),addGearSegment(h+c,l),addGearSegment(h+M,f),addGearSegment(h+(u-M),f),addGearSegment(h+(u-c),l)}t.gearVertexCount=r.length/2-t.gearOffset,t.arrowOffset=r.length/2;var m=s/Math.sin(45*o);addArrowVertex(0,p),addArrowVertex(p,0),addArrowVertex(p+m,m),addArrowVertex(m,p+m),addArrowVertex(m,p-m),addArrowVertex(0,p),addArrowVertex(p,2*p),addArrowVertex(p+m,2*p-m),addArrowVertex(m,p-m),addArrowVertex(0,p),addArrowVertex(m,p-s),addArrowVertex(g*a,p-s),addArrowVertex(m,p+s),addArrowVertex(g*a,p+s),t.arrowVertexCount=r.length/2-t.arrowOffset,e.bindBuffer(e.ARRAY_BUFFER,t.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(r),e.STATIC_DRAW)})},CardboardUI.prototype.render=function(){var e=this.gl,t=this;n(e,[e.CULL_FACE,e.DEPTH_TEST,e.BLEND,e.SCISSOR_TEST,e.STENCIL_TEST,e.COLOR_WRITEMASK,e.VIEWPORT,e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING],function(e){e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.BLEND),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.colorMask(!0,!0,!0,!0),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),t.renderNoState()})},CardboardUI.prototype.renderNoState=function(){var e=this.gl;e.useProgram(this.program),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.enableVertexAttribArray(this.attribs.position),e.vertexAttribPointer(this.attribs.position,2,e.FLOAT,!1,8,0),e.uniform4f(this.uniforms.color,1,1,1,1),i.orthoMatrix(this.projMat,0,e.drawingBufferWidth,0,e.drawingBufferHeight,.1,1024),e.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),e.drawArrays(e.TRIANGLE_STRIP,0,4),e.drawArrays(e.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),e.drawArrays(e.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)},t.exports=CardboardUI},{"./deps/wglu-preserve-state.js":7,"./util.js":22}],6:[function(e,t,r){function CardboardVRDisplay(){this.displayName="Cardboard VRDisplay (webvr-polyfill)",this.capabilities.hasOrientation=!0,this.capabilities.canPresent=!0,this.bufferScale_=WebVRConfig.BUFFER_SCALE,this.poseSensor_=new o,this.distorter_=null,this.cardboardUI_=null,this.dpdb_=new s(!0,this.onDeviceParamsUpdated_.bind(this)),this.deviceInfo_=new a(this.dpdb_.getDeviceParams()),this.viewerSelector_=new c,this.viewerSelector_.on("change",this.onViewerChanged_.bind(this)),this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer()),WebVRConfig.ROTATE_INSTRUCTIONS_DISABLED||(this.rotateInstructions_=new u),l.isIOS()&&window.addEventListener("resize",this.onResize_.bind(this))}var i=e("./cardboard-distorter.js"),n=e("./cardboard-ui.js"),a=e("./device-info.js"),s=e("./dpdb/dpdb.js"),o=e("./sensor-fusion/fusion-pose-sensor.js"),u=e("./rotate-instructions.js"),c=e("./viewer-selector.js"),M=e("./base.js").VRDisplay,l=e("./util.js"),f={LEFT:"left",RIGHT:"right"};CardboardVRDisplay.prototype=new M,CardboardVRDisplay.prototype.getImmediatePose=function(){return{position:this.poseSensor_.getPosition(),orientation:this.poseSensor_.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},CardboardVRDisplay.prototype.resetPose=function(){this.poseSensor_.resetPose()},CardboardVRDisplay.prototype.getEyeParameters=function(e){var t,r=[.5*this.deviceInfo_.viewer.interLensDistance,0,0];if(e==f.LEFT)r[0]*=-1,t=this.deviceInfo_.getFieldOfViewLeftEye();else{if(e!=f.RIGHT)return console.error("Invalid eye provided: %s",e),null;t=this.deviceInfo_.getFieldOfViewRightEye()}return{fieldOfView:t,offset:r,renderWidth:.5*this.deviceInfo_.device.width*this.bufferScale_,renderHeight:this.deviceInfo_.device.height*this.bufferScale_}},CardboardVRDisplay.prototype.onDeviceParamsUpdated_=function(e){l.isDebug()&&console.log("DPDB reported that device params were updated."),this.deviceInfo_.updateDeviceParams(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_)},CardboardVRDisplay.prototype.updateBounds_=function(){this.layer_&&this.distorter_&&(this.layer_.leftBounds||this.layer_.rightBounds)&&this.distorter_.setTextureBounds(this.layer_.leftBounds,this.layer_.rightBounds)},CardboardVRDisplay.prototype.beginPresent_=function(){var e=this.layer_.source.getContext("webgl");e||(e=this.layer_.source.getContext("experimental-webgl")),e||(e=this.layer_.source.getContext("webgl2")),e&&(this.layer_.predistorted?WebVRConfig.CARDBOARD_UI_DISABLED||(e.canvas.width=l.getScreenWidth()*this.bufferScale_,e.canvas.height=l.getScreenHeight()*this.bufferScale_,this.cardboardUI_=new n(e)):(this.distorter_=new i(e),this.distorter_.updateDeviceInfo(this.deviceInfo_),this.cardboardUI_=this.distorter_.cardboardUI),this.cardboardUI_&&this.cardboardUI_.listen(function(e){this.viewerSelector_.show(this.layer_.source.parentElement),e.stopPropagation(),e.preventDefault()}.bind(this),function(e){this.exitPresent(),e.stopPropagation(),e.preventDefault()}.bind(this)),this.rotateInstructions_&&(l.isLandscapeMode()&&l.isMobile()?this.rotateInstructions_.showTemporarily(3e3,this.layer_.source.parentElement):this.rotateInstructions_.update()),this.orientationHandler=this.onOrientationChange_.bind(this),window.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.updateBounds_.bind(this),window.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.fireVRDisplayDeviceParamsChange_())},CardboardVRDisplay.prototype.endPresent_=function(){this.distorter_&&(this.distorter_.destroy(),this.distorter_=null),this.cardboardUI_&&(this.cardboardUI_.destroy(),this.cardboardUI_=null),this.rotateInstructions_&&this.rotateInstructions_.hide(),this.viewerSelector_.hide(),window.removeEventListener("orientationchange",this.orientationHandler),window.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},CardboardVRDisplay.prototype.submitFrame=function(e){if(this.distorter_)this.updateBounds_(),this.distorter_.submitFrame();else if(this.cardboardUI_&&this.layer_){var t=this.layer_.source.getContext("webgl").canvas;t.width==this.lastWidth&&t.height==this.lastHeight||this.cardboardUI_.onResize(),this.lastWidth=t.width,this.lastHeight=t.height,this.cardboardUI_.render()}},CardboardVRDisplay.prototype.onOrientationChange_=function(e){this.viewerSelector_.hide(),this.rotateInstructions_&&this.rotateInstructions_.update(),this.onResize_()},CardboardVRDisplay.prototype.onResize_=function(e){if(this.layer_){var t=this.layer_.source.getContext("webgl"),r=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0 10px 10px 0"];t.canvas.setAttribute("style",r.join("; ")+";"),l.safariCssSizeWorkaround(t.canvas)}},CardboardVRDisplay.prototype.onViewerChanged_=function(e){this.deviceInfo_.setViewer(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_),this.fireVRDisplayDeviceParamsChange_()},CardboardVRDisplay.prototype.fireVRDisplayDeviceParamsChange_=function(){var e=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.deviceInfo_}});window.dispatchEvent(e)},t.exports=CardboardVRDisplay},{"./base.js":3,"./cardboard-distorter.js":4,"./cardboard-ui.js":5,"./device-info.js":8,"./dpdb/dpdb.js":12,"./rotate-instructions.js":16,"./sensor-fusion/fusion-pose-sensor.js":18,"./util.js":22,"./viewer-selector.js":23}],7:[function(e,t,r){function WGLUPreserveGLState(e,t,r){if(!t)return void r(e);for(var i=[],n=null,a=0;a<t.length;++a){var s=t[a];switch(s){case e.TEXTURE_BINDING_2D:case e.TEXTURE_BINDING_CUBE_MAP:var o=t[++a];if(o<e.TEXTURE0||o>e.TEXTURE31){console.error("TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit"),i.push(null,null);break}n||(n=e.getParameter(e.ACTIVE_TEXTURE)),e.activeTexture(o),i.push(e.getParameter(s),null);break;case e.ACTIVE_TEXTURE:n=e.getParameter(e.ACTIVE_TEXTURE),i.push(null);break;default:i.push(e.getParameter(s))}}r(e);for(var a=0;a<t.length;++a){var s=t[a],u=i[a];switch(s){case e.ACTIVE_TEXTURE:break;case e.ARRAY_BUFFER_BINDING:e.bindBuffer(e.ARRAY_BUFFER,u);break;case e.COLOR_CLEAR_VALUE:e.clearColor(u[0],u[1],u[2],u[3]);break;case e.COLOR_WRITEMASK:e.colorMask(u[0],u[1],u[2],u[3]);break;case e.CURRENT_PROGRAM:e.useProgram(u);break;case e.ELEMENT_ARRAY_BUFFER_BINDING:e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,u);break;case e.FRAMEBUFFER_BINDING:e.bindFramebuffer(e.FRAMEBUFFER,u);break;case e.RENDERBUFFER_BINDING:e.bindRenderbuffer(e.RENDERBUFFER,u);break;case e.TEXTURE_BINDING_2D:var o=t[++a];if(o<e.TEXTURE0||o>e.TEXTURE31)break;e.activeTexture(o),e.bindTexture(e.TEXTURE_2D,u);break;case e.TEXTURE_BINDING_CUBE_MAP:var o=t[++a];if(o<e.TEXTURE0||o>e.TEXTURE31)break;e.activeTexture(o),e.bindTexture(e.TEXTURE_CUBE_MAP,u);break;case e.VIEWPORT:e.viewport(u[0],u[1],u[2],u[3]);break;case e.BLEND:case e.CULL_FACE:case e.DEPTH_TEST:case e.SCISSOR_TEST:case e.STENCIL_TEST:u?e.enable(s):e.disable(s);break;default:console.log("No GL restore behavior for 0x"+s.toString(16))}n&&e.activeTexture(n)}}t.exports=WGLUPreserveGLState},{}],8:[function(e,t,r){function Device(e){this.width=e.width||a.getScreenWidth(),this.height=e.height||a.getScreenHeight(),this.widthMeters=e.widthMeters,this.heightMeters=e.heightMeters,this.bevelMeters=e.bevelMeters}function DeviceInfo(e){this.viewer=u.CardboardV2,this.updateDeviceParams(e),this.distortion=new i(this.viewer.distortionCoefficients)}function CardboardViewer(e){this.id=e.id,this.label=e.label,this.fov=e.fov,this.interLensDistance=e.interLensDistance,this.baselineLensDistance=e.baselineLensDistance,this.screenLensDistance=e.screenLensDistance,this.distortionCoefficients=e.distortionCoefficients,this.inverseCoefficients=e.inverseCoefficients}var i=e("./distortion/distortion.js"),n=e("./math-util.js"),a=e("./util.js"),s=new Device({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),o=new Device({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),u={CardboardV1:new CardboardViewer({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new CardboardViewer({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};DeviceInfo.prototype.updateDeviceParams=function(e){this.device=this.determineDevice_(e)||this.device},DeviceInfo.prototype.getDevice=function(){return this.device},DeviceInfo.prototype.setViewer=function(e){this.viewer=e,this.distortion=new i(this.viewer.distortionCoefficients)},DeviceInfo.prototype.determineDevice_=function(e){if(!e)return a.isIOS()?(console.warn("Using fallback iOS device measurements."),o):(console.warn("Using fallback Android device measurements."),s);var t=.0254,r=t/e.xdpi,i=t/e.ydpi;return new Device({widthMeters:r*a.getScreenWidth(),heightMeters:i*a.getScreenHeight(),bevelMeters:.001*e.bevelMm})},DeviceInfo.prototype.getDistortedFieldOfViewLeftEye=function(){var e=this.viewer,t=this.device,r=this.distortion,i=e.screenLensDistance,a=(t.widthMeters-e.interLensDistance)/2,s=e.interLensDistance/2,o=e.baselineLensDistance-t.bevelMeters,u=t.heightMeters-o,c=n.radToDeg*Math.atan(r.distort(a/i)),M=n.radToDeg*Math.atan(r.distort(s/i)),l=n.radToDeg*Math.atan(r.distort(o/i)),f=n.radToDeg*Math.atan(r.distort(u/i));return{leftDegrees:Math.min(c,e.fov),rightDegrees:Math.min(M,e.fov),downDegrees:Math.min(l,e.fov),upDegrees:Math.min(f,e.fov)}},DeviceInfo.prototype.getLeftEyeVisibleTanAngles=function(){var e=this.viewer,t=this.device,r=this.distortion,i=Math.tan(-n.degToRad*e.fov),a=Math.tan(n.degToRad*e.fov),s=Math.tan(n.degToRad*e.fov),o=Math.tan(-n.degToRad*e.fov),u=t.widthMeters/4,c=t.heightMeters/2,M=e.baselineLensDistance-t.bevelMeters-c,l=e.interLensDistance/2-u,f=-M,A=e.screenLensDistance,g=r.distort((l-u)/A),d=r.distort((f+c)/A),D=r.distort((l+u)/A),p=r.distort((f-c)/A),N=new Float32Array(4);return N[0]=Math.max(i,g),N[1]=Math.min(a,d),N[2]=Math.min(s,D),N[3]=Math.max(o,p),N},DeviceInfo.prototype.getLeftEyeNoLensTanAngles=function(){var e=this.viewer,t=this.device,r=this.distortion,i=new Float32Array(4),a=r.distortInverse(Math.tan(-n.degToRad*e.fov)),s=r.distortInverse(Math.tan(n.degToRad*e.fov)),o=r.distortInverse(Math.tan(n.degToRad*e.fov)),u=r.distortInverse(Math.tan(-n.degToRad*e.fov)),c=t.widthMeters/4,M=t.heightMeters/2,l=e.baselineLensDistance-t.bevelMeters-M,f=e.interLensDistance/2-c,A=-l,g=e.screenLensDistance,d=(f-c)/g,D=(A+M)/g,p=(f+c)/g,N=(A-M)/g;return i[0]=Math.max(a,d),i[1]=Math.min(s,D),i[2]=Math.min(o,p),i[3]=Math.max(u,N),i},DeviceInfo.prototype.getLeftEyeVisibleScreenRect=function(e){var t=this.viewer,r=this.device,i=t.screenLensDistance,n=(r.widthMeters-t.interLensDistance)/2,a=t.baselineLensDistance-r.bevelMeters,s=(e[0]*i+n)/r.widthMeters,o=(e[1]*i+a)/r.heightMeters,u=(e[2]*i+n)/r.widthMeters,c=(e[3]*i+a)/r.heightMeters;return{x:s,y:c,width:u-s,height:o-c}},DeviceInfo.prototype.getFieldOfViewLeftEye=function(e){return e?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},DeviceInfo.prototype.getFieldOfViewRightEye=function(e){var t=this.getFieldOfViewLeftEye(e);return{leftDegrees:t.rightDegrees,rightDegrees:t.leftDegrees,upDegrees:t.upDegrees,downDegrees:t.downDegrees}},DeviceInfo.prototype.getUndistortedFieldOfViewLeftEye=function(){var e=this.getUndistortedParams_();return{leftDegrees:n.radToDeg*Math.atan(e.outerDist),rightDegrees:n.radToDeg*Math.atan(e.innerDist),downDegrees:n.radToDeg*Math.atan(e.bottomDist),upDegrees:n.radToDeg*Math.atan(e.topDist)}},DeviceInfo.prototype.getUndistortedViewportLeftEye=function(){var e=this.getUndistortedParams_(),t=this.viewer,r=this.device,i=t.screenLensDistance,n=r.widthMeters/i,a=r.heightMeters/i,s=r.width/n,o=r.height/a,u=Math.round((e.eyePosX-e.outerDist)*s),c=Math.round((e.eyePosY-e.bottomDist)*o);return{x:u,y:c,width:Math.round((e.eyePosX+e.innerDist)*s)-u,height:Math.round((e.eyePosY+e.topDist)*o)-c}},DeviceInfo.prototype.getUndistortedParams_=function(){var e=this.viewer,t=this.device,r=this.distortion,i=e.screenLensDistance,a=e.interLensDistance/2/i,s=t.widthMeters/i,o=t.heightMeters/i,u=s/2-a,c=(e.baselineLensDistance-t.bevelMeters)/i,M=e.fov,l=r.distortInverse(Math.tan(n.degToRad*M)),f=Math.min(u,l),A=Math.min(a,l),g=Math.min(c,l);return{outerDist:f,innerDist:A,topDist:Math.min(o-c,l),bottomDist:g,eyePosX:u,eyePosY:c}},DeviceInfo.Viewers=u,t.exports=DeviceInfo},{"./distortion/distortion.js":10,"./math-util.js":14,"./util.js":22}],9:[function(e,t,r){function VRDisplayHMDDevice(e){this.display=e,this.hardwareUnitId=e.displayId,this.deviceId="webvr-polyfill:HMD:"+e.displayId,this.deviceName=e.displayName+" (HMD)"}function VRDisplayPositionSensorDevice(e){this.display=e,this.hardwareUnitId=e.displayId,this.deviceId="webvr-polyfill:PositionSensor: "+e.displayId,this.deviceName=e.displayName+" (PositionSensor)"}var i=(e("./base.js").VRDisplay,e("./base.js").HMDVRDevice),n=e("./base.js").PositionSensorVRDevice;VRDisplayHMDDevice.prototype=new i,VRDisplayHMDDevice.prototype.getEyeParameters=function(e){var t=this.display.getEyeParameters(e);return{currentFieldOfView:t.fieldOfView,maximumFieldOfView:t.fieldOfView,minimumFieldOfView:t.fieldOfView,recommendedFieldOfView:t.fieldOfView,eyeTranslation:{x:t.offset[0],y:t.offset[1],z:t.offset[2]},renderRect:{x:"right"==e?t.renderWidth:0,y:0,width:t.renderWidth,height:t.renderHeight}}},VRDisplayHMDDevice.prototype.setFieldOfView=function(e,t,r,i){},VRDisplayPositionSensorDevice.prototype=new n,VRDisplayPositionSensorDevice.prototype.getState=function(){var e=this.display.getPose();return{position:e.position?{x:e.position[0],y:e.position[1],z:e.position[2]}:null,orientation:e.orientation?{x:e.orientation[0],y:e.orientation[1],z:e.orientation[2],w:e.orientation[3]}:null,linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},VRDisplayPositionSensorDevice.prototype.resetState=function(){return this.positionDevice.resetPose()},t.exports.VRDisplayHMDDevice=VRDisplayHMDDevice,t.exports.VRDisplayPositionSensorDevice=VRDisplayPositionSensorDevice},{"./base.js":3}],10:[function(e,t,r){function Distortion(e){this.coefficients=e}Distortion.prototype.distortInverse=function(e){for(var t=0,r=1,i=e-this.distort(t);Math.abs(r-t)>1e-4;){var n=e-this.distort(r),a=r-n*((r-t)/(n-i));t=r,r=a,i=n}return r},Distortion.prototype.distort=function(e){for(var t=e*e,r=0,i=0;i<this.coefficients.length;i++)r=t*(r+this.coefficients[i]);return(r+1)*e},Distortion.prototype.solveLinear_=function(e,t){for(var r=e.length,i=0;i<r-1;++i)for(var n=i+1;n<r;++n){for(var a=e[i][n]/e[i][i],s=i+1;s<r;++s)e[s][n]-=a*e[s][i];t[n]-=a*t[i]}for(var o=new Array(r),i=r-1;i>=0;--i){for(var u=t[i],s=i+1;s<r;++s)u-=e[s][i]*o[s];o[i]=u/e[i][i]}return o},Distortion.prototype.solveLeastSquares_=function(e,t){var r,i,n,a,s=e.length,o=e[0].length;if(s!=t.Length)throw new Error("Matrix / vector dimension mismatch");var u=new Array(o);for(n=0;n<o;++n)for(u[n]=new Array(o),i=0;i<o;++i){for(a=0,r=0;r<s;++r)a+=e[i][r]*e[n][r];u[n][i]=a}var c=new Array(o);for(i=0;i<o;++i){for(a=0,r=0;r<s;++r)a+=e[i][r]*t[r];c[i]=a}return this.solveLinear_(u,c)},Distortion.prototype.approximateInverse=function(e,t){e=e||1,t=t||100;var r,i,n=6,a=new Array(n);for(i=0;i<n;++i)a[i]=new Array(t);var s=new Array(t);for(r=0;r<t;++r){var o=e*(r+1)/t,u=this.distort(o),c=u;for(i=0;i<n;++i)c*=u*u,a[i][r]=c;s[r]=o-u}return new Distortion(this.solveLeastSquares_(a,s))},t.exports=Distortion},{}],11:[function(e,t,r){var i={format:1,last_updated:"2016-01-20T00:18:35Z",devices:[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google//Pixel XL/"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google//Pixel/"},{ua:"Pixel"}],dpi:[432.6,436.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 "}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 "}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920W8/*"},{ua:"SM-N920W8"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:534,bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3}]};t.exports=i},{}],12:[function(e,t,r){function Dpdb(e,t){if(this.dpdb=i,this.recalculateDeviceParams_(),e){this.onDeviceParamsUpdated=t;var r=new XMLHttpRequest,n=this;r.open("GET",a,!0),r.addEventListener("load",function(){n.loading=!1,r.status>=200&&r.status<=299?(n.dpdb=JSON.parse(r.response),n.recalculateDeviceParams_()):console.error("Error loading online DPDB!")}),r.send()}}function DeviceParams(e){this.xdpi=e.xdpi,this.ydpi=e.ydpi,this.bevelMm=e.bevelMm}var i=e("./dpdb-cache.js"),n=e("../util.js"),a="https://storage.googleapis.com/cardboard-dpdb/dpdb.json";Dpdb.prototype.getDeviceParams=function(){return this.deviceParams},Dpdb.prototype.recalculateDeviceParams_=function(){var e=this.calcDeviceParams_();e?(this.deviceParams=e,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error("Failed to recalculate device parameters.")},Dpdb.prototype.calcDeviceParams_=function(){var e=this.dpdb;if(!e)return console.error("DPDB not available."),null;if(1!=e.format)return console.error("DPDB has unexpected format version."),null;if(!e.devices||!e.devices.length)return console.error("DPDB does not have a devices section."),null;var t=navigator.userAgent||navigator.vendor||window.opera,r=n.getScreenWidth(),i=n.getScreenHeight();if(!e.devices)return console.error("DPDB has no devices section."),null;for(var a=0;a<e.devices.length;a++){var s=e.devices[a];if(s.rules)if("ios"==s.type||"android"==s.type){if(n.isIOS()==("ios"==s.type)){for(var o=!1,u=0;u<s.rules.length;u++){var c=s.rules[u];if(this.matchRule_(c,t,r,i)){o=!0;break}}if(o){var M=s.dpi[0]||s.dpi,l=s.dpi[1]||s.dpi;return new DeviceParams({xdpi:M,ydpi:l,bevelMm:s.bw})}}}else console.warn("Device["+a+"] has invalid type.");else console.warn("Device["+a+"] has no rules section.")}return console.warn("No DPDB device match."),null},Dpdb.prototype.matchRule_=function(e,t,r,i){if(!e.ua&&!e.res)return!1;if(e.ua&&t.indexOf(e.ua)<0)return!1;if(e.res){if(!e.res[0]||!e.res[1])return!1;var n=e.res[0],a=e.res[1];if(Math.min(r,i)!=Math.min(n,a)||Math.max(r,i)!=Math.max(n,a))return!1}return!0},t.exports=Dpdb},{"../util.js":22,"./dpdb-cache.js":11}],13:[function(e,t,r){var i=e("./util.js"),n=e("./webvr-polyfill.js").WebVRPolyfill;window.WebVRConfig=i.extend({FORCE_ENABLE_VR:!1,K_FILTER:.98,PREDICTION_TIME_S:.04,TOUCH_PANNER_DISABLED:!0,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,MOUSE_KEYBOARD_CONTROLS_DISABLED:!1,DEFER_INITIALIZATION:!1,ENABLE_DEPRECATED_API:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1,ALWAYS_APPEND_POLYFILL_DISPLAY:!1},window.WebVRConfig),window.WebVRConfig.DEFER_INITIALIZATION?window.InitializeWebVRPolyfill=function(){new n}:new n},{"./util.js":22,"./webvr-polyfill.js":25}],14:[function(e,t,r){var i=window.MathUtil||{};i.degToRad=Math.PI/180,i.radToDeg=180/Math.PI,i.Vector2=function(e,t){this.x=e||0,this.y=t||0},i.Vector2.prototype={constructor:i.Vector2,set:function(e,t){return this.x=e,this.y=t,this},copy:function(e){return this.x=e.x,this.y=e.y,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},i.Vector3=function(e,t,r){this.x=e||0,this.y=t||0,this.z=r||0},i.Vector3.prototype={constructor:i.Vector3,set:function(e,t,r){return this.x=e,this.y=t,this.z=r,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var e=this.length();if(0!==e){var t=1/e;this.multiplyScalar(t)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(e){this.x*=e,this.y*=e,this.z*=e},applyQuaternion:function(e){var t=this.x,r=this.y,i=this.z,n=e.x,a=e.y,s=e.z,o=e.w,u=o*t+a*i-s*r,c=o*r+s*t-n*i,M=o*i+n*r-a*t,l=-n*t-a*r-s*i;return this.x=u*o+l*-n+c*-s-M*-a,this.y=c*o+l*-a+M*-n-u*-s,this.z=M*o+l*-s+u*-a-c*-n,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},crossVectors:function(e,t){var r=e.x,i=e.y,n=e.z,a=t.x,s=t.y,o=t.z;return this.x=i*o-n*s,this.y=n*a-r*o,this.z=r*s-i*a,this}},i.Quaternion=function(e,t,r,i){this.x=e||0,this.y=t||0,this.z=r||0,this.w=void 0!==i?i:1},i.Quaternion.prototype={constructor:i.Quaternion,set:function(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},setFromEulerXYZ:function(e,t,r){var i=Math.cos(e/2),n=Math.cos(t/2),a=Math.cos(r/2),s=Math.sin(e/2),o=Math.sin(t/2),u=Math.sin(r/2);return this.x=s*n*a+i*o*u,this.y=i*o*a-s*n*u,this.z=i*n*u+s*o*a,this.w=i*n*a-s*o*u,this},setFromEulerYXZ:function(e,t,r){var i=Math.cos(e/2),n=Math.cos(t/2),a=Math.cos(r/2),s=Math.sin(e/2),o=Math.sin(t/2),u=Math.sin(r/2);return this.x=s*n*a+i*o*u,this.y=i*o*a-s*n*u,this.z=i*n*u-s*o*a,this.w=i*n*a+s*o*u,this},setFromAxisAngle:function(e,t){var r=t/2,i=Math.sin(r);return this.x=e.x*i,this.y=e.y*i,this.z=e.z*i,this.w=Math.cos(r),this},multiply:function(e){return this.multiplyQuaternions(this,e)},multiplyQuaternions:function(e,t){var r=e.x,i=e.y,n=e.z,a=e.w,s=t.x,o=t.y,u=t.z,c=t.w;return this.x=r*c+a*s+i*u-n*o,this.y=i*c+a*o+n*s-r*u,this.z=n*c+a*u+r*o-i*s,this.w=a*c-r*s-i*o-n*u,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===e?(this.x=0,this.y=0,this.z=0,this.w=1):(e=1/e,this.x=this.x*e,this.y=this.y*e,this.z=this.z*e,this.w=this.w*e),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var r=this.x,i=this.y,n=this.z,a=this.w,s=a*e.w+r*e.x+i*e.y+n*e.z;if(s<0?(this.w=-e.w,this.x=-e.x,this.y=-e.y,this.z=-e.z,s=-s):this.copy(e),s>=1)return this.w=a,this.x=r,this.y=i,this.z=n,this;var o=Math.acos(s),u=Math.sqrt(1-s*s);if(Math.abs(u)<.001)return this.w=.5*(a+this.w),this.x=.5*(r+this.x),this.y=.5*(i+this.y),this.z=.5*(n+this.z),this;var c=Math.sin((1-t)*o)/u,M=Math.sin(t*o)/u;return this.w=a*c+this.w*M,this.x=r*c+this.x*M,this.y=i*c+this.y*M,this.z=n*c+this.z*M,this},setFromUnitVectors:function(){var e,t;return function(r,n){return void 0===e&&(e=new i.Vector3),t=r.dot(n)+1,t<1e-6?(t=0,Math.abs(r.x)>Math.abs(r.z)?e.set(-r.y,r.x,0):e.set(0,-r.z,r.y)):e.crossVectors(r,n),this.x=e.x,this.y=e.y,this.z=e.z,this.w=t,this.normalize(),this}}()},t.exports=i},{}],15:[function(e,t,r){function MouseKeyboardVRDisplay(){this.displayName="Mouse and Keyboard VRDisplay (webvr-polyfill)",this.capabilities.hasOrientation=!0,window.addEventListener("keydown",this.onKeyDown_.bind(this)),window.addEventListener("mousemove",this.onMouseMove_.bind(this)),window.addEventListener("mousedown",this.onMouseDown_.bind(this)),window.addEventListener("mouseup",this.onMouseUp_.bind(this)),this.phi_=0,this.theta_=0,this.targetAngle_=null,this.angleAnimation_=null,this.orientation_=new n.Quaternion,this.rotateStart_=new n.Vector2,this.rotateEnd_=new n.Vector2,this.rotateDelta_=new n.Vector2,this.isDragging_=!1,this.orientationOut_=new Float32Array(4)}var i=e("./base.js").VRDisplay,n=e("./math-util.js"),a=e("./util.js"),s=.15,o=80;MouseKeyboardVRDisplay.prototype=new i,MouseKeyboardVRDisplay.prototype.getImmediatePose=function(){return this.orientation_.setFromEulerYXZ(this.phi_,this.theta_,0),this.orientationOut_[0]=this.orientation_.x,this.orientationOut_[1]=this.orientation_.y,this.orientationOut_[2]=this.orientation_.z,this.orientationOut_[3]=this.orientation_.w,{position:null,orientation:this.orientationOut_,linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},MouseKeyboardVRDisplay.prototype.onKeyDown_=function(e){38==e.keyCode?this.animatePhi_(this.phi_+s):39==e.keyCode?this.animateTheta_(this.theta_-s):40==e.keyCode?this.animatePhi_(this.phi_-s):37==e.keyCode&&this.animateTheta_(this.theta_+s)},MouseKeyboardVRDisplay.prototype.animateTheta_=function(e){this.animateKeyTransitions_("theta_",e)},MouseKeyboardVRDisplay.prototype.animatePhi_=function(e){e=a.clamp(e,-Math.PI/2,Math.PI/2),this.animateKeyTransitions_("phi_",e)},MouseKeyboardVRDisplay.prototype.animateKeyTransitions_=function(e,t){this.angleAnimation_&&cancelAnimationFrame(this.angleAnimation_);var r=this[e],i=new Date;this.angleAnimation_=requestAnimationFrame(function animate(){var n=new Date-i;if(n>=o)return this[e]=t,void cancelAnimationFrame(this.angleAnimation_);this.angleAnimation_=requestAnimationFrame(animate.bind(this));var a=n/o;this[e]=r+(t-r)*a}.bind(this))},MouseKeyboardVRDisplay.prototype.onMouseDown_=function(e){this.rotateStart_.set(e.clientX,e.clientY),this.isDragging_=!0},MouseKeyboardVRDisplay.prototype.onMouseMove_=function(e){if(this.isDragging_||this.isPointerLocked_()){if(this.isPointerLocked_()){var t=e.movementX||e.mozMovementX||0,r=e.movementY||e.mozMovementY||0;this.rotateEnd_.set(this.rotateStart_.x-t,this.rotateStart_.y-r)}else this.rotateEnd_.set(e.clientX,e.clientY);this.rotateDelta_.subVectors(this.rotateEnd_,this.rotateStart_),this.rotateStart_.copy(this.rotateEnd_),this.phi_+=2*Math.PI*this.rotateDelta_.y/screen.height*.3,this.theta_+=2*Math.PI*this.rotateDelta_.x/screen.width*.5,this.phi_=a.clamp(this.phi_,-Math.PI/2,Math.PI/2)}},MouseKeyboardVRDisplay.prototype.onMouseUp_=function(e){this.isDragging_=!1},MouseKeyboardVRDisplay.prototype.isPointerLocked_=function(){return void 0!==(document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement)},MouseKeyboardVRDisplay.prototype.resetPose=function(){this.phi_=0,this.theta_=0},t.exports=MouseKeyboardVRDisplay},{"./base.js":3,"./math-util.js":14,"./util.js":22}],16:[function(e,t,r){function RotateInstructions(){this.loadIcon_();var e=document.createElement("div"),t=e.style;t.position="fixed",t.top=0,t.right=0,t.bottom=0,t.left=0,t.backgroundColor="gray",t.fontFamily="sans-serif",t.zIndex=1e6;var r=document.createElement("img");r.src=this.icon;var t=r.style;t.marginLeft="25%",t.marginTop="25%",t.width="50%",e.appendChild(r);var i=document.createElement("div"),t=i.style;t.textAlign="center",t.fontSize="16px",t.lineHeight="24px",t.margin="24px 25%",t.width="50%",i.innerHTML="Place your phone into your Cardboard viewer.",e.appendChild(i);var n=document.createElement("div"),t=n.style;t.backgroundColor="#CFD8DC",t.position="fixed",t.bottom=0,t.width="100%",t.height="48px",t.padding="14px 24px",t.boxSizing="border-box",t.color="#656A6B",e.appendChild(n);var a=document.createElement("div");a.style.float="left",a.innerHTML="No Cardboard viewer?";var s=document.createElement("a");s.href="https://www.google.com/get/cardboard/get-cardboard/",s.innerHTML="get one",s.target="_blank";var t=s.style;t.float="right",t.fontWeight=600,t.textTransform="uppercase",t.borderLeft="1px solid gray",t.paddingLeft="24px",t.textDecoration="none",t.color="#656A6B",n.appendChild(a),n.appendChild(s),this.overlay=e,this.text=i,this.hide()}var i=e("./util.js");RotateInstructions.prototype.show=function(e){e||this.overlay.parentElement?e&&(this.overlay.parentElement&&this.overlay.parentElement!=e&&this.overlay.parentElement.removeChild(this.overlay),e.appendChild(this.overlay)):document.body.appendChild(this.overlay),this.overlay.style.display="block";var t=this.overlay.querySelector("img"),r=t.style;i.isLandscapeMode()?(r.width="20%",r.marginLeft="40%",r.marginTop="3%"):(r.width="50%",r.marginLeft="25%",r.marginTop="25%")},RotateInstructions.prototype.hide=function(){this.overlay.style.display="none"},RotateInstructions.prototype.showTemporarily=function(e,t){this.show(t),this.timer=setTimeout(this.hide.bind(this),e)},RotateInstructions.prototype.disableShowTemporarily=function(){clearTimeout(this.timer)},RotateInstructions.prototype.update=function(){this.disableShowTemporarily(),!i.isLandscapeMode()&&i.isMobile()?this.show():this.hide()},RotateInstructions.prototype.loadIcon_=function(){this.icon=i.base64("image/svg+xml","PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE5OHB4IiBoZWlnaHQ9IjI0MHB4IiB2aWV3Qm94PSIwIDAgMTk4IDI0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDMuMy4zICgxMjA4MSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+dHJhbnNpdGlvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHNrZXRjaDp0eXBlPSJNU1BhZ2UiPgogICAgICAgIDxnIGlkPSJ0cmFuc2l0aW9uIiBza2V0Y2g6dHlwZT0iTVNBcnRib2FyZEdyb3VwIj4KICAgICAgICAgICAgPGcgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTQtKy1JbXBvcnRlZC1MYXllcnMtQ29weS0rLUltcG9ydGVkLUxheWVycy1Db3B5LTItQ29weSIgc2tldGNoOnR5cGU9Ik1TTGF5ZXJHcm91cCI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHktNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEwNy4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjYyNSwyLjUyNyBDMTQ5LjYyNSwyLjUyNyAxNTUuODA1LDYuMDk2IDE1Ni4zNjIsNi40MTggTDE1Ni4zNjIsNy4zMDQgQzE1Ni4zNjIsNy40ODEgMTU2LjM3NSw3LjY2NCAxNTYuNCw3Ljg1MyBDMTU2LjQxLDcuOTM0IDE1Ni40Miw4LjAxNSAxNTYuNDI3LDguMDk1IEMxNTYuNTY3LDkuNTEgMTU3LjQwMSwxMS4wOTMgMTU4LjUzMiwxMi4wOTQgTDE2NC4yNTIsMTcuMTU2IEwxNjQuMzMzLDE3LjA2NiBDMTY0LjMzMywxNy4wNjYgMTY4LjcxNSwxNC41MzYgMTY5LjU2OCwxNC4wNDIgQzE3MS4wMjUsMTQuODgzIDE5NS41MzgsMjkuMDM1IDE5NS41MzgsMjkuMDM1IEwxOTUuNTM4LDgzLjAzNiBDMTk1LjUzOCw4My44MDcgMTk1LjE1Miw4NC4yNTMgMTk0LjU5LDg0LjI1MyBDMTk0LjM1Nyw4NC4yNTMgMTk0LjA5NSw4NC4xNzcgMTkzLjgxOCw4NC4wMTcgTDE2OS44NTEsNzAuMTc5IEwxNjkuODM3LDcwLjIwMyBMMTQyLjUxNSw4NS45NzggTDE0MS42NjUsODQuNjU1IEMxMzYuOTM0LDgzLjEyNiAxMzEuOTE3LDgxLjkxNSAxMjYuNzE0LDgxLjA0NSBDMTI2LjcwOSw4MS4wNiAxMjYuNzA3LDgxLjA2OSAxMjYuNzA3LDgxLjA2OSBMMTIxLjY0LDk4LjAzIEwxMTMuNzQ5LDEwMi41ODYgTDExMy43MTIsMTAyLjUyMyBMMTEzLjcxMiwxMzAuMTEzIEMxMTMuNzEyLDEzMC44ODUgMTEzLjMyNiwxMzEuMzMgMTEyLjc2NCwxMzEuMzMgQzExMi41MzIsMTMxLjMzIDExMi4yNjksMTMxLjI1NCAxMTEuOTkyLDEzMS4wOTQgTDY5LjUxOSwxMDYuNTcyIEM2OC41NjksMTA2LjAyMyA2Ny43OTksMTA0LjY5NSA2Ny43OTksMTAzLjYwNSBMNjcuNzk5LDEwMi41NyBMNjcuNzc4LDEwMi42MTcgQzY3LjI3LDEwMi4zOTMgNjYuNjQ4LDEwMi4yNDkgNjUuOTYyLDEwMi4yMTggQzY1Ljg3NSwxMDIuMjE0IDY1Ljc4OCwxMDIuMjEyIDY1LjcwMSwxMDIuMjEyIEM2NS42MDYsMTAyLjIxMiA2NS41MTEsMTAyLjIxNSA2NS40MTYsMTAyLjIxOSBDNjUuMTk1LDEwMi4yMjkgNjQuOTc0LDEwMi4yMzUgNjQuNzU0LDEwMi4yMzUgQzY0LjMzMSwxMDIuMjM1IDYzLjkxMSwxMDIuMjE2IDYzLjQ5OCwxMDIuMTc4IEM2MS44NDMsMTAyLjAyNSA2MC4yOTgsMTAxLjU3OCA1OS4wOTQsMTAwLjg4MiBMMTIuNTE4LDczLjk5MiBMMTIuNTIzLDc0LjAwNCBMMi4yNDUsNTUuMjU0IEMxLjI0NCw1My40MjcgMi4wMDQsNTEuMDM4IDMuOTQzLDQ5LjkxOCBMNTkuOTU0LDE3LjU3MyBDNjAuNjI2LDE3LjE4NSA2MS4zNSwxNy4wMDEgNjIuMDUzLDE3LjAwMSBDNjMuMzc5LDE3LjAwMSA2NC42MjUsMTcuNjYgNjUuMjgsMTguODU0IEw2NS4yODUsMTguODUxIEw2NS41MTIsMTkuMjY0IEw2NS41MDYsMTkuMjY4IEM2NS45MDksMjAuMDAzIDY2LjQwNSwyMC42OCA2Ni45ODMsMjEuMjg2IEw2Ny4yNiwyMS41NTYgQzY5LjE3NCwyMy40MDYgNzEuNzI4LDI0LjM1NyA3NC4zNzMsMjQuMzU3IEM3Ni4zMjIsMjQuMzU3IDc4LjMyMSwyMy44NCA4MC4xNDgsMjIuNzg1IEM4MC4xNjEsMjIuNzg1IDg3LjQ2NywxOC41NjYgODcuNDY3LDE4LjU2NiBDODguMTM5LDE4LjE3OCA4OC44NjMsMTcuOTk0IDg5LjU2NiwxNy45OTQgQzkwLjg5MiwxNy45OTQgOTIuMTM4LDE4LjY1MiA5Mi43OTIsMTkuODQ3IEw5Ni4wNDIsMjUuNzc1IEw5Ni4wNjQsMjUuNzU3IEwxMDIuODQ5LDI5LjY3NCBMMTAyLjc0NCwyOS40OTIgTDE0OS42MjUsMi41MjcgTTE0OS42MjUsMC44OTIgQzE0OS4zNDMsMC44OTIgMTQ5LjA2MiwwLjk2NSAxNDguODEsMS4xMSBMMTAyLjY0MSwyNy42NjYgTDk3LjIzMSwyNC41NDIgTDk0LjIyNiwxOS4wNjEgQzkzLjMxMywxNy4zOTQgOTEuNTI3LDE2LjM1OSA4OS41NjYsMTYuMzU4IEM4OC41NTUsMTYuMzU4IDg3LjU0NiwxNi42MzIgODYuNjQ5LDE3LjE1IEM4My44NzgsMTguNzUgNzkuNjg3LDIxLjE2OSA3OS4zNzQsMjEuMzQ1IEM3OS4zNTksMjEuMzUzIDc5LjM0NSwyMS4zNjEgNzkuMzMsMjEuMzY5IEM3Ny43OTgsMjIuMjU0IDc2LjA4NCwyMi43MjIgNzQuMzczLDIyLjcyMiBDNzIuMDgxLDIyLjcyMiA2OS45NTksMjEuODkgNjguMzk3LDIwLjM4IEw2OC4xNDUsMjAuMTM1IEM2Ny43MDYsMTkuNjcyIDY3LjMyMywxOS4xNTYgNjcuMDA2LDE4LjYwMSBDNjYuOTg4LDE4LjU1OSA2Ni45NjgsMTguNTE5IDY2Ljk0NiwxOC40NzkgTDY2LjcxOSwxOC4wNjUgQzY2LjY5LDE4LjAxMiA2Ni42NTgsMTcuOTYgNjYuNjI0LDE3LjkxMSBDNjUuNjg2LDE2LjMzNyA2My45NTEsMTUuMzY2IDYyLjA1MywxNS4zNjYgQzYxLjA0MiwxNS4zNjYgNjAuMDMzLDE1LjY0IDU5LjEzNiwxNi4xNTggTDMuMTI1LDQ4LjUwMiBDMC40MjYsNTAuMDYxIC0wLjYxMyw1My40NDIgMC44MTEsNTYuMDQgTDExLjA4OSw3NC43OSBDMTEuMjY2LDc1LjExMyAxMS41MzcsNzUuMzUzIDExLjg1LDc1LjQ5NCBMNTguMjc2LDEwMi4yOTggQzU5LjY3OSwxMDMuMTA4IDYxLjQzMywxMDMuNjMgNjMuMzQ4LDEwMy44MDYgQzYzLjgxMiwxMDMuODQ4IDY0LjI4NSwxMDMuODcgNjQuNzU0LDEwMy44NyBDNjUsMTAzLjg3IDY1LjI0OSwxMDMuODY0IDY1LjQ5NCwxMDMuODUyIEM2NS41NjMsMTAzLjg0OSA2NS42MzIsMTAzLjg0NyA2NS43MDEsMTAzLjg0NyBDNjUuNzY0LDEwMy44NDcgNjUuODI4LDEwMy44NDkgNjUuODksMTAzLjg1MiBDNjUuOTg2LDEwMy44NTYgNjYuMDgsMTAzLjg2MyA2Ni4xNzMsMTAzLjg3NCBDNjYuMjgyLDEwNS40NjcgNjcuMzMyLDEwNy4xOTcgNjguNzAyLDEwNy45ODggTDExMS4xNzQsMTMyLjUxIEMxMTEuNjk4LDEzMi44MTIgMTEyLjIzMiwxMzIuOTY1IDExMi43NjQsMTMyLjk2NSBDMTE0LjI2MSwxMzIuOTY1IDExNS4zNDcsMTMxLjc2NSAxMTUuMzQ3LDEzMC4xMTMgTDExNS4zNDcsMTAzLjU1MSBMMTIyLjQ1OCw5OS40NDYgQzEyMi44MTksOTkuMjM3IDEyMy4wODcsOTguODk4IDEyMy4yMDcsOTguNDk4IEwxMjcuODY1LDgyLjkwNSBDMTMyLjI3OSw4My43MDIgMTM2LjU1Nyw4NC43NTMgMTQwLjYwNyw4Ni4wMzMgTDE0MS4xNCw4Ni44NjIgQzE0MS40NTEsODcuMzQ2IDE0MS45NzcsODcuNjEzIDE0Mi41MTYsODcuNjEzIEMxNDIuNzk0LDg3LjYxMyAxNDMuMDc2LDg3LjU0MiAxNDMuMzMzLDg3LjM5MyBMMTY5Ljg2NSw3Mi4wNzYgTDE5Myw4NS40MzMgQzE5My41MjMsODUuNzM1IDE5NC4wNTgsODUuODg4IDE5NC41OSw4NS44ODggQzE5Ni4wODcsODUuODg4IDE5Ny4xNzMsODQuNjg5IDE5Ny4xNzMsODMuMDM2IEwxOTcuMTczLDI5LjAzNSBDMTk3LjE3MywyOC40NTEgMTk2Ljg2MSwyNy45MTEgMTk2LjM1NSwyNy42MTkgQzE5Ni4zNTUsMjcuNjE5IDE3MS44NDMsMTMuNDY3IDE3MC4zODUsMTIuNjI2IEMxNzAuMTMyLDEyLjQ4IDE2OS44NSwxMi40MDcgMTY5LjU2OCwxMi40MDcgQzE2OS4yODUsMTIuNDA3IDE2OS4wMDIsMTIuNDgxIDE2OC43NDksMTIuNjI3IEMxNjguMTQzLDEyLjk3OCAxNjUuNzU2LDE0LjM1NyAxNjQuNDI0LDE1LjEyNSBMMTU5LjYxNSwxMC44NyBDMTU4Ljc5NiwxMC4xNDUgMTU4LjE1NCw4LjkzNyAxNTguMDU0LDcuOTM0IEMxNTguMDQ1LDcuODM3IDE1OC4wMzQsNy43MzkgMTU4LjAyMSw3LjY0IEMxNTguMDA1LDcuNTIzIDE1Ny45OTgsNy40MSAxNTcuOTk4LDcuMzA0IEwxNTcuOTk4LDYuNDE4IEMxNTcuOTk4LDUuODM0IDE1Ny42ODYsNS4yOTUgMTU3LjE4MSw1LjAwMiBDMTU2LjYyNCw0LjY4IDE1MC40NDIsMS4xMTEgMTUwLjQ0MiwxLjExMSBDMTUwLjE4OSwwLjk2NSAxNDkuOTA3LDAuODkyIDE0OS42MjUsMC44OTIiIGlkPSJGaWxsLTEiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTYuMDI3LDI1LjYzNiBMMTQyLjYwMyw1Mi41MjcgQzE0My44MDcsNTMuMjIyIDE0NC41ODIsNTQuMTE0IDE0NC44NDUsNTUuMDY4IEwxNDQuODM1LDU1LjA3NSBMNjMuNDYxLDEwMi4wNTcgTDYzLjQ2LDEwMi4wNTcgQzYxLjgwNiwxMDEuOTA1IDYwLjI2MSwxMDEuNDU3IDU5LjA1NywxMDAuNzYyIEwxMi40ODEsNzMuODcxIEw5Ni4wMjcsMjUuNjM2IiBpZD0iRmlsbC0yIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYzLjQ2MSwxMDIuMTc0IEM2My40NTMsMTAyLjE3NCA2My40NDYsMTAyLjE3NCA2My40MzksMTAyLjE3MiBDNjEuNzQ2LDEwMi4wMTYgNjAuMjExLDEwMS41NjMgNTguOTk4LDEwMC44NjMgTDEyLjQyMiw3My45NzMgQzEyLjM4Niw3My45NTIgMTIuMzY0LDczLjkxNCAxMi4zNjQsNzMuODcxIEMxMi4zNjQsNzMuODMgMTIuMzg2LDczLjc5MSAxMi40MjIsNzMuNzcgTDk1Ljk2OCwyNS41MzUgQzk2LjAwNCwyNS41MTQgOTYuMDQ5LDI1LjUxNCA5Ni4wODUsMjUuNTM1IEwxNDIuNjYxLDUyLjQyNiBDMTQzLjg4OCw1My4xMzQgMTQ0LjY4Miw1NC4wMzggMTQ0Ljk1Nyw1NS4wMzcgQzE0NC45Nyw1NS4wODMgMTQ0Ljk1Myw1NS4xMzMgMTQ0LjkxNSw1NS4xNjEgQzE0NC45MTEsNTUuMTY1IDE0NC44OTgsNTUuMTc0IDE0NC44OTQsNTUuMTc3IEw2My41MTksMTAyLjE1OCBDNjMuNTAxLDEwMi4xNjkgNjMuNDgxLDEwMi4xNzQgNjMuNDYxLDEwMi4xNzQgTDYzLjQ2MSwxMDIuMTc0IFogTTEyLjcxNCw3My44NzEgTDU5LjExNSwxMDAuNjYxIEM2MC4yOTMsMTAxLjM0MSA2MS43ODYsMTAxLjc4MiA2My40MzUsMTAxLjkzNyBMMTQ0LjcwNyw1NS4wMTUgQzE0NC40MjgsNTQuMTA4IDE0My42ODIsNTMuMjg1IDE0Mi41NDQsNTIuNjI4IEw5Ni4wMjcsMjUuNzcxIEwxMi43MTQsNzMuODcxIEwxMi43MTQsNzMuODcxIFoiIGlkPSJGaWxsLTMiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ4LjMyNyw1OC40NzEgQzE0OC4xNDUsNTguNDggMTQ3Ljk2Miw1OC40OCAxNDcuNzgxLDU4LjQ3MiBDMTQ1Ljg4Nyw1OC4zODkgMTQ0LjQ3OSw1Ny40MzQgMTQ0LjYzNiw1Ni4zNCBDMTQ0LjY4OSw1NS45NjcgMTQ0LjY2NCw1NS41OTcgMTQ0LjU2NCw1NS4yMzUgTDYzLjQ2MSwxMDIuMDU3IEM2NC4wODksMTAyLjExNSA2NC43MzMsMTAyLjEzIDY1LjM3OSwxMDIuMDk5IEM2NS41NjEsMTAyLjA5IDY1Ljc0MywxMDIuMDkgNjUuOTI1LDEwMi4wOTggQzY3LjgxOSwxMDIuMTgxIDY5LjIyNywxMDMuMTM2IDY5LjA3LDEwNC4yMyBMMTQ4LjMyNyw1OC40NzEiIGlkPSJGaWxsLTQiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNjkuMDcsMTA0LjM0NyBDNjkuMDQ4LDEwNC4zNDcgNjkuMDI1LDEwNC4zNCA2OS4wMDUsMTA0LjMyNyBDNjguOTY4LDEwNC4zMDEgNjguOTQ4LDEwNC4yNTcgNjguOTU1LDEwNC4yMTMgQzY5LDEwMy44OTYgNjguODk4LDEwMy41NzYgNjguNjU4LDEwMy4yODggQzY4LjE1MywxMDIuNjc4IDY3LjEwMywxMDIuMjY2IDY1LjkyLDEwMi4yMTQgQzY1Ljc0MiwxMDIuMjA2IDY1LjU2MywxMDIuMjA3IDY1LjM4NSwxMDIuMjE1IEM2NC43NDIsMTAyLjI0NiA2NC4wODcsMTAyLjIzMiA2My40NSwxMDIuMTc0IEM2My4zOTksMTAyLjE2OSA2My4zNTgsMTAyLjEzMiA2My4zNDcsMTAyLjA4MiBDNjMuMzM2LDEwMi4wMzMgNjMuMzU4LDEwMS45ODEgNjMuNDAyLDEwMS45NTYgTDE0NC41MDYsNTUuMTM0IEMxNDQuNTM3LDU1LjExNiAxNDQuNTc1LDU1LjExMyAxNDQuNjA5LDU1LjEyNyBDMTQ0LjY0Miw1NS4xNDEgMTQ0LjY2OCw1NS4xNyAxNDQuNjc3LDU1LjIwNCBDMTQ0Ljc4MSw1NS41ODUgMTQ0LjgwNiw1NS45NzIgMTQ0Ljc1MSw1Ni4zNTcgQzE0NC43MDYsNTYuNjczIDE0NC44MDgsNTYuOTk0IDE0NS4wNDcsNTcuMjgyIEMxNDUuNTUzLDU3Ljg5MiAxNDYuNjAyLDU4LjMwMyAxNDcuNzg2LDU4LjM1NSBDMTQ3Ljk2NCw1OC4zNjMgMTQ4LjE0Myw1OC4zNjMgMTQ4LjMyMSw1OC4zNTQgQzE0OC4zNzcsNTguMzUyIDE0OC40MjQsNTguMzg3IDE0OC40MzksNTguNDM4IEMxNDguNDU0LDU4LjQ5IDE0OC40MzIsNTguNTQ1IDE0OC4zODUsNTguNTcyIEw2OS4xMjksMTA0LjMzMSBDNjkuMTExLDEwNC4zNDIgNjkuMDksMTA0LjM0NyA2OS4wNywxMDQuMzQ3IEw2OS4wNywxMDQuMzQ3IFogTTY1LjY2NSwxMDEuOTc1IEM2NS43NTQsMTAxLjk3NSA2NS44NDIsMTAxLjk3NyA2NS45MywxMDEuOTgxIEM2Ny4xOTYsMTAyLjAzNyA2OC4yODMsMTAyLjQ2OSA2OC44MzgsMTAzLjEzOSBDNjkuMDY1LDEwMy40MTMgNjkuMTg4LDEwMy43MTQgNjkuMTk4LDEwNC4wMjEgTDE0Ny44ODMsNTguNTkyIEMxNDcuODQ3LDU4LjU5MiAxNDcuODExLDU4LjU5MSAxNDcuNzc2LDU4LjU4OSBDMTQ2LjUwOSw1OC41MzMgMTQ1LjQyMiw1OC4xIDE0NC44NjcsNTcuNDMxIEMxNDQuNTg1LDU3LjA5MSAxNDQuNDY1LDU2LjcwNyAxNDQuNTIsNTYuMzI0IEMxNDQuNTYzLDU2LjAyMSAxNDQuNTUyLDU1LjcxNiAxNDQuNDg4LDU1LjQxNCBMNjMuODQ2LDEwMS45NyBDNjQuMzUzLDEwMi4wMDIgNjQuODY3LDEwMi4wMDYgNjUuMzc0LDEwMS45ODIgQzY1LjQ3MSwxMDEuOTc3IDY1LjU2OCwxMDEuOTc1IDY1LjY2NSwxMDEuOTc1IEw2NS42NjUsMTAxLjk3NSBaIiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIuMjA4LDU1LjEzNCBDMS4yMDcsNTMuMzA3IDEuOTY3LDUwLjkxNyAzLjkwNiw0OS43OTcgTDU5LjkxNywxNy40NTMgQzYxLjg1NiwxNi4zMzMgNjQuMjQxLDE2LjkwNyA2NS4yNDMsMTguNzM0IEw2NS40NzUsMTkuMTQ0IEM2NS44NzIsMTkuODgyIDY2LjM2OCwyMC41NiA2Ni45NDUsMjEuMTY1IEw2Ny4yMjMsMjEuNDM1IEM3MC41NDgsMjQuNjQ5IDc1LjgwNiwyNS4xNTEgODAuMTExLDIyLjY2NSBMODcuNDMsMTguNDQ1IEM4OS4zNywxNy4zMjYgOTEuNzU0LDE3Ljg5OSA5Mi43NTUsMTkuNzI3IEw5Ni4wMDUsMjUuNjU1IEwxMi40ODYsNzMuODg0IEwyLjIwOCw1NS4xMzQgWiIgaWQ9IkZpbGwtNiIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMi40ODYsNzQuMDAxIEMxMi40NzYsNzQuMDAxIDEyLjQ2NSw3My45OTkgMTIuNDU1LDczLjk5NiBDMTIuNDI0LDczLjk4OCAxMi4zOTksNzMuOTY3IDEyLjM4NCw3My45NCBMMi4xMDYsNTUuMTkgQzEuMDc1LDUzLjMxIDEuODU3LDUwLjg0NSAzLjg0OCw0OS42OTYgTDU5Ljg1OCwxNy4zNTIgQzYwLjUyNSwxNi45NjcgNjEuMjcxLDE2Ljc2NCA2Mi4wMTYsMTYuNzY0IEM2My40MzEsMTYuNzY0IDY0LjY2NiwxNy40NjYgNjUuMzI3LDE4LjY0NiBDNjUuMzM3LDE4LjY1NCA2NS4zNDUsMTguNjYzIDY1LjM1MSwxOC42NzQgTDY1LjU3OCwxOS4wODggQzY1LjU4NCwxOS4xIDY1LjU4OSwxOS4xMTIgNjUuNTkxLDE5LjEyNiBDNjUuOTg1LDE5LjgzOCA2Ni40NjksMjAuNDk3IDY3LjAzLDIxLjA4NSBMNjcuMzA1LDIxLjM1MSBDNjkuMTUxLDIzLjEzNyA3MS42NDksMjQuMTIgNzQuMzM2LDI0LjEyIEM3Ni4zMTMsMjQuMTIgNzguMjksMjMuNTgyIDgwLjA1MywyMi41NjMgQzgwLjA2NCwyMi41NTcgODAuMDc2LDIyLjU1MyA4MC4wODgsMjIuNTUgTDg3LjM3MiwxOC4zNDQgQzg4LjAzOCwxNy45NTkgODguNzg0LDE3Ljc1NiA4OS41MjksMTcuNzU2IEM5MC45NTYsMTcuNzU2IDkyLjIwMSwxOC40NzIgOTIuODU4LDE5LjY3IEw5Ni4xMDcsMjUuNTk5IEM5Ni4xMzgsMjUuNjU0IDk2LjExOCwyNS43MjQgOTYuMDYzLDI1Ljc1NiBMMTIuNTQ1LDczLjk4NSBDMTIuNTI2LDczLjk5NiAxMi41MDYsNzQuMDAxIDEyLjQ4Niw3NC4wMDEgTDEyLjQ4Niw3NC4wMDEgWiBNNjIuMDE2LDE2Ljk5NyBDNjEuMzEyLDE2Ljk5NyA2MC42MDYsMTcuMTkgNTkuOTc1LDE3LjU1NCBMMy45NjUsNDkuODk5IEMyLjA4Myw1MC45ODUgMS4zNDEsNTMuMzA4IDIuMzEsNTUuMDc4IEwxMi41MzEsNzMuNzIzIEw5NS44NDgsMjUuNjExIEw5Mi42NTMsMTkuNzgyIEM5Mi4wMzgsMTguNjYgOTAuODcsMTcuOTkgODkuNTI5LDE3Ljk5IEM4OC44MjUsMTcuOTkgODguMTE5LDE4LjE4MiA4Ny40ODksMTguNTQ3IEw4MC4xNzIsMjIuNzcyIEM4MC4xNjEsMjIuNzc4IDgwLjE0OSwyMi43ODIgODAuMTM3LDIyLjc4NSBDNzguMzQ2LDIzLjgxMSA3Ni4zNDEsMjQuMzU0IDc0LjMzNiwyNC4zNTQgQzcxLjU4OCwyNC4zNTQgNjkuMDMzLDIzLjM0NyA2Ny4xNDIsMjEuNTE5IEw2Ni44NjQsMjEuMjQ5IEM2Ni4yNzcsMjAuNjM0IDY1Ljc3NCwxOS45NDcgNjUuMzY3LDE5LjIwMyBDNjUuMzYsMTkuMTkyIDY1LjM1NiwxOS4xNzkgNjUuMzU0LDE5LjE2NiBMNjUuMTYzLDE4LjgxOSBDNjUuMTU0LDE4LjgxMSA2NS4xNDYsMTguODAxIDY1LjE0LDE4Ljc5IEM2NC41MjUsMTcuNjY3IDYzLjM1NywxNi45OTcgNjIuMDE2LDE2Ljk5NyBMNjIuMDE2LDE2Ljk5NyBaIiBpZD0iRmlsbC03IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQyLjQzNCw0OC44MDggTDQyLjQzNCw0OC44MDggQzM5LjkyNCw0OC44MDcgMzcuNzM3LDQ3LjU1IDM2LjU4Miw0NS40NDMgQzM0Ljc3MSw0Mi4xMzkgMzYuMTQ0LDM3LjgwOSAzOS42NDEsMzUuNzg5IEw1MS45MzIsMjguNjkxIEM1My4xMDMsMjguMDE1IDU0LjQxMywyNy42NTggNTUuNzIxLDI3LjY1OCBDNTguMjMxLDI3LjY1OCA2MC40MTgsMjguOTE2IDYxLjU3MywzMS4wMjMgQzYzLjM4NCwzNC4zMjcgNjIuMDEyLDM4LjY1NyA1OC41MTQsNDAuNjc3IEw0Ni4yMjMsNDcuNzc1IEM0NS4wNTMsNDguNDUgNDMuNzQyLDQ4LjgwOCA0Mi40MzQsNDguODA4IEw0Mi40MzQsNDguODA4IFogTTU1LjcyMSwyOC4xMjUgQzU0LjQ5NSwyOC4xMjUgNTMuMjY1LDI4LjQ2MSA1Mi4xNjYsMjkuMDk2IEwzOS44NzUsMzYuMTk0IEMzNi41OTYsMzguMDg3IDM1LjMwMiw0Mi4xMzYgMzYuOTkyLDQ1LjIxOCBDMzguMDYzLDQ3LjE3MyA0MC4wOTgsNDguMzQgNDIuNDM0LDQ4LjM0IEM0My42NjEsNDguMzQgNDQuODksNDguMDA1IDQ1Ljk5LDQ3LjM3IEw1OC4yODEsNDAuMjcyIEM2MS41NiwzOC4zNzkgNjIuODUzLDM0LjMzIDYxLjE2NCwzMS4yNDggQzYwLjA5MiwyOS4yOTMgNTguMDU4LDI4LjEyNSA1NS43MjEsMjguMTI1IEw1NS43MjEsMjguMTI1IFoiIGlkPSJGaWxsLTgiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjU4OCwyLjQwNyBDMTQ5LjU4OCwyLjQwNyAxNTUuNzY4LDUuOTc1IDE1Ni4zMjUsNi4yOTcgTDE1Ni4zMjUsNy4xODQgQzE1Ni4zMjUsNy4zNiAxNTYuMzM4LDcuNTQ0IDE1Ni4zNjIsNy43MzMgQzE1Ni4zNzMsNy44MTQgMTU2LjM4Miw3Ljg5NCAxNTYuMzksNy45NzUgQzE1Ni41Myw5LjM5IDE1Ny4zNjMsMTAuOTczIDE1OC40OTUsMTEuOTc0IEwxNjUuODkxLDE4LjUxOSBDMTY2LjA2OCwxOC42NzUgMTY2LjI0OSwxOC44MTQgMTY2LjQzMiwxOC45MzQgQzE2OC4wMTEsMTkuOTc0IDE2OS4zODIsMTkuNCAxNjkuNDk0LDE3LjY1MiBDMTY5LjU0MywxNi44NjggMTY5LjU1MSwxNi4wNTcgMTY5LjUxNywxNS4yMjMgTDE2OS41MTQsMTUuMDYzIEwxNjkuNTE0LDEzLjkxMiBDMTcwLjc4LDE0LjY0MiAxOTUuNTAxLDI4LjkxNSAxOTUuNTAxLDI4LjkxNSBMMTk1LjUwMSw4Mi45MTUgQzE5NS41MDEsODQuMDA1IDE5NC43MzEsODQuNDQ1IDE5My43ODEsODMuODk3IEwxNTEuMzA4LDU5LjM3NCBDMTUwLjM1OCw1OC44MjYgMTQ5LjU4OCw1Ny40OTcgMTQ5LjU4OCw1Ni40MDggTDE0OS41ODgsMjIuMzc1IiBpZD0iRmlsbC05IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE5NC41NTMsODQuMjUgQzE5NC4yOTYsODQuMjUgMTk0LjAxMyw4NC4xNjUgMTkzLjcyMiw4My45OTcgTDE1MS4yNSw1OS40NzYgQzE1MC4yNjksNTguOTA5IDE0OS40NzEsNTcuNTMzIDE0OS40NzEsNTYuNDA4IEwxNDkuNDcxLDIyLjM3NSBMMTQ5LjcwNSwyMi4zNzUgTDE0OS43MDUsNTYuNDA4IEMxNDkuNzA1LDU3LjQ1OSAxNTAuNDUsNTguNzQ0IDE1MS4zNjYsNTkuMjc0IEwxOTMuODM5LDgzLjc5NSBDMTk0LjI2Myw4NC4wNCAxOTQuNjU1LDg0LjA4MyAxOTQuOTQyLDgzLjkxNyBDMTk1LjIyNyw4My43NTMgMTk1LjM4NCw4My4zOTcgMTk1LjM4NCw4Mi45MTUgTDE5NS4zODQsMjguOTgyIEMxOTQuMTAyLDI4LjI0MiAxNzIuMTA0LDE1LjU0MiAxNjkuNjMxLDE0LjExNCBMMTY5LjYzNCwxNS4yMiBDMTY5LjY2OCwxNi4wNTIgMTY5LjY2LDE2Ljg3NCAxNjkuNjEsMTcuNjU5IEMxNjkuNTU2LDE4LjUwMyAxNjkuMjE0LDE5LjEyMyAxNjguNjQ3LDE5LjQwNSBDMTY4LjAyOCwxOS43MTQgMTY3LjE5NywxOS41NzggMTY2LjM2NywxOS4wMzIgQzE2Ni4xODEsMTguOTA5IDE2NS45OTUsMTguNzY2IDE2NS44MTQsMTguNjA2IEwxNTguNDE3LDEyLjA2MiBDMTU3LjI1OSwxMS4wMzYgMTU2LjQxOCw5LjQzNyAxNTYuMjc0LDcuOTg2IEMxNTYuMjY2LDcuOTA3IDE1Ni4yNTcsNy44MjcgMTU2LjI0Nyw3Ljc0OCBDMTU2LjIyMSw3LjU1NSAxNTYuMjA5LDcuMzY1IDE1Ni4yMDksNy4xODQgTDE1Ni4yMDksNi4zNjQgQzE1NS4zNzUsNS44ODMgMTQ5LjUyOSwyLjUwOCAxNDkuNTI5LDIuNTA4IEwxNDkuNjQ2LDIuMzA2IEMxNDkuNjQ2LDIuMzA2IDE1NS44MjcsNS44NzQgMTU2LjM4NCw2LjE5NiBMMTU2LjQ0Miw2LjIzIEwxNTYuNDQyLDcuMTg0IEMxNTYuNDQyLDcuMzU1IDE1Ni40NTQsNy41MzUgMTU2LjQ3OCw3LjcxNyBDMTU2LjQ4OSw3LjggMTU2LjQ5OSw3Ljg4MiAxNTYuNTA3LDcuOTYzIEMxNTYuNjQ1LDkuMzU4IDE1Ny40NTUsMTAuODk4IDE1OC41NzIsMTEuODg2IEwxNjUuOTY5LDE4LjQzMSBDMTY2LjE0MiwxOC41ODQgMTY2LjMxOSwxOC43MiAxNjYuNDk2LDE4LjgzNyBDMTY3LjI1NCwxOS4zMzYgMTY4LDE5LjQ2NyAxNjguNTQzLDE5LjE5NiBDMTY5LjAzMywxOC45NTMgMTY5LjMyOSwxOC40MDEgMTY5LjM3NywxNy42NDUgQzE2OS40MjcsMTYuODY3IDE2OS40MzQsMTYuMDU0IDE2OS40MDEsMTUuMjI4IEwxNjkuMzk3LDE1LjA2NSBMMTY5LjM5NywxMy43MSBMMTY5LjU3MiwxMy44MSBDMTcwLjgzOSwxNC41NDEgMTk1LjU1OSwyOC44MTQgMTk1LjU1OSwyOC44MTQgTDE5NS42MTgsMjguODQ3IEwxOTUuNjE4LDgyLjkxNSBDMTk1LjYxOCw4My40ODQgMTk1LjQyLDgzLjkxMSAxOTUuMDU5LDg0LjExOSBDMTk0LjkwOCw4NC4yMDYgMTk0LjczNyw4NC4yNSAxOTQuNTUzLDg0LjI1IiBpZD0iRmlsbC0xMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDUuNjg1LDU2LjE2MSBMMTY5LjgsNzAuMDgzIEwxNDMuODIyLDg1LjA4MSBMMTQyLjM2LDg0Ljc3NCBDMTM1LjgyNiw4Mi42MDQgMTI4LjczMiw4MS4wNDYgMTIxLjM0MSw4MC4xNTggQzExNi45NzYsNzkuNjM0IDExMi42NzgsODEuMjU0IDExMS43NDMsODMuNzc4IEMxMTEuNTA2LDg0LjQxNCAxMTEuNTAzLDg1LjA3MSAxMTEuNzMyLDg1LjcwNiBDMTEzLjI3LDg5Ljk3MyAxMTUuOTY4LDk0LjA2OSAxMTkuNzI3LDk3Ljg0MSBMMTIwLjI1OSw5OC42ODYgQzEyMC4yNiw5OC42ODUgOTQuMjgyLDExMy42ODMgOTQuMjgyLDExMy42ODMgTDcwLjE2Nyw5OS43NjEgTDE0NS42ODUsNTYuMTYxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik05NC4yODIsMTEzLjgxOCBMOTQuMjIzLDExMy43ODUgTDY5LjkzMyw5OS43NjEgTDcwLjEwOCw5OS42NiBMMTQ1LjY4NSw1Ni4wMjYgTDE0NS43NDMsNTYuMDU5IEwxNzAuMDMzLDcwLjA4MyBMMTQzLjg0Miw4NS4yMDUgTDE0My43OTcsODUuMTk1IEMxNDMuNzcyLDg1LjE5IDE0Mi4zMzYsODQuODg4IDE0Mi4zMzYsODQuODg4IEMxMzUuNzg3LDgyLjcxNCAxMjguNzIzLDgxLjE2MyAxMjEuMzI3LDgwLjI3NCBDMTIwLjc4OCw4MC4yMDkgMTIwLjIzNiw4MC4xNzcgMTE5LjY4OSw4MC4xNzcgQzExNS45MzEsODAuMTc3IDExMi42MzUsODEuNzA4IDExMS44NTIsODMuODE5IEMxMTEuNjI0LDg0LjQzMiAxMTEuNjIxLDg1LjA1MyAxMTEuODQyLDg1LjY2NyBDMTEzLjM3Nyw4OS45MjUgMTE2LjA1OCw5My45OTMgMTE5LjgxLDk3Ljc1OCBMMTE5LjgyNiw5Ny43NzkgTDEyMC4zNTIsOTguNjE0IEMxMjAuMzU0LDk4LjYxNyAxMjAuMzU2LDk4LjYyIDEyMC4zNTgsOTguNjI0IEwxMjAuNDIyLDk4LjcyNiBMMTIwLjMxNyw5OC43ODcgQzEyMC4yNjQsOTguODE4IDk0LjU5OSwxMTMuNjM1IDk0LjM0LDExMy43ODUgTDk0LjI4MiwxMTMuODE4IEw5NC4yODIsMTEzLjgxOCBaIE03MC40MDEsOTkuNzYxIEw5NC4yODIsMTEzLjU0OSBMMTE5LjA4NCw5OS4yMjkgQzExOS42Myw5OC45MTQgMTE5LjkzLDk4Ljc0IDEyMC4xMDEsOTguNjU0IEwxMTkuNjM1LDk3LjkxNCBDMTE1Ljg2NCw5NC4xMjcgMTEzLjE2OCw5MC4wMzMgMTExLjYyMiw4NS43NDYgQzExMS4zODIsODUuMDc5IDExMS4zODYsODQuNDA0IDExMS42MzMsODMuNzM4IEMxMTIuNDQ4LDgxLjUzOSAxMTUuODM2LDc5Ljk0MyAxMTkuNjg5LDc5Ljk0MyBDMTIwLjI0Niw3OS45NDMgMTIwLjgwNiw3OS45NzYgMTIxLjM1NSw4MC4wNDIgQzEyOC43NjcsODAuOTMzIDEzNS44NDYsODIuNDg3IDE0Mi4zOTYsODQuNjYzIEMxNDMuMjMyLDg0LjgzOCAxNDMuNjExLDg0LjkxNyAxNDMuNzg2LDg0Ljk2NyBMMTY5LjU2Niw3MC4wODMgTDE0NS42ODUsNTYuMjk1IEw3MC40MDEsOTkuNzYxIEw3MC40MDEsOTkuNzYxIFoiIGlkPSJGaWxsLTEyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2Ny4yMywxOC45NzkgTDE2Ny4yMyw2OS44NSBMMTM5LjkwOSw4NS42MjMgTDEzMy40NDgsNzEuNDU2IEMxMzIuNTM4LDY5LjQ2IDEzMC4wMiw2OS43MTggMTI3LjgyNCw3Mi4wMyBDMTI2Ljc2OSw3My4xNCAxMjUuOTMxLDc0LjU4NSAxMjUuNDk0LDc2LjA0OCBMMTE5LjAzNCw5Ny42NzYgTDkxLjcxMiwxMTMuNDUgTDkxLjcxMiw2Mi41NzkgTDE2Ny4yMywxOC45NzkiIGlkPSJGaWxsLTEzIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTkxLjcxMiwxMTMuNTY3IEM5MS42OTIsMTEzLjU2NyA5MS42NzIsMTEzLjU2MSA5MS42NTMsMTEzLjU1MSBDOTEuNjE4LDExMy41MyA5MS41OTUsMTEzLjQ5MiA5MS41OTUsMTEzLjQ1IEw5MS41OTUsNjIuNTc5IEM5MS41OTUsNjIuNTM3IDkxLjYxOCw2Mi40OTkgOTEuNjUzLDYyLjQ3OCBMMTY3LjE3MiwxOC44NzggQzE2Ny4yMDgsMTguODU3IDE2Ny4yNTIsMTguODU3IDE2Ny4yODgsMTguODc4IEMxNjcuMzI0LDE4Ljg5OSAxNjcuMzQ3LDE4LjkzNyAxNjcuMzQ3LDE4Ljk3OSBMMTY3LjM0Nyw2OS44NSBDMTY3LjM0Nyw2OS44OTEgMTY3LjMyNCw2OS45MyAxNjcuMjg4LDY5Ljk1IEwxMzkuOTY3LDg1LjcyNSBDMTM5LjkzOSw4NS43NDEgMTM5LjkwNSw4NS43NDUgMTM5Ljg3Myw4NS43MzUgQzEzOS44NDIsODUuNzI1IDEzOS44MTYsODUuNzAyIDEzOS44MDIsODUuNjcyIEwxMzMuMzQyLDcxLjUwNCBDMTMyLjk2Nyw3MC42ODIgMTMyLjI4LDcwLjIyOSAxMzEuNDA4LDcwLjIyOSBDMTMwLjMxOSw3MC4yMjkgMTI5LjA0NCw3MC45MTUgMTI3LjkwOCw3Mi4xMSBDMTI2Ljg3NCw3My4yIDEyNi4wMzQsNzQuNjQ3IDEyNS42MDYsNzYuMDgyIEwxMTkuMTQ2LDk3LjcwOSBDMTE5LjEzNyw5Ny43MzggMTE5LjExOCw5Ny43NjIgMTE5LjA5Miw5Ny43NzcgTDkxLjc3LDExMy41NTEgQzkxLjc1MiwxMTMuNTYxIDkxLjczMiwxMTMuNTY3IDkxLjcxMiwxMTMuNTY3IEw5MS43MTIsMTEzLjU2NyBaIE05MS44MjksNjIuNjQ3IEw5MS44MjksMTEzLjI0OCBMMTE4LjkzNSw5Ny41OTggTDEyNS4zODIsNzYuMDE1IEMxMjUuODI3LDc0LjUyNSAxMjYuNjY0LDczLjA4MSAxMjcuNzM5LDcxLjk1IEMxMjguOTE5LDcwLjcwOCAxMzAuMjU2LDY5Ljk5NiAxMzEuNDA4LDY5Ljk5NiBDMTMyLjM3Nyw2OS45OTYgMTMzLjEzOSw3MC40OTcgMTMzLjU1NCw3MS40MDcgTDEzOS45NjEsODUuNDU4IEwxNjcuMTEzLDY5Ljc4MiBMMTY3LjExMywxOS4xODEgTDkxLjgyOSw2Mi42NDcgTDkxLjgyOSw2Mi42NDcgWiIgaWQ9IkZpbGwtMTQiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTY4LjU0MywxOS4yMTMgTDE2OC41NDMsNzAuMDgzIEwxNDEuMjIxLDg1Ljg1NyBMMTM0Ljc2MSw3MS42ODkgQzEzMy44NTEsNjkuNjk0IDEzMS4zMzMsNjkuOTUxIDEyOS4xMzcsNzIuMjYzIEMxMjguMDgyLDczLjM3NCAxMjcuMjQ0LDc0LjgxOSAxMjYuODA3LDc2LjI4MiBMMTIwLjM0Niw5Ny45MDkgTDkzLjAyNSwxMTMuNjgzIEw5My4wMjUsNjIuODEzIEwxNjguNTQzLDE5LjIxMyIgaWQ9IkZpbGwtMTUiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTMuMDI1LDExMy44IEM5My4wMDUsMTEzLjggOTIuOTg0LDExMy43OTUgOTIuOTY2LDExMy43ODUgQzkyLjkzMSwxMTMuNzY0IDkyLjkwOCwxMTMuNzI1IDkyLjkwOCwxMTMuNjg0IEw5Mi45MDgsNjIuODEzIEM5Mi45MDgsNjIuNzcxIDkyLjkzMSw2Mi43MzMgOTIuOTY2LDYyLjcxMiBMMTY4LjQ4NCwxOS4xMTIgQzE2OC41MiwxOS4wOSAxNjguNTY1LDE5LjA5IDE2OC42MDEsMTkuMTEyIEMxNjguNjM3LDE5LjEzMiAxNjguNjYsMTkuMTcxIDE2OC42NiwxOS4yMTIgTDE2OC42Niw3MC4wODMgQzE2OC42Niw3MC4xMjUgMTY4LjYzNyw3MC4xNjQgMTY4LjYwMSw3MC4xODQgTDE0MS4yOCw4NS45NTggQzE0MS4yNTEsODUuOTc1IDE0MS4yMTcsODUuOTc5IDE0MS4xODYsODUuOTY4IEMxNDEuMTU0LDg1Ljk1OCAxNDEuMTI5LDg1LjkzNiAxNDEuMTE1LDg1LjkwNiBMMTM0LjY1NSw3MS43MzggQzEzNC4yOCw3MC45MTUgMTMzLjU5Myw3MC40NjMgMTMyLjcyLDcwLjQ2MyBDMTMxLjYzMiw3MC40NjMgMTMwLjM1Nyw3MS4xNDggMTI5LjIyMSw3Mi4zNDQgQzEyOC4xODYsNzMuNDMzIDEyNy4zNDcsNzQuODgxIDEyNi45MTksNzYuMzE1IEwxMjAuNDU4LDk3Ljk0MyBDMTIwLjQ1LDk3Ljk3MiAxMjAuNDMxLDk3Ljk5NiAxMjAuNDA1LDk4LjAxIEw5My4wODMsMTEzLjc4NSBDOTMuMDY1LDExMy43OTUgOTMuMDQ1LDExMy44IDkzLjAyNSwxMTMuOCBMOTMuMDI1LDExMy44IFogTTkzLjE0Miw2Mi44ODEgTDkzLjE0MiwxMTMuNDgxIEwxMjAuMjQ4LDk3LjgzMiBMMTI2LjY5NSw3Ni4yNDggQzEyNy4xNCw3NC43NTggMTI3Ljk3Nyw3My4zMTUgMTI5LjA1Miw3Mi4xODMgQzEzMC4yMzEsNzAuOTQyIDEzMS41NjgsNzAuMjI5IDEzMi43Miw3MC4yMjkgQzEzMy42ODksNzAuMjI5IDEzNC40NTIsNzAuNzMxIDEzNC44NjcsNzEuNjQxIEwxNDEuMjc0LDg1LjY5MiBMMTY4LjQyNiw3MC4wMTYgTDE2OC40MjYsMTkuNDE1IEw5My4xNDIsNjIuODgxIEw5My4xNDIsNjIuODgxIFoiIGlkPSJGaWxsLTE2IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS44LDcwLjA4MyBMMTQyLjQ3OCw4NS44NTcgTDEzNi4wMTgsNzEuNjg5IEMxMzUuMTA4LDY5LjY5NCAxMzIuNTksNjkuOTUxIDEzMC4zOTMsNzIuMjYzIEMxMjkuMzM5LDczLjM3NCAxMjguNSw3NC44MTkgMTI4LjA2NCw3Ni4yODIgTDEyMS42MDMsOTcuOTA5IEw5NC4yODIsMTEzLjY4MyBMOTQuMjgyLDYyLjgxMyBMMTY5LjgsMTkuMjEzIEwxNjkuOCw3MC4wODMgWiIgaWQ9IkZpbGwtMTciIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTQuMjgyLDExMy45MTcgQzk0LjI0MSwxMTMuOTE3IDk0LjIwMSwxMTMuOTA3IDk0LjE2NSwxMTMuODg2IEM5NC4wOTMsMTEzLjg0NSA5NC4wNDgsMTEzLjc2NyA5NC4wNDgsMTEzLjY4NCBMOTQuMDQ4LDYyLjgxMyBDOTQuMDQ4LDYyLjczIDk0LjA5Myw2Mi42NTIgOTQuMTY1LDYyLjYxMSBMMTY5LjY4MywxOS4wMSBDMTY5Ljc1NSwxOC45NjkgMTY5Ljg0NCwxOC45NjkgMTY5LjkxNywxOS4wMSBDMTY5Ljk4OSwxOS4wNTIgMTcwLjAzMywxOS4xMjkgMTcwLjAzMywxOS4yMTIgTDE3MC4wMzMsNzAuMDgzIEMxNzAuMDMzLDcwLjE2NiAxNjkuOTg5LDcwLjI0NCAxNjkuOTE3LDcwLjI4NSBMMTQyLjU5NSw4Ni4wNiBDMTQyLjUzOCw4Ni4wOTIgMTQyLjQ2OSw4Ni4xIDE0Mi40MDcsODYuMDggQzE0Mi4zNDQsODYuMDYgMTQyLjI5Myw4Ni4wMTQgMTQyLjI2Niw4NS45NTQgTDEzNS44MDUsNzEuNzg2IEMxMzUuNDQ1LDcwLjk5NyAxMzQuODEzLDcwLjU4IDEzMy45NzcsNzAuNTggQzEzMi45MjEsNzAuNTggMTMxLjY3Niw3MS4yNTIgMTMwLjU2Miw3Mi40MjQgQzEyOS41NCw3My41MDEgMTI4LjcxMSw3NC45MzEgMTI4LjI4Nyw3Ni4zNDggTDEyMS44MjcsOTcuOTc2IEMxMjEuODEsOTguMDM0IDEyMS43NzEsOTguMDgyIDEyMS43Miw5OC4xMTIgTDk0LjM5OCwxMTMuODg2IEM5NC4zNjIsMTEzLjkwNyA5NC4zMjIsMTEzLjkxNyA5NC4yODIsMTEzLjkxNyBMOTQuMjgyLDExMy45MTcgWiBNOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDExMy4yNzkgTDEyMS40MDYsOTcuNzU0IEwxMjcuODQsNzYuMjE1IEMxMjguMjksNzQuNzA4IDEyOS4xMzcsNzMuMjQ3IDEzMC4yMjQsNzIuMTAzIEMxMzEuNDI1LDcwLjgzOCAxMzIuNzkzLDcwLjExMiAxMzMuOTc3LDcwLjExMiBDMTM0Ljk5NSw3MC4xMTIgMTM1Ljc5NSw3MC42MzggMTM2LjIzLDcxLjU5MiBMMTQyLjU4NCw4NS41MjYgTDE2OS41NjYsNjkuOTQ4IEwxNjkuNTY2LDE5LjYxNyBMOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDYyLjk0OCBaIiBpZD0iRmlsbC0xOCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMDkuODk0LDkyLjk0MyBMMTA5Ljg5NCw5Mi45NDMgQzEwOC4xMiw5Mi45NDMgMTA2LjY1Myw5Mi4yMTggMTA1LjY1LDkwLjgyMyBDMTA1LjU4Myw5MC43MzEgMTA1LjU5Myw5MC42MSAxMDUuNjczLDkwLjUyOSBDMTA1Ljc1Myw5MC40NDggMTA1Ljg4LDkwLjQ0IDEwNS45NzQsOTAuNTA2IEMxMDYuNzU0LDkxLjA1MyAxMDcuNjc5LDkxLjMzMyAxMDguNzI0LDkxLjMzMyBDMTEwLjA0Nyw5MS4zMzMgMTExLjQ3OCw5MC44OTQgMTEyLjk4LDkwLjAyNyBDMTE4LjI5MSw4Ni45NiAxMjIuNjExLDc5LjUwOSAxMjIuNjExLDczLjQxNiBDMTIyLjYxMSw3MS40ODkgMTIyLjE2OSw2OS44NTYgMTIxLjMzMyw2OC42OTIgQzEyMS4yNjYsNjguNiAxMjEuMjc2LDY4LjQ3MyAxMjEuMzU2LDY4LjM5MiBDMTIxLjQzNiw2OC4zMTEgMTIxLjU2Myw2OC4yOTkgMTIxLjY1Niw2OC4zNjUgQzEyMy4zMjcsNjkuNTM3IDEyNC4yNDcsNzEuNzQ2IDEyNC4yNDcsNzQuNTg0IEMxMjQuMjQ3LDgwLjgyNiAxMTkuODIxLDg4LjQ0NyAxMTQuMzgyLDkxLjU4NyBDMTEyLjgwOCw5Mi40OTUgMTExLjI5OCw5Mi45NDMgMTA5Ljg5NCw5Mi45NDMgTDEwOS44OTQsOTIuOTQzIFogTTEwNi45MjUsOTEuNDAxIEMxMDcuNzM4LDkyLjA1MiAxMDguNzQ1LDkyLjI3OCAxMDkuODkzLDkyLjI3OCBMMTA5Ljg5NCw5Mi4yNzggQzExMS4yMTUsOTIuMjc4IDExMi42NDcsOTEuOTUxIDExNC4xNDgsOTEuMDg0IEMxMTkuNDU5LDg4LjAxNyAxMjMuNzgsODAuNjIxIDEyMy43OCw3NC41MjggQzEyMy43OCw3Mi41NDkgMTIzLjMxNyw3MC45MjkgMTIyLjQ1NCw2OS43NjcgQzEyMi44NjUsNzAuODAyIDEyMy4wNzksNzIuMDQyIDEyMy4wNzksNzMuNDAyIEMxMjMuMDc5LDc5LjY0NSAxMTguNjUzLDg3LjI4NSAxMTMuMjE0LDkwLjQyNSBDMTExLjY0LDkxLjMzNCAxMTAuMTMsOTEuNzQyIDEwOC43MjQsOTEuNzQyIEMxMDguMDgzLDkxLjc0MiAxMDcuNDgxLDkxLjU5MyAxMDYuOTI1LDkxLjQwMSBMMTA2LjkyNSw5MS40MDEgWiIgaWQ9IkZpbGwtMTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjA5Nyw5MC4yMyBDMTE4LjQ4MSw4Ny4xMjIgMTIyLjg0NSw3OS41OTQgMTIyLjg0NSw3My40MTYgQzEyMi44NDUsNzEuMzY1IDEyMi4zNjIsNjkuNzI0IDEyMS41MjIsNjguNTU2IEMxMTkuNzM4LDY3LjMwNCAxMTcuMTQ4LDY3LjM2MiAxMTQuMjY1LDY5LjAyNiBDMTA4Ljg4MSw3Mi4xMzQgMTA0LjUxNyw3OS42NjIgMTA0LjUxNyw4NS44NCBDMTA0LjUxNyw4Ny44OTEgMTA1LDg5LjUzMiAxMDUuODQsOTAuNyBDMTA3LjYyNCw5MS45NTIgMTEwLjIxNCw5MS44OTQgMTEzLjA5Nyw5MC4yMyIgaWQ9IkZpbGwtMjAiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTA4LjcyNCw5MS42MTQgTDEwOC43MjQsOTEuNjE0IEMxMDcuNTgyLDkxLjYxNCAxMDYuNTY2LDkxLjQwMSAxMDUuNzA1LDkwLjc5NyBDMTA1LjY4NCw5MC43ODMgMTA1LjY2NSw5MC44MTEgMTA1LjY1LDkwLjc5IEMxMDQuNzU2LDg5LjU0NiAxMDQuMjgzLDg3Ljg0MiAxMDQuMjgzLDg1LjgxNyBDMTA0LjI4Myw3OS41NzUgMTA4LjcwOSw3MS45NTMgMTE0LjE0OCw2OC44MTIgQzExNS43MjIsNjcuOTA0IDExNy4yMzIsNjcuNDQ5IDExOC42MzgsNjcuNDQ5IEMxMTkuNzgsNjcuNDQ5IDEyMC43OTYsNjcuNzU4IDEyMS42NTYsNjguMzYyIEMxMjEuNjc4LDY4LjM3NyAxMjEuNjk3LDY4LjM5NyAxMjEuNzEyLDY4LjQxOCBDMTIyLjYwNiw2OS42NjIgMTIzLjA3OSw3MS4zOSAxMjMuMDc5LDczLjQxNSBDMTIzLjA3OSw3OS42NTggMTE4LjY1Myw4Ny4xOTggMTEzLjIxNCw5MC4zMzggQzExMS42NCw5MS4yNDcgMTEwLjEzLDkxLjYxNCAxMDguNzI0LDkxLjYxNCBMMTA4LjcyNCw5MS42MTQgWiBNMTA2LjAwNiw5MC41MDUgQzEwNi43OCw5MS4wMzcgMTA3LjY5NCw5MS4yODEgMTA4LjcyNCw5MS4yODEgQzExMC4wNDcsOTEuMjgxIDExMS40NzgsOTAuODY4IDExMi45OCw5MC4wMDEgQzExOC4yOTEsODYuOTM1IDEyMi42MTEsNzkuNDk2IDEyMi42MTEsNzMuNDAzIEMxMjIuNjExLDcxLjQ5NCAxMjIuMTc3LDY5Ljg4IDEyMS4zNTYsNjguNzE4IEMxMjAuNTgyLDY4LjE4NSAxMTkuNjY4LDY3LjkxOSAxMTguNjM4LDY3LjkxOSBDMTE3LjMxNSw2Ny45MTkgMTE1Ljg4Myw2OC4zNiAxMTQuMzgyLDY5LjIyNyBDMTA5LjA3MSw3Mi4yOTMgMTA0Ljc1MSw3OS43MzMgMTA0Ljc1MSw4NS44MjYgQzEwNC43NTEsODcuNzM1IDEwNS4xODUsODkuMzQzIDEwNi4wMDYsOTAuNTA1IEwxMDYuMDA2LDkwLjUwNSBaIiBpZD0iRmlsbC0yMSIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDkuMzE4LDcuMjYyIEwxMzkuMzM0LDE2LjE0IEwxNTUuMjI3LDI3LjE3MSBMMTYwLjgxNiwyMS4wNTkgTDE0OS4zMTgsNy4yNjIiIGlkPSJGaWxsLTIyIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS42NzYsMTMuODQgTDE1OS45MjgsMTkuNDY3IEMxNTYuMjg2LDIxLjU3IDE1MC40LDIxLjU4IDE0Ni43ODEsMTkuNDkxIEMxNDMuMTYxLDE3LjQwMiAxNDMuMTgsMTQuMDAzIDE0Ni44MjIsMTEuOSBMMTU2LjMxNyw2LjI5MiBMMTQ5LjU4OCwyLjQwNyBMNjcuNzUyLDQ5LjQ3OCBMMTEzLjY3NSw3NS45OTIgTDExNi43NTYsNzQuMjEzIEMxMTcuMzg3LDczLjg0OCAxMTcuNjI1LDczLjMxNSAxMTcuMzc0LDcyLjgyMyBDMTE1LjAxNyw2OC4xOTEgMTE0Ljc4MSw2My4yNzcgMTE2LjY5MSw1OC41NjEgQzEyMi4zMjksNDQuNjQxIDE0MS4yLDMzLjc0NiAxNjUuMzA5LDMwLjQ5MSBDMTczLjQ3OCwyOS4zODggMTgxLjk4OSwyOS41MjQgMTkwLjAxMywzMC44ODUgQzE5MC44NjUsMzEuMDMgMTkxLjc4OSwzMC44OTMgMTkyLjQyLDMwLjUyOCBMMTk1LjUwMSwyOC43NSBMMTY5LjY3NiwxMy44NCIgaWQ9IkZpbGwtMjMiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3Ni40NTkgQzExMy41OTQsNzYuNDU5IDExMy41MTQsNzYuNDM4IDExMy40NDIsNzYuMzk3IEw2Ny41MTgsNDkuODgyIEM2Ny4zNzQsNDkuNzk5IDY3LjI4NCw0OS42NDUgNjcuMjg1LDQ5LjQ3OCBDNjcuMjg1LDQ5LjMxMSA2Ny4zNzQsNDkuMTU3IDY3LjUxOSw0OS4wNzMgTDE0OS4zNTUsMi4wMDIgQzE0OS40OTksMS45MTkgMTQ5LjY3NywxLjkxOSAxNDkuODIxLDIuMDAyIEwxNTYuNTUsNS44ODcgQzE1Ni43NzQsNi4wMTcgMTU2Ljg1LDYuMzAyIDE1Ni43MjIsNi41MjYgQzE1Ni41OTIsNi43NDkgMTU2LjMwNyw2LjgyNiAxNTYuMDgzLDYuNjk2IEwxNDkuNTg3LDIuOTQ2IEw2OC42ODcsNDkuNDc5IEwxMTMuNjc1LDc1LjQ1MiBMMTE2LjUyMyw3My44MDggQzExNi43MTUsNzMuNjk3IDExNy4xNDMsNzMuMzk5IDExNi45NTgsNzMuMDM1IEMxMTQuNTQyLDY4LjI4NyAxMTQuMyw2My4yMjEgMTE2LjI1OCw1OC4zODUgQzExOS4wNjQsNTEuNDU4IDEyNS4xNDMsNDUuMTQzIDEzMy44NCw0MC4xMjIgQzE0Mi40OTcsMzUuMTI0IDE1My4zNTgsMzEuNjMzIDE2NS4yNDcsMzAuMDI4IEMxNzMuNDQ1LDI4LjkyMSAxODIuMDM3LDI5LjA1OCAxOTAuMDkxLDMwLjQyNSBDMTkwLjgzLDMwLjU1IDE5MS42NTIsMzAuNDMyIDE5Mi4xODYsMzAuMTI0IEwxOTQuNTY3LDI4Ljc1IEwxNjkuNDQyLDE0LjI0NCBDMTY5LjIxOSwxNC4xMTUgMTY5LjE0MiwxMy44MjkgMTY5LjI3MSwxMy42MDYgQzE2OS40LDEzLjM4MiAxNjkuNjg1LDEzLjMwNiAxNjkuOTA5LDEzLjQzNSBMMTk1LjczNCwyOC4zNDUgQzE5NS44NzksMjguNDI4IDE5NS45NjgsMjguNTgzIDE5NS45NjgsMjguNzUgQzE5NS45NjgsMjguOTE2IDE5NS44NzksMjkuMDcxIDE5NS43MzQsMjkuMTU0IEwxOTIuNjUzLDMwLjkzMyBDMTkxLjkzMiwzMS4zNSAxOTAuODksMzEuNTA4IDE4OS45MzUsMzEuMzQ2IEMxODEuOTcyLDI5Ljk5NSAxNzMuNDc4LDI5Ljg2IDE2NS4zNzIsMzAuOTU0IEMxNTMuNjAyLDMyLjU0MyAxNDIuODYsMzUuOTkzIDEzNC4zMDcsNDAuOTMxIEMxMjUuNzkzLDQ1Ljg0NyAxMTkuODUxLDUyLjAwNCAxMTcuMTI0LDU4LjczNiBDMTE1LjI3LDYzLjMxNCAxMTUuNTAxLDY4LjExMiAxMTcuNzksNzIuNjExIEMxMTguMTYsNzMuMzM2IDExNy44NDUsNzQuMTI0IDExNi45OSw3NC42MTcgTDExMy45MDksNzYuMzk3IEMxMTMuODM2LDc2LjQzOCAxMTMuNzU2LDc2LjQ1OSAxMTMuNjc1LDc2LjQ1OSIgaWQ9IkZpbGwtMjQiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUzLjMxNiwyMS4yNzkgQzE1MC45MDMsMjEuMjc5IDE0OC40OTUsMjAuNzUxIDE0Ni42NjQsMTkuNjkzIEMxNDQuODQ2LDE4LjY0NCAxNDMuODQ0LDE3LjIzMiAxNDMuODQ0LDE1LjcxOCBDMTQzLjg0NCwxNC4xOTEgMTQ0Ljg2LDEyLjc2MyAxNDYuNzA1LDExLjY5OCBMMTU2LjE5OCw2LjA5MSBDMTU2LjMwOSw2LjAyNSAxNTYuNDUyLDYuMDYyIDE1Ni41MTgsNi4xNzMgQzE1Ni41ODMsNi4yODQgMTU2LjU0Nyw2LjQyNyAxNTYuNDM2LDYuNDkzIEwxNDYuOTQsMTIuMTAyIEMxNDUuMjQ0LDEzLjA4MSAxNDQuMzEyLDE0LjM2NSAxNDQuMzEyLDE1LjcxOCBDMTQ0LjMxMiwxNy4wNTggMTQ1LjIzLDE4LjMyNiAxNDYuODk3LDE5LjI4OSBDMTUwLjQ0NiwyMS4zMzggMTU2LjI0LDIxLjMyNyAxNTkuODExLDE5LjI2NSBMMTY5LjU1OSwxMy42MzcgQzE2OS42NywxMy41NzMgMTY5LjgxMywxMy42MTEgMTY5Ljg3OCwxMy43MjMgQzE2OS45NDMsMTMuODM0IDE2OS45MDQsMTMuOTc3IDE2OS43OTMsMTQuMDQyIEwxNjAuMDQ1LDE5LjY3IEMxNTguMTg3LDIwLjc0MiAxNTUuNzQ5LDIxLjI3OSAxNTMuMzE2LDIxLjI3OSIgaWQ9IkZpbGwtMjUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3NS45OTIgTDY3Ljc2Miw0OS40ODQiIGlkPSJGaWxsLTI2IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMy42NzUsNzYuMzQyIEMxMTMuNjE1LDc2LjM0MiAxMTMuNTU1LDc2LjMyNyAxMTMuNSw3Ni4yOTUgTDY3LjU4Nyw0OS43ODcgQzY3LjQxOSw0OS42OSA2Ny4zNjIsNDkuNDc2IDY3LjQ1OSw0OS4zMDkgQzY3LjU1Niw0OS4xNDEgNjcuNzcsNDkuMDgzIDY3LjkzNyw0OS4xOCBMMTEzLjg1LDc1LjY4OCBDMTE0LjAxOCw3NS43ODUgMTE0LjA3NSw3NiAxMTMuOTc4LDc2LjE2NyBDMTEzLjkxNCw3Ni4yNzkgMTEzLjc5Niw3Ni4zNDIgMTEzLjY3NSw3Ni4zNDIiIGlkPSJGaWxsLTI3IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY3Ljc2Miw0OS40ODQgTDY3Ljc2MiwxMDMuNDg1IEM2Ny43NjIsMTA0LjU3NSA2OC41MzIsMTA1LjkwMyA2OS40ODIsMTA2LjQ1MiBMMTExLjk1NSwxMzAuOTczIEMxMTIuOTA1LDEzMS41MjIgMTEzLjY3NSwxMzEuMDgzIDExMy42NzUsMTI5Ljk5MyBMMTEzLjY3NSw3NS45OTIiIGlkPSJGaWxsLTI4IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMi43MjcsMTMxLjU2MSBDMTEyLjQzLDEzMS41NjEgMTEyLjEwNywxMzEuNDY2IDExMS43OCwxMzEuMjc2IEw2OS4zMDcsMTA2Ljc1NSBDNjguMjQ0LDEwNi4xNDIgNjcuNDEyLDEwNC43MDUgNjcuNDEyLDEwMy40ODUgTDY3LjQxMiw0OS40ODQgQzY3LjQxMiw0OS4yOSA2Ny41NjksNDkuMTM0IDY3Ljc2Miw0OS4xMzQgQzY3Ljk1Niw0OS4xMzQgNjguMTEzLDQ5LjI5IDY4LjExMyw0OS40ODQgTDY4LjExMywxMDMuNDg1IEM2OC4xMTMsMTA0LjQ0NSA2OC44MiwxMDUuNjY1IDY5LjY1NywxMDYuMTQ4IEwxMTIuMTMsMTMwLjY3IEMxMTIuNDc0LDEzMC44NjggMTEyLjc5MSwxMzAuOTEzIDExMywxMzAuNzkyIEMxMTMuMjA2LDEzMC42NzMgMTEzLjMyNSwxMzAuMzgxIDExMy4zMjUsMTI5Ljk5MyBMMTEzLjMyNSw3NS45OTIgQzExMy4zMjUsNzUuNzk4IDExMy40ODIsNzUuNjQxIDExMy42NzUsNzUuNjQxIEMxMTMuODY5LDc1LjY0MSAxMTQuMDI1LDc1Ljc5OCAxMTQuMDI1LDc1Ljk5MiBMMTE0LjAyNSwxMjkuOTkzIEMxMTQuMDI1LDEzMC42NDggMTEzLjc4NiwxMzEuMTQ3IDExMy4zNSwxMzEuMzk5IEMxMTMuMTYyLDEzMS41MDcgMTEyLjk1MiwxMzEuNTYxIDExMi43MjcsMTMxLjU2MSIgaWQ9IkZpbGwtMjkiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEyLjg2LDQwLjUxMiBDMTEyLjg2LDQwLjUxMiAxMTIuODYsNDAuNTEyIDExMi44NTksNDAuNTEyIEMxMTAuNTQxLDQwLjUxMiAxMDguMzYsMzkuOTkgMTA2LjcxNywzOS4wNDEgQzEwNS4wMTIsMzguMDU3IDEwNC4wNzQsMzYuNzI2IDEwNC4wNzQsMzUuMjkyIEMxMDQuMDc0LDMzLjg0NyAxMDUuMDI2LDMyLjUwMSAxMDYuNzU0LDMxLjUwNCBMMTE4Ljc5NSwyNC41NTEgQzEyMC40NjMsMjMuNTg5IDEyMi42NjksMjMuMDU4IDEyNS4wMDcsMjMuMDU4IEMxMjcuMzI1LDIzLjA1OCAxMjkuNTA2LDIzLjU4MSAxMzEuMTUsMjQuNTMgQzEzMi44NTQsMjUuNTE0IDEzMy43OTMsMjYuODQ1IDEzMy43OTMsMjguMjc4IEMxMzMuNzkzLDI5LjcyNCAxMzIuODQxLDMxLjA2OSAxMzEuMTEzLDMyLjA2NyBMMTE5LjA3MSwzOS4wMTkgQzExNy40MDMsMzkuOTgyIDExNS4xOTcsNDAuNTEyIDExMi44Niw0MC41MTIgTDExMi44Niw0MC41MTIgWiBNMTI1LjAwNywyMy43NTkgQzEyMi43OSwyMy43NTkgMTIwLjcwOSwyNC4yNTYgMTE5LjE0NiwyNS4xNTggTDEwNy4xMDQsMzIuMTEgQzEwNS42MDIsMzIuOTc4IDEwNC43NzQsMzQuMTA4IDEwNC43NzQsMzUuMjkyIEMxMDQuNzc0LDM2LjQ2NSAxMDUuNTg5LDM3LjU4MSAxMDcuMDY3LDM4LjQzNCBDMTA4LjYwNSwzOS4zMjMgMTEwLjY2MywzOS44MTIgMTEyLjg1OSwzOS44MTIgTDExMi44NiwzOS44MTIgQzExNS4wNzYsMzkuODEyIDExNy4xNTgsMzkuMzE1IDExOC43MjEsMzguNDEzIEwxMzAuNzYyLDMxLjQ2IEMxMzIuMjY0LDMwLjU5MyAxMzMuMDkyLDI5LjQ2MyAxMzMuMDkyLDI4LjI3OCBDMTMzLjA5MiwyNy4xMDYgMTMyLjI3OCwyNS45OSAxMzAuOCwyNS4xMzYgQzEyOS4yNjEsMjQuMjQ4IDEyNy4yMDQsMjMuNzU5IDEyNS4wMDcsMjMuNzU5IEwxMjUuMDA3LDIzLjc1OSBaIiBpZD0iRmlsbC0zMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNjUuNjMsMTYuMjE5IEwxNTkuODk2LDE5LjUzIEMxNTYuNzI5LDIxLjM1OCAxNTEuNjEsMjEuMzY3IDE0OC40NjMsMTkuNTUgQzE0NS4zMTYsMTcuNzMzIDE0NS4zMzIsMTQuNzc4IDE0OC40OTksMTIuOTQ5IEwxNTQuMjMzLDkuNjM5IEwxNjUuNjMsMTYuMjE5IiBpZD0iRmlsbC0zMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNTQuMjMzLDEwLjQ0OCBMMTY0LjIyOCwxNi4yMTkgTDE1OS41NDYsMTguOTIzIEMxNTguMTEyLDE5Ljc1IDE1Ni4xOTQsMjAuMjA2IDE1NC4xNDcsMjAuMjA2IEMxNTIuMTE4LDIwLjIwNiAxNTAuMjI0LDE5Ljc1NyAxNDguODE0LDE4Ljk0MyBDMTQ3LjUyNCwxOC4xOTkgMTQ2LjgxNCwxNy4yNDkgMTQ2LjgxNCwxNi4yNjkgQzE0Ni44MTQsMTUuMjc4IDE0Ny41MzcsMTQuMzE0IDE0OC44NSwxMy41NTYgTDE1NC4yMzMsMTAuNDQ4IE0xNTQuMjMzLDkuNjM5IEwxNDguNDk5LDEyLjk0OSBDMTQ1LjMzMiwxNC43NzggMTQ1LjMxNiwxNy43MzMgMTQ4LjQ2MywxOS41NSBDMTUwLjAzMSwyMC40NTUgMTUyLjA4NiwyMC45MDcgMTU0LjE0NywyMC45MDcgQzE1Ni4yMjQsMjAuOTA3IDE1OC4zMDYsMjAuNDQ3IDE1OS44OTYsMTkuNTMgTDE2NS42MywxNi4yMTkgTDE1NC4yMzMsOS42MzkiIGlkPSJGaWxsLTMyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NS40NDUsNzIuNjY3IEwxNDUuNDQ1LDcyLjY2NyBDMTQzLjY3Miw3Mi42NjcgMTQyLjIwNCw3MS44MTcgMTQxLjIwMiw3MC40MjIgQzE0MS4xMzUsNzAuMzMgMTQxLjE0NSw3MC4xNDcgMTQxLjIyNSw3MC4wNjYgQzE0MS4zMDUsNjkuOTg1IDE0MS40MzIsNjkuOTQ2IDE0MS41MjUsNzAuMDExIEMxNDIuMzA2LDcwLjU1OSAxNDMuMjMxLDcwLjgyMyAxNDQuMjc2LDcwLjgyMiBDMTQ1LjU5OCw3MC44MjIgMTQ3LjAzLDcwLjM3NiAxNDguNTMyLDY5LjUwOSBDMTUzLjg0Miw2Ni40NDMgMTU4LjE2Myw1OC45ODcgMTU4LjE2Myw1Mi44OTQgQzE1OC4xNjMsNTAuOTY3IDE1Ny43MjEsNDkuMzMyIDE1Ni44ODQsNDguMTY4IEMxNTYuODE4LDQ4LjA3NiAxNTYuODI4LDQ3Ljk0OCAxNTYuOTA4LDQ3Ljg2NyBDMTU2Ljk4OCw0Ny43ODYgMTU3LjExNCw0Ny43NzQgMTU3LjIwOCw0Ny44NCBDMTU4Ljg3OCw0OS4wMTIgMTU5Ljc5OCw1MS4yMiAxNTkuNzk4LDU0LjA1OSBDMTU5Ljc5OCw2MC4zMDEgMTU1LjM3Myw2OC4wNDYgMTQ5LjkzMyw3MS4xODYgQzE0OC4zNiw3Mi4wOTQgMTQ2Ljg1LDcyLjY2NyAxNDUuNDQ1LDcyLjY2NyBMMTQ1LjQ0NSw3Mi42NjcgWiBNMTQyLjQ3Niw3MSBDMTQzLjI5LDcxLjY1MSAxNDQuMjk2LDcyLjAwMiAxNDUuNDQ1LDcyLjAwMiBDMTQ2Ljc2Nyw3Mi4wMDIgMTQ4LjE5OCw3MS41NSAxNDkuNyw3MC42ODIgQzE1NS4wMSw2Ny42MTcgMTU5LjMzMSw2MC4xNTkgMTU5LjMzMSw1NC4wNjUgQzE1OS4zMzEsNTIuMDg1IDE1OC44NjgsNTAuNDM1IDE1OC4wMDYsNDkuMjcyIEMxNTguNDE3LDUwLjMwNyAxNTguNjMsNTEuNTMyIDE1OC42Myw1Mi44OTIgQzE1OC42Myw1OS4xMzQgMTU0LjIwNSw2Ni43NjcgMTQ4Ljc2NSw2OS45MDcgQzE0Ny4xOTIsNzAuODE2IDE0NS42ODEsNzEuMjgzIDE0NC4yNzYsNzEuMjgzIEMxNDMuNjM0LDcxLjI4MyAxNDMuMDMzLDcxLjE5MiAxNDIuNDc2LDcxIEwxNDIuNDc2LDcxIFoiIGlkPSJGaWxsLTMzIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0OC42NDgsNjkuNzA0IEMxNTQuMDMyLDY2LjU5NiAxNTguMzk2LDU5LjA2OCAxNTguMzk2LDUyLjg5MSBDMTU4LjM5Niw1MC44MzkgMTU3LjkxMyw0OS4xOTggMTU3LjA3NCw0OC4wMyBDMTU1LjI4OSw0Ni43NzggMTUyLjY5OSw0Ni44MzYgMTQ5LjgxNiw0OC41MDEgQzE0NC40MzMsNTEuNjA5IDE0MC4wNjgsNTkuMTM3IDE0MC4wNjgsNjUuMzE0IEMxNDAuMDY4LDY3LjM2NSAxNDAuNTUyLDY5LjAwNiAxNDEuMzkxLDcwLjE3NCBDMTQzLjE3Niw3MS40MjcgMTQ1Ljc2NSw3MS4zNjkgMTQ4LjY0OCw2OS43MDQiIGlkPSJGaWxsLTM0IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NC4yNzYsNzEuMjc2IEwxNDQuMjc2LDcxLjI3NiBDMTQzLjEzMyw3MS4yNzYgMTQyLjExOCw3MC45NjkgMTQxLjI1Nyw3MC4zNjUgQzE0MS4yMzYsNzAuMzUxIDE0MS4yMTcsNzAuMzMyIDE0MS4yMDIsNzAuMzExIEMxNDAuMzA3LDY5LjA2NyAxMzkuODM1LDY3LjMzOSAxMzkuODM1LDY1LjMxNCBDMTM5LjgzNSw1OS4wNzMgMTQ0LjI2LDUxLjQzOSAxNDkuNyw0OC4yOTggQzE1MS4yNzMsNDcuMzkgMTUyLjc4NCw0Ni45MjkgMTU0LjE4OSw0Ni45MjkgQzE1NS4zMzIsNDYuOTI5IDE1Ni4zNDcsNDcuMjM2IDE1Ny4yMDgsNDcuODM5IEMxNTcuMjI5LDQ3Ljg1NCAxNTcuMjQ4LDQ3Ljg3MyAxNTcuMjYzLDQ3Ljg5NCBDMTU4LjE1Nyw0OS4xMzggMTU4LjYzLDUwLjg2NSAxNTguNjMsNTIuODkxIEMxNTguNjMsNTkuMTMyIDE1NC4yMDUsNjYuNzY2IDE0OC43NjUsNjkuOTA3IEMxNDcuMTkyLDcwLjgxNSAxNDUuNjgxLDcxLjI3NiAxNDQuMjc2LDcxLjI3NiBMMTQ0LjI3Niw3MS4yNzYgWiBNMTQxLjU1OCw3MC4xMDQgQzE0Mi4zMzEsNzAuNjM3IDE0My4yNDUsNzEuMDA1IDE0NC4yNzYsNzEuMDA1IEMxNDUuNTk4LDcxLjAwNSAxNDcuMDMsNzAuNDY3IDE0OC41MzIsNjkuNiBDMTUzLjg0Miw2Ni41MzQgMTU4LjE2Myw1OS4wMzMgMTU4LjE2Myw1Mi45MzkgQzE1OC4xNjMsNTEuMDMxIDE1Ny43MjksNDkuMzg1IDE1Ni45MDcsNDguMjIzIEMxNTYuMTMzLDQ3LjY5MSAxNTUuMjE5LDQ3LjQwOSAxNTQuMTg5LDQ3LjQwOSBDMTUyLjg2Nyw0Ny40MDkgMTUxLjQzNSw0Ny44NDIgMTQ5LjkzMyw0OC43MDkgQzE0NC42MjMsNTEuNzc1IDE0MC4zMDIsNTkuMjczIDE0MC4zMDIsNjUuMzY2IEMxNDAuMzAyLDY3LjI3NiAxNDAuNzM2LDY4Ljk0MiAxNDEuNTU4LDcwLjEwNCBMMTQxLjU1OCw3MC4xMDQgWiIgaWQ9IkZpbGwtMzUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUwLjcyLDY1LjM2MSBMMTUwLjM1Nyw2NS4wNjYgQzE1MS4xNDcsNjQuMDkyIDE1MS44NjksNjMuMDQgMTUyLjUwNSw2MS45MzggQzE1My4zMTMsNjAuNTM5IDE1My45NzgsNTkuMDY3IDE1NC40ODIsNTcuNTYzIEwxNTQuOTI1LDU3LjcxMiBDMTU0LjQxMiw1OS4yNDUgMTUzLjczMyw2MC43NDUgMTUyLjkxLDYyLjE3MiBDMTUyLjI2Miw2My4yOTUgMTUxLjUyNSw2NC4zNjggMTUwLjcyLDY1LjM2MSIgaWQ9IkZpbGwtMzYiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE1LjkxNyw4NC41MTQgTDExNS41NTQsODQuMjIgQzExNi4zNDQsODMuMjQ1IDExNy4wNjYsODIuMTk0IDExNy43MDIsODEuMDkyIEMxMTguNTEsNzkuNjkyIDExOS4xNzUsNzguMjIgMTE5LjY3OCw3Ni43MTcgTDEyMC4xMjEsNzYuODY1IEMxMTkuNjA4LDc4LjM5OCAxMTguOTMsNzkuODk5IDExOC4xMDYsODEuMzI2IEMxMTcuNDU4LDgyLjQ0OCAxMTYuNzIyLDgzLjUyMSAxMTUuOTE3LDg0LjUxNCIgaWQ9IkZpbGwtMzciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE0LDEzMC40NzYgTDExNCwxMzAuMDA4IEwxMTQsNzYuMDUyIEwxMTQsNzUuNTg0IEwxMTQsNzYuMDUyIEwxMTQsMTMwLjAwOCBMMTE0LDEzMC40NzYiIGlkPSJGaWxsLTM4IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYyLjAwMDAwMCwgMC4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTkuODIyLDM3LjQ3NCBDMTkuODM5LDM3LjMzOSAxOS43NDcsMzcuMTk0IDE5LjU1NSwzNy4wODIgQzE5LjIyOCwzNi44OTQgMTguNzI5LDM2Ljg3MiAxOC40NDYsMzcuMDM3IEwxMi40MzQsNDAuNTA4IEMxMi4zMDMsNDAuNTg0IDEyLjI0LDQwLjY4NiAxMi4yNDMsNDAuNzkzIEMxMi4yNDUsNDAuOTI1IDEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQxLjM3MSBMMTIuMjQ1LDQxLjQxNCBMMTIuMjM4LDQxLjU0MiBDOC4xNDgsNDMuODg3IDUuNjQ3LDQ1LjMyMSA1LjY0Nyw0NS4zMjEgQzUuNjQ2LDQ1LjMyMSAzLjU3LDQ2LjM2NyAyLjg2LDUwLjUxMyBDMi44Niw1MC41MTMgMS45NDgsNTcuNDc0IDEuOTYyLDcwLjI1OCBDMS45NzcsODIuODI4IDIuNTY4LDg3LjMyOCAzLjEyOSw5MS42MDkgQzMuMzQ5LDkzLjI5MyA2LjEzLDkzLjczNCA2LjEzLDkzLjczNCBDNi40NjEsOTMuNzc0IDYuODI4LDkzLjcwNyA3LjIxLDkzLjQ4NiBMODIuNDgzLDQ5LjkzNSBDODQuMjkxLDQ4Ljg2NiA4NS4xNSw0Ni4yMTYgODUuNTM5LDQzLjY1MSBDODYuNzUyLDM1LjY2MSA4Ny4yMTQsMTAuNjczIDg1LjI2NCwzLjc3MyBDODUuMDY4LDMuMDggODQuNzU0LDIuNjkgODQuMzk2LDIuNDkxIEw4Mi4zMSwxLjcwMSBDODEuNTgzLDEuNzI5IDgwLjg5NCwyLjE2OCA4MC43NzYsMi4yMzYgQzgwLjYzNiwyLjMxNyA0MS44MDcsMjQuNTg1IDIwLjAzMiwzNy4wNzIgTDE5LjgyMiwzNy40NzQiIGlkPSJGaWxsLTEiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNODIuMzExLDEuNzAxIEw4NC4zOTYsMi40OTEgQzg0Ljc1NCwyLjY5IDg1LjA2OCwzLjA4IDg1LjI2NCwzLjc3MyBDODcuMjEzLDEwLjY3MyA4Ni43NTEsMzUuNjYgODUuNTM5LDQzLjY1MSBDODUuMTQ5LDQ2LjIxNiA4NC4yOSw0OC44NjYgODIuNDgzLDQ5LjkzNSBMNy4yMSw5My40ODYgQzYuODk3LDkzLjY2NyA2LjU5NSw5My43NDQgNi4zMTQsOTMuNzQ0IEw2LjEzMSw5My43MzMgQzYuMTMxLDkzLjczNCAzLjM0OSw5My4yOTMgMy4xMjgsOTEuNjA5IEMyLjU2OCw4Ny4zMjcgMS45NzcsODIuODI4IDEuOTYzLDcwLjI1OCBDMS45NDgsNTcuNDc0IDIuODYsNTAuNTEzIDIuODYsNTAuNTEzIEMzLjU3LDQ2LjM2NyA1LjY0Nyw0NS4zMjEgNS42NDcsNDUuMzIxIEM1LjY0Nyw0NS4zMjEgOC4xNDgsNDMuODg3IDEyLjIzOCw0MS41NDIgTDEyLjI0NSw0MS40MTQgTDEyLjI0NSw0MS4zNzEgQzEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQwLjkyNSAxMi4yNDMsNDAuNzkzIEMxMi4yNCw0MC42ODYgMTIuMzAyLDQwLjU4MyAxMi40MzQsNDAuNTA4IEwxOC40NDYsMzcuMDM2IEMxOC41NzQsMzYuOTYyIDE4Ljc0NiwzNi45MjYgMTguOTI3LDM2LjkyNiBDMTkuMTQ1LDM2LjkyNiAxOS4zNzYsMzYuOTc5IDE5LjU1NCwzNy4wODIgQzE5Ljc0NywzNy4xOTQgMTkuODM5LDM3LjM0IDE5LjgyMiwzNy40NzQgTDIwLjAzMywzNy4wNzIgQzQxLjgwNiwyNC41ODUgODAuNjM2LDIuMzE4IDgwLjc3NywyLjIzNiBDODAuODk0LDIuMTY4IDgxLjU4MywxLjcyOSA4Mi4zMTEsMS43MDEgTTgyLjMxMSwwLjcwNCBMODIuMjcyLDAuNzA1IEM4MS42NTQsMC43MjggODAuOTg5LDAuOTQ5IDgwLjI5OCwxLjM2MSBMODAuMjc3LDEuMzczIEM4MC4xMjksMS40NTggNTkuNzY4LDEzLjEzNSAxOS43NTgsMzYuMDc5IEMxOS41LDM1Ljk4MSAxOS4yMTQsMzUuOTI5IDE4LjkyNywzNS45MjkgQzE4LjU2MiwzNS45MjkgMTguMjIzLDM2LjAxMyAxNy45NDcsMzYuMTczIEwxMS45MzUsMzkuNjQ0IEMxMS40OTMsMzkuODk5IDExLjIzNiw0MC4zMzQgMTEuMjQ2LDQwLjgxIEwxMS4yNDcsNDAuOTYgTDUuMTY3LDQ0LjQ0NyBDNC43OTQsNDQuNjQ2IDIuNjI1LDQ1Ljk3OCAxLjg3Nyw1MC4zNDUgTDEuODcxLDUwLjM4NCBDMS44NjIsNTAuNDU0IDAuOTUxLDU3LjU1NyAwLjk2NSw3MC4yNTkgQzAuOTc5LDgyLjg3OSAxLjU2OCw4Ny4zNzUgMi4xMzcsOTEuNzI0IEwyLjEzOSw5MS43MzkgQzIuNDQ3LDk0LjA5NCA1LjYxNCw5NC42NjIgNS45NzUsOTQuNzE5IEw2LjAwOSw5NC43MjMgQzYuMTEsOTQuNzM2IDYuMjEzLDk0Ljc0MiA2LjMxNCw5NC43NDIgQzYuNzksOTQuNzQyIDcuMjYsOTQuNjEgNy43MSw5NC4zNSBMODIuOTgzLDUwLjc5OCBDODQuNzk0LDQ5LjcyNyA4NS45ODIsNDcuMzc1IDg2LjUyNSw0My44MDEgQzg3LjcxMSwzNS45ODcgODguMjU5LDEwLjcwNSA4Ni4yMjQsMy41MDIgQzg1Ljk3MSwyLjYwOSA4NS41MiwxLjk3NSA4NC44ODEsMS42MiBMODQuNzQ5LDEuNTU4IEw4Mi42NjQsMC43NjkgQzgyLjU1MSwwLjcyNSA4Mi40MzEsMC43MDQgODIuMzExLDAuNzA0IiBpZD0iRmlsbC0yIiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY2LjI2NywxMS41NjUgTDY3Ljc2MiwxMS45OTkgTDExLjQyMyw0NC4zMjUiIGlkPSJGaWxsLTMiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMjAyLDkwLjU0NSBDMTIuMDI5LDkwLjU0NSAxMS44NjIsOTAuNDU1IDExLjc2OSw5MC4yOTUgQzExLjYzMiw5MC4wNTcgMTEuNzEzLDg5Ljc1MiAxMS45NTIsODkuNjE0IEwzMC4zODksNzguOTY5IEMzMC42MjgsNzguODMxIDMwLjkzMyw3OC45MTMgMzEuMDcxLDc5LjE1MiBDMzEuMjA4LDc5LjM5IDMxLjEyNyw3OS42OTYgMzAuODg4LDc5LjgzMyBMMTIuNDUxLDkwLjQ3OCBMMTIuMjAyLDkwLjU0NSIgaWQ9IkZpbGwtNCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMy43NjQsNDIuNjU0IEwxMy42NTYsNDIuNTkyIEwxMy43MDIsNDIuNDIxIEwxOC44MzcsMzkuNDU3IEwxOS4wMDcsMzkuNTAyIEwxOC45NjIsMzkuNjczIEwxMy44MjcsNDIuNjM3IEwxMy43NjQsNDIuNjU0IiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTguNTIsOTAuMzc1IEw4LjUyLDQ2LjQyMSBMOC41ODMsNDYuMzg1IEw3NS44NCw3LjU1NCBMNzUuODQsNTEuNTA4IEw3NS43NzgsNTEuNTQ0IEw4LjUyLDkwLjM3NSBMOC41Miw5MC4zNzUgWiBNOC43Nyw0Ni41NjQgTDguNzcsODkuOTQ0IEw3NS41OTEsNTEuMzY1IEw3NS41OTEsNy45ODUgTDguNzcsNDYuNTY0IEw4Ljc3LDQ2LjU2NCBaIiBpZD0iRmlsbC02IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI0Ljk4Niw4My4xODIgQzI0Ljc1Niw4My4zMzEgMjQuMzc0LDgzLjU2NiAyNC4xMzcsODMuNzA1IEwxMi42MzIsOTAuNDA2IEMxMi4zOTUsOTAuNTQ1IDEyLjQyNiw5MC42NTggMTIuNyw5MC42NTggTDEzLjI2NSw5MC42NTggQzEzLjU0LDkwLjY1OCAxMy45NTgsOTAuNTQ1IDE0LjE5NSw5MC40MDYgTDI1LjcsODMuNzA1IEMyNS45MzcsODMuNTY2IDI2LjEyOCw4My40NTIgMjYuMTI1LDgzLjQ0OSBDMjYuMTIyLDgzLjQ0NyAyNi4xMTksODMuMjIgMjYuMTE5LDgyLjk0NiBDMjYuMTE5LDgyLjY3MiAyNS45MzEsODIuNTY5IDI1LjcwMSw4Mi43MTkgTDI0Ljk4Niw4My4xODIiIGlkPSJGaWxsLTciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTMuMjY2LDkwLjc4MiBMMTIuNyw5MC43ODIgQzEyLjUsOTAuNzgyIDEyLjM4NCw5MC43MjYgMTIuMzU0LDkwLjYxNiBDMTIuMzI0LDkwLjUwNiAxMi4zOTcsOTAuMzk5IDEyLjU2OSw5MC4yOTkgTDI0LjA3NCw4My41OTcgQzI0LjMxLDgzLjQ1OSAyNC42ODksODMuMjI2IDI0LjkxOCw4My4wNzggTDI1LjYzMyw4Mi42MTQgQzI1LjcyMyw4Mi41NTUgMjUuODEzLDgyLjUyNSAyNS44OTksODIuNTI1IEMyNi4wNzEsODIuNTI1IDI2LjI0NCw4Mi42NTUgMjYuMjQ0LDgyLjk0NiBDMjYuMjQ0LDgzLjE2IDI2LjI0NSw4My4zMDkgMjYuMjQ3LDgzLjM4MyBMMjYuMjUzLDgzLjM4NyBMMjYuMjQ5LDgzLjQ1NiBDMjYuMjQ2LDgzLjUzMSAyNi4yNDYsODMuNTMxIDI1Ljc2Myw4My44MTIgTDE0LjI1OCw5MC41MTQgQzE0LDkwLjY2NSAxMy41NjQsOTAuNzgyIDEzLjI2Niw5MC43ODIgTDEzLjI2Niw5MC43ODIgWiBNMTIuNjY2LDkwLjUzMiBMMTIuNyw5MC41MzMgTDEzLjI2Niw5MC41MzMgQzEzLjUxOCw5MC41MzMgMTMuOTE1LDkwLjQyNSAxNC4xMzIsOTAuMjk5IEwyNS42MzcsODMuNTk3IEMyNS44MDUsODMuNDk5IDI1LjkzMSw4My40MjQgMjUuOTk4LDgzLjM4MyBDMjUuOTk0LDgzLjI5OSAyNS45OTQsODMuMTY1IDI1Ljk5NCw4Mi45NDYgTDI1Ljg5OSw4Mi43NzUgTDI1Ljc2OCw4Mi44MjQgTDI1LjA1NCw4My4yODcgQzI0LjgyMiw4My40MzcgMjQuNDM4LDgzLjY3MyAyNC4yLDgzLjgxMiBMMTIuNjk1LDkwLjUxNCBMMTIuNjY2LDkwLjUzMiBMMTIuNjY2LDkwLjUzMiBaIiBpZD0iRmlsbC04IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEzLjI2Niw4OS44NzEgTDEyLjcsODkuODcxIEMxMi41LDg5Ljg3MSAxMi4zODQsODkuODE1IDEyLjM1NCw4OS43MDUgQzEyLjMyNCw4OS41OTUgMTIuMzk3LDg5LjQ4OCAxMi41NjksODkuMzg4IEwyNC4wNzQsODIuNjg2IEMyNC4zMzIsODIuNTM1IDI0Ljc2OCw4Mi40MTggMjUuMDY3LDgyLjQxOCBMMjUuNjMyLDgyLjQxOCBDMjUuODMyLDgyLjQxOCAyNS45NDgsODIuNDc0IDI1Ljk3OCw4Mi41ODQgQzI2LjAwOCw4Mi42OTQgMjUuOTM1LDgyLjgwMSAyNS43NjMsODIuOTAxIEwxNC4yNTgsODkuNjAzIEMxNCw4OS43NTQgMTMuNTY0LDg5Ljg3MSAxMy4yNjYsODkuODcxIEwxMy4yNjYsODkuODcxIFogTTEyLjY2Niw4OS42MjEgTDEyLjcsODkuNjIyIEwxMy4yNjYsODkuNjIyIEMxMy41MTgsODkuNjIyIDEzLjkxNSw4OS41MTUgMTQuMTMyLDg5LjM4OCBMMjUuNjM3LDgyLjY4NiBMMjUuNjY3LDgyLjY2OCBMMjUuNjMyLDgyLjY2NyBMMjUuMDY3LDgyLjY2NyBDMjQuODE1LDgyLjY2NyAyNC40MTgsODIuNzc1IDI0LjIsODIuOTAxIEwxMi42OTUsODkuNjAzIEwxMi42NjYsODkuNjIxIEwxMi42NjYsODkuNjIxIFoiIGlkPSJGaWxsLTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMzcsOTAuODAxIEwxMi4zNyw4OS41NTQgTDEyLjM3LDkwLjgwMSIgaWQ9IkZpbGwtMTAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNi4xMyw5My45MDEgQzUuMzc5LDkzLjgwOCA0LjgxNiw5My4xNjQgNC42OTEsOTIuNTI1IEMzLjg2LDg4LjI4NyAzLjU0LDgzLjc0MyAzLjUyNiw3MS4xNzMgQzMuNTExLDU4LjM4OSA0LjQyMyw1MS40MjggNC40MjMsNTEuNDI4IEM1LjEzNCw0Ny4yODIgNy4yMSw0Ni4yMzYgNy4yMSw0Ni4yMzYgQzcuMjEsNDYuMjM2IDgxLjY2NywzLjI1IDgyLjA2OSwzLjAxNyBDODIuMjkyLDIuODg4IDg0LjU1NiwxLjQzMyA4NS4yNjQsMy45NCBDODcuMjE0LDEwLjg0IDg2Ljc1MiwzNS44MjcgODUuNTM5LDQzLjgxOCBDODUuMTUsNDYuMzgzIDg0LjI5MSw0OS4wMzMgODIuNDgzLDUwLjEwMSBMNy4yMSw5My42NTMgQzYuODI4LDkzLjg3NCA2LjQ2MSw5My45NDEgNi4xMyw5My45MDEgQzYuMTMsOTMuOTAxIDMuMzQ5LDkzLjQ2IDMuMTI5LDkxLjc3NiBDMi41NjgsODcuNDk1IDEuOTc3LDgyLjk5NSAxLjk2Miw3MC40MjUgQzEuOTQ4LDU3LjY0MSAyLjg2LDUwLjY4IDIuODYsNTAuNjggQzMuNTcsNDYuNTM0IDUuNjQ3LDQ1LjQ4OSA1LjY0Nyw0NS40ODkgQzUuNjQ2LDQ1LjQ4OSA4LjA2NSw0NC4wOTIgMTIuMjQ1LDQxLjY3OSBMMTMuMTE2LDQxLjU2IEwxOS43MTUsMzcuNzMgTDE5Ljc2MSwzNy4yNjkgTDYuMTMsOTMuOTAxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjMxNyw5NC4xNjEgTDYuMTAyLDk0LjE0OCBMNi4xMDEsOTQuMTQ4IEw1Ljg1Nyw5NC4xMDEgQzUuMTM4LDkzLjk0NSAzLjA4NSw5My4zNjUgMi44ODEsOTEuODA5IEMyLjMxMyw4Ny40NjkgMS43MjcsODIuOTk2IDEuNzEzLDcwLjQyNSBDMS42OTksNTcuNzcxIDIuNjA0LDUwLjcxOCAyLjYxMyw1MC42NDggQzMuMzM4LDQ2LjQxNyA1LjQ0NSw0NS4zMSA1LjUzNSw0NS4yNjYgTDEyLjE2Myw0MS40MzkgTDEzLjAzMyw0MS4zMiBMMTkuNDc5LDM3LjU3OCBMMTkuNTEzLDM3LjI0NCBDMTkuNTI2LDM3LjEwNyAxOS42NDcsMzcuMDA4IDE5Ljc4NiwzNy4wMjEgQzE5LjkyMiwzNy4wMzQgMjAuMDIzLDM3LjE1NiAyMC4wMDksMzcuMjkzIEwxOS45NSwzNy44ODIgTDEzLjE5OCw0MS44MDEgTDEyLjMyOCw0MS45MTkgTDUuNzcyLDQ1LjcwNCBDNS43NDEsNDUuNzIgMy43ODIsNDYuNzcyIDMuMTA2LDUwLjcyMiBDMy4wOTksNTAuNzgyIDIuMTk4LDU3LjgwOCAyLjIxMiw3MC40MjQgQzIuMjI2LDgyLjk2MyAyLjgwOSw4Ny40MiAzLjM3Myw5MS43MjkgQzMuNDY0LDkyLjQyIDQuMDYyLDkyLjg4MyA0LjY4Miw5My4xODEgQzQuNTY2LDkyLjk4NCA0LjQ4Niw5Mi43NzYgNC40NDYsOTIuNTcyIEMzLjY2NSw4OC41ODggMy4yOTEsODQuMzcgMy4yNzYsNzEuMTczIEMzLjI2Miw1OC41MiA0LjE2Nyw1MS40NjYgNC4xNzYsNTEuMzk2IEM0LjkwMSw0Ny4xNjUgNy4wMDgsNDYuMDU5IDcuMDk4LDQ2LjAxNCBDNy4wOTQsNDYuMDE1IDgxLjU0MiwzLjAzNCA4MS45NDQsMi44MDIgTDgxLjk3MiwyLjc4NSBDODIuODc2LDIuMjQ3IDgzLjY5MiwyLjA5NyA4NC4zMzIsMi4zNTIgQzg0Ljg4NywyLjU3MyA4NS4yODEsMy4wODUgODUuNTA0LDMuODcyIEM4Ny41MTgsMTEgODYuOTY0LDM2LjA5MSA4NS43ODUsNDMuODU1IEM4NS4yNzgsNDcuMTk2IDg0LjIxLDQ5LjM3IDgyLjYxLDUwLjMxNyBMNy4zMzUsOTMuODY5IEM2Ljk5OSw5NC4wNjMgNi42NTgsOTQuMTYxIDYuMzE3LDk0LjE2MSBMNi4zMTcsOTQuMTYxIFogTTYuMTcsOTMuNjU0IEM2LjQ2Myw5My42OSA2Ljc3NCw5My42MTcgNy4wODUsOTMuNDM3IEw4Mi4zNTgsNDkuODg2IEM4NC4xODEsNDguODA4IDg0Ljk2LDQ1Ljk3MSA4NS4yOTIsNDMuNzggQzg2LjQ2NiwzNi4wNDkgODcuMDIzLDExLjA4NSA4NS4wMjQsNC4wMDggQzg0Ljg0NiwzLjM3NyA4NC41NTEsMi45NzYgODQuMTQ4LDIuODE2IEM4My42NjQsMi42MjMgODIuOTgyLDIuNzY0IDgyLjIyNywzLjIxMyBMODIuMTkzLDMuMjM0IEM4MS43OTEsMy40NjYgNy4zMzUsNDYuNDUyIDcuMzM1LDQ2LjQ1MiBDNy4zMDQsNDYuNDY5IDUuMzQ2LDQ3LjUyMSA0LjY2OSw1MS40NzEgQzQuNjYyLDUxLjUzIDMuNzYxLDU4LjU1NiAzLjc3NSw3MS4xNzMgQzMuNzksODQuMzI4IDQuMTYxLDg4LjUyNCA0LjkzNiw5Mi40NzYgQzUuMDI2LDkyLjkzNyA1LjQxMiw5My40NTkgNS45NzMsOTMuNjE1IEM2LjA4Nyw5My42NCA2LjE1OCw5My42NTIgNi4xNjksOTMuNjU0IEw2LjE3LDkzLjY1NCBMNi4xNyw5My42NTQgWiIgaWQ9IkZpbGwtMTIiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4zMTcsNjguOTgyIEM3LjgwNiw2OC43MDEgOC4yMDIsNjguOTI2IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNi44MjksNzEuMjk0IDYuNDMzLDcxLjA2OSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIiBpZD0iRmlsbC0xMyIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjkyLDcxLjEzMyBDNi42MzEsNzEuMTMzIDYuNDMzLDcwLjkwNSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIEM3LjQ2LDY4LjkgNy41OTUsNjguODYxIDcuNzE0LDY4Ljg2MSBDOC4wMDMsNjguODYxIDguMjAyLDY5LjA5IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNy4xNzQsNzEuMDk0IDcuMDM5LDcxLjEzMyA2LjkyLDcxLjEzMyBNNy43MTQsNjguNjc0IEM3LjU1Nyw2OC42NzQgNy4zOTIsNjguNzIzIDcuMjI0LDY4LjgyMSBDNi42NzYsNjkuMTM4IDYuMjQ2LDY5Ljg3OSA2LjI0Niw3MC41MDggQzYuMjQ2LDcwLjk5NCA2LjUxNyw3MS4zMiA2LjkyLDcxLjMyIEM3LjA3OCw3MS4zMiA3LjI0Myw3MS4yNzEgNy40MTEsNzEuMTc0IEM3Ljk1OSw3MC44NTcgOC4zODksNzAuMTE3IDguMzg5LDY5LjQ4NyBDOC4zODksNjkuMDAxIDguMTE3LDY4LjY3NCA3LjcxNCw2OC42NzQiIGlkPSJGaWxsLTE0IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYuOTIsNzAuOTQ3IEM2LjY0OSw3MC45NDcgNi42MjEsNzAuNjQgNi42MjEsNzAuNTA4IEM2LjYyMSw3MC4wMTcgNi45ODIsNjkuMzkyIDcuNDExLDY5LjE0NSBDNy41MjEsNjkuMDgyIDcuNjI1LDY5LjA0OSA3LjcxNCw2OS4wNDkgQzcuOTg2LDY5LjA0OSA4LjAxNSw2OS4zNTUgOC4wMTUsNjkuNDg3IEM4LjAxNSw2OS45NzggNy42NTIsNzAuNjAzIDcuMjI0LDcwLjg1MSBDNy4xMTUsNzAuOTE0IDcuMDEsNzAuOTQ3IDYuOTIsNzAuOTQ3IE03LjcxNCw2OC44NjEgQzcuNTk1LDY4Ljg2MSA3LjQ2LDY4LjkgNy4zMTcsNjguOTgyIEM2LjgyOSw2OS4yNjUgNi40MzMsNjkuOTQ4IDYuNDMzLDcwLjUwOCBDNi40MzMsNzAuOTA1IDYuNjMxLDcxLjEzMyA2LjkyLDcxLjEzMyBDNy4wMzksNzEuMTMzIDcuMTc0LDcxLjA5NCA3LjMxNyw3MS4wMTIgQzcuODA2LDcwLjczIDguMjAyLDcwLjA0NyA4LjIwMiw2OS40ODcgQzguMjAyLDY5LjA5IDguMDAzLDY4Ljg2MSA3LjcxNCw2OC44NjEiIGlkPSJGaWxsLTE1IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTcuNDQ0LDg1LjM1IEM3LjcwOCw4NS4xOTggNy45MjEsODUuMzE5IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuOTI1IDcuNzA4LDg2LjI5MiA3LjQ0NCw4Ni40NDQgQzcuMTgxLDg2LjU5NyA2Ljk2Nyw4Ni40NzUgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IiBpZD0iRmlsbC0xNiIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03LjIzLDg2LjUxIEM3LjA3NCw4Ni41MSA2Ljk2Nyw4Ni4zODcgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IEM3LjUyMSw4NS4zMDUgNy41OTQsODUuMjg0IDcuNjU4LDg1LjI4NCBDNy44MTQsODUuMjg0IDcuOTIxLDg1LjQwOCA3LjkyMSw4NS42MjIgQzcuOTIxLDg1LjkyNSA3LjcwOCw4Ni4yOTIgNy40NDQsODYuNDQ0IEM3LjM2Nyw4Ni40ODkgNy4yOTQsODYuNTEgNy4yMyw4Ni41MSBNNy42NTgsODUuMDk4IEM3LjU1OCw4NS4wOTggNy40NTUsODUuMTI3IDcuMzUxLDg1LjE4OCBDNy4wMzEsODUuMzczIDYuNzgxLDg1LjgwNiA2Ljc4MSw4Ni4xNzMgQzYuNzgxLDg2LjQ4MiA2Ljk2Niw4Ni42OTcgNy4yMyw4Ni42OTcgQzcuMzMsODYuNjk3IDcuNDMzLDg2LjY2NiA3LjUzOCw4Ni42MDcgQzcuODU4LDg2LjQyMiA4LjEwOCw4NS45ODkgOC4xMDgsODUuNjIyIEM4LjEwOCw4NS4zMTMgNy45MjMsODUuMDk4IDcuNjU4LDg1LjA5OCIgaWQ9IkZpbGwtMTciIGZpbGw9IiM4MDk3QTIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4yMyw4Ni4zMjIgTDcuMTU0LDg2LjE3MyBDNy4xNTQsODUuOTM4IDcuMzMzLDg1LjYyOSA3LjUzOCw4NS41MTIgTDcuNjU4LDg1LjQ3MSBMNy43MzQsODUuNjIyIEM3LjczNCw4NS44NTYgNy41NTUsODYuMTY0IDcuMzUxLDg2LjI4MiBMNy4yMyw4Ni4zMjIgTTcuNjU4LDg1LjI4NCBDNy41OTQsODUuMjg0IDcuNTIxLDg1LjMwNSA3LjQ0NCw4NS4zNSBDNy4xODEsODUuNTAyIDYuOTY3LDg1Ljg3MSA2Ljk2Nyw4Ni4xNzMgQzYuOTY3LDg2LjM4NyA3LjA3NCw4Ni41MSA3LjIzLDg2LjUxIEM3LjI5NCw4Ni41MSA3LjM2Nyw4Ni40ODkgNy40NDQsODYuNDQ0IEM3LjcwOCw4Ni4yOTIgNy45MjEsODUuOTI1IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuNDA4IDcuODE0LDg1LjI4NCA3LjY1OCw4NS4yODQiIGlkPSJGaWxsLTE4IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTc3LjI3OCw3Ljc2OSBMNzcuMjc4LDUxLjQzNiBMMTAuMjA4LDkwLjE2IEwxMC4yMDgsNDYuNDkzIEw3Ny4yNzgsNy43NjkiIGlkPSJGaWxsLTE5IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEwLjA4Myw5MC4zNzUgTDEwLjA4Myw0Ni40MjEgTDEwLjE0Niw0Ni4zODUgTDc3LjQwMyw3LjU1NCBMNzcuNDAzLDUxLjUwOCBMNzcuMzQxLDUxLjU0NCBMMTAuMDgzLDkwLjM3NSBMMTAuMDgzLDkwLjM3NSBaIE0xMC4zMzMsNDYuNTY0IEwxMC4zMzMsODkuOTQ0IEw3Ny4xNTQsNTEuMzY1IEw3Ny4xNTQsNy45ODUgTDEwLjMzMyw0Ni41NjQgTDEwLjMzMyw0Ni41NjQgWiIgaWQ9IkZpbGwtMjAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMjUuNzM3LDg4LjY0NyBMMTE4LjA5OCw5MS45ODEgTDExOC4wOTgsODQgTDEwNi42MzksODguNzEzIEwxMDYuNjM5LDk2Ljk4MiBMOTksMTAwLjMxNSBMMTEyLjM2OSwxMDMuOTYxIEwxMjUuNzM3LDg4LjY0NyIgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTIiIGZpbGw9IiM0NTVBNjQiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+")},t.exports=RotateInstructions},{"./util.js":22}],17:[function(e,t,r){function ComplementaryFilter(e){this.kFilter=e,this.currentAccelMeasurement=new i,this.currentGyroMeasurement=new i,this.previousGyroMeasurement=new i,a.isIOS()?this.filterQ=new n.Quaternion(-1,0,0,1):this.filterQ=new n.Quaternion(1,0,0,1),this.previousFilterQ=new n.Quaternion,this.previousFilterQ.copy(this.filterQ),this.accelQ=new n.Quaternion,this.isOrientationInitialized=!1,this.estimatedGravity=new n.Vector3,this.measuredGravity=new n.Vector3,this.gyroIntegralQ=new n.Quaternion}var i=e("./sensor-sample.js"),n=e("../math-util.js"),a=e("../util.js");ComplementaryFilter.prototype.addAccelMeasurement=function(e,t){this.currentAccelMeasurement.set(e,t)},ComplementaryFilter.prototype.addGyroMeasurement=function(e,t){this.currentGyroMeasurement.set(e,t);var r=t-this.previousGyroMeasurement.timestampS;a.isTimestampDeltaValid(r)&&this.run_(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},ComplementaryFilter.prototype.run_=function(){if(!this.isOrientationInitialized)return this.accelQ=this.accelToQuaternion_(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),void(this.isOrientationInitialized=!0);var e=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,t=this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample,e);this.gyroIntegralQ.multiply(t),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(t);var r=new n.Quaternion;r.copy(this.filterQ),r.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(r),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var i=new n.Quaternion;i.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),i.inverse(),a.isDebug()&&console.log("Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)",n.radToDeg*a.getQuaternionAngle(i),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var s=new n.Quaternion;s.copy(this.filterQ),s.multiply(i),this.filterQ.slerp(s,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},ComplementaryFilter.prototype.getOrientation=function(){return this.filterQ},ComplementaryFilter.prototype.accelToQuaternion_=function(e){var t=new n.Vector3;t.copy(e),t.normalize();var r=new n.Quaternion;return r.setFromUnitVectors(new n.Vector3(0,0,-1),t),r.inverse(),r},ComplementaryFilter.prototype.gyroToQuaternionDelta_=function(e,t){var r=new n.Quaternion,i=new n.Vector3;return i.copy(e),i.normalize(),r.setFromAxisAngle(i,e.length()*t),r},t.exports=ComplementaryFilter},{"../math-util.js":14,"../util.js":22,"./sensor-sample.js":20}],18:[function(e,t,r){function FusionPoseSensor(){this.deviceId="webvr-polyfill:fused",this.deviceName="VR Position Device (webvr-polyfill:fused)",this.accelerometer=new s.Vector3,this.gyroscope=new s.Vector3,this.start(),this.filter=new i(WebVRConfig.K_FILTER),this.posePredictor=new n(WebVRConfig.PREDICTION_TIME_S),this.touchPanner=new a,this.filterToWorldQ=new s.Quaternion,o.isIOS()?this.filterToWorldQ.setFromAxisAngle(new s.Vector3(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new s.Vector3(1,0,0),-Math.PI/2),this.inverseWorldToScreenQ=new s.Quaternion,this.worldToScreenQ=new s.Quaternion,this.originalPoseAdjustQ=new s.Quaternion,this.originalPoseAdjustQ.setFromAxisAngle(new s.Vector3(0,0,1),-window.orientation*Math.PI/180),this.setScreenTransform_(),o.isLandscapeMode()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new s.Quaternion,this.isFirefoxAndroid=o.isFirefoxAndroid(),this.isIOS=o.isIOS(),this.orientationOut_=new Float32Array(4)}var i=e("./complementary-filter.js"),n=e("./pose-predictor.js"),a=e("../touch-panner.js"),s=e("../math-util.js"),o=e("../util.js");FusionPoseSensor.prototype.getPosition=function(){return null},FusionPoseSensor.prototype.getOrientation=function(){var e=this.filter.getOrientation();this.predictedQ=this.posePredictor.getPrediction(e,this.gyroscope,this.previousTimestampS);var t=new s.Quaternion;return t.copy(this.filterToWorldQ),t.multiply(this.resetQ),WebVRConfig.TOUCH_PANNER_DISABLED||t.multiply(this.touchPanner.getOrientation()),t.multiply(this.predictedQ),t.multiply(this.worldToScreenQ),WebVRConfig.YAW_ONLY&&(t.x=0,t.z=0,t.normalize()),this.orientationOut_[0]=t.x,this.orientationOut_[1]=t.y,this.orientationOut_[2]=t.z,this.orientationOut_[3]=t.w,this.orientationOut_},FusionPoseSensor.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),o.isLandscapeMode()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ),WebVRConfig.TOUCH_PANNER_DISABLED||this.touchPanner.resetSensor()},FusionPoseSensor.prototype.onDeviceMotion_=function(e){this.updateDeviceMotion_(e)},FusionPoseSensor.prototype.updateDeviceMotion_=function(e){var t=e.accelerationIncludingGravity,r=e.rotationRate,i=e.timeStamp/1e3;this.isFirefoxAndroid&&(i/=1e3);var n=i-this.previousTimestampS;if(n<=o.MIN_TIMESTEP||n>o.MAX_TIMESTEP)return console.warn("Invalid timestamps detected. Time step between successive gyroscope sensor samples is very small or not monotonic"),void(this.previousTimestampS=i);this.accelerometer.set(-t.x,-t.y,-t.z),this.gyroscope.set(r.alpha,r.beta,r.gamma),(this.isIOS||this.isFirefoxAndroid)&&this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addAccelMeasurement(this.accelerometer,i),this.filter.addGyroMeasurement(this.gyroscope,i),this.previousTimestampS=i},FusionPoseSensor.prototype.onOrientationChange_=function(e){this.setScreenTransform_()},FusionPoseSensor.prototype.onMessage_=function(e){var t=e.data;if(t&&t.type){"devicemotion"===t.type.toLowerCase()&&this.updateDeviceMotion_(t.deviceMotionEvent)}},FusionPoseSensor.prototype.setScreenTransform_=function(){switch(this.worldToScreenQ.set(0,0,0,1),window.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new s.Vector3(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new s.Vector3(0,0,1),Math.PI/2);break;case 180:}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},FusionPoseSensor.prototype.start=function(){this.onDeviceMotionCallback_=this.onDeviceMotion_.bind(this),this.onOrientationChangeCallback_=this.onOrientationChange_.bind(this),this.onMessageCallback_=this.onMessage_.bind(this),o.isIOS()&&o.isInsideCrossDomainIFrame()&&window.addEventListener("message",this.onMessageCallback_),window.addEventListener("orientationchange",this.onOrientationChangeCallback_),window.addEventListener("devicemotion",this.onDeviceMotionCallback_)},FusionPoseSensor.prototype.stop=function(){window.removeEventListener("devicemotion",this.onDeviceMotionCallback_),window.removeEventListener("orientationchange",this.onOrientationChangeCallback_),window.removeEventListener("message",this.onMessageCallback_)},t.exports=FusionPoseSensor},{"../math-util.js":14,"../touch-panner.js":21,"../util.js":22,"./complementary-filter.js":17,"./pose-predictor.js":19}],19:[function(e,t,r){function PosePredictor(e){this.predictionTimeS=e,this.previousQ=new i.Quaternion,this.previousTimestampS=null,this.deltaQ=new i.Quaternion,this.outQ=new i.Quaternion}var i=e("../math-util"),n=e("../util");PosePredictor.prototype.getPrediction=function(e,t,r){if(!this.previousTimestampS)return this.previousQ.copy(e),this.previousTimestampS=r,e;var a=new i.Vector3;a.copy(t),a.normalize();var s=t.length();if(s<20*i.degToRad)return n.isDebug()&&console.log("Moving slowly, at %s deg/s: no prediction",(i.radToDeg*s).toFixed(1)),this.outQ.copy(e),this.previousQ.copy(e),this.outQ;var o=(this.previousTimestampS,s*this.predictionTimeS);return this.deltaQ.setFromAxisAngle(a,o),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(e),this.previousTimestampS=r,this.outQ},t.exports=PosePredictor},{"../math-util":14,"../util":22}],20:[function(e,t,r){function SensorSample(e,t){this.set(e,t)}SensorSample.prototype.set=function(e,t){this.sample=e,this.timestampS=t},SensorSample.prototype.copy=function(e){this.set(e.sample,e.timestampS)},t.exports=SensorSample},{}],21:[function(e,t,r){function TouchPanner(){window.addEventListener("touchstart",this.onTouchStart_.bind(this)),window.addEventListener("touchmove",this.onTouchMove_.bind(this)),window.addEventListener("touchend",this.onTouchEnd_.bind(this)),this.isTouching=!1,this.rotateStart=new i.Vector2,this.rotateEnd=new i.Vector2,this.rotateDelta=new i.Vector2,this.theta=0,this.orientation=new i.Quaternion}var i=e("./math-util.js"),n=e("./util.js");TouchPanner.prototype.getOrientation=function(){return this.orientation.setFromEulerXYZ(0,0,this.theta),this.orientation},TouchPanner.prototype.resetSensor=function(){this.theta=0},TouchPanner.prototype.onTouchStart_=function(e){1==e.touches.length&&(this.rotateStart.set(e.touches[0].pageX,e.touches[0].pageY),this.isTouching=!0)},TouchPanner.prototype.onTouchMove_=function(e){if(this.isTouching){this.rotateEnd.set(e.touches[0].pageX,e.touches[0].pageY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart),this.rotateStart.copy(this.rotateEnd),n.isIOS()&&(this.rotateDelta.x*=-1);var t=document.body;this.theta+=2*Math.PI*this.rotateDelta.x/t.clientWidth*.5}},TouchPanner.prototype.onTouchEnd_=function(e){this.isTouching=!1},t.exports=TouchPanner},{"./math-util.js":14,"./util.js":22}],22:[function(e,t,r){var i=e("object-assign"),n=window.Util||{};n.MIN_TIMESTEP=.001,n.MAX_TIMESTEP=1,n.base64=function(e,t){return"data:"+e+";base64,"+t},n.clamp=function(e,t,r){return Math.min(Math.max(t,e),r)},n.lerp=function(e,t,r){return e+(t-e)*r},n.isIOS=function(){var e=/iPad|iPhone|iPod/.test(navigator.platform);return function(){return e}}(),n.isSafari=function(){var e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return function(){return e}}(),n.isFirefoxAndroid=function(){var e=navigator.userAgent.indexOf("Firefox")!==-1&&navigator.userAgent.indexOf("Android")!==-1;return function(){return e}}(),n.isLandscapeMode=function(){return 90==window.orientation||window.orientation==-90},n.isTimestampDeltaValid=function(e){return!isNaN(e)&&(!(e<=n.MIN_TIMESTEP)&&!(e>n.MAX_TIMESTEP))},n.getScreenWidth=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},n.getScreenHeight=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},n.requestFullscreen=function(e){if(e.requestFullscreen)e.requestFullscreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else{if(!e.msRequestFullscreen)return!1;e.msRequestFullscreen()}return!0},n.exitFullscreen=function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},n.getFullscreenElement=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},n.linkProgram=function(e,t,r,i){var n=e.createShader(e.VERTEX_SHADER);e.shaderSource(n,t),e.compileShader(n);var a=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(a,r),e.compileShader(a);var s=e.createProgram();e.attachShader(s,n),e.attachShader(s,a);for(var o in i)e.bindAttribLocation(s,i[o],o);return e.linkProgram(s),e.deleteShader(n),e.deleteShader(a),s},n.getProgramUniforms=function(e,t){for(var r={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n="",a=0;a<i;a++){n=e.getActiveUniform(t,a).name.replace("[0]",""),r[n]=e.getUniformLocation(t,n)}return r},n.orthoMatrix=function(e,t,r,i,n,a,s){var o=1/(t-r),u=1/(i-n),c=1/(a-s);return e[0]=-2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*o,e[13]=(n+i)*u,e[14]=(s+a)*c,e[15]=1,e},n.copyArray=function(e,t){for(var r=0,i=e.length;r<i;r++)t[r]=e[r]},n.isMobile=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},n.extend=i,n.safariCssSizeWorkaround=function(e){if(n.isIOS()){var t=e.style.width,r=e.style.height;e.style.width=parseInt(t)+1+"px",e.style.height=parseInt(r)+"px",setTimeout(function(){e.style.width=t,e.style.height=r},100)}window.Util=n,window.canvas=e},n.isDebug=function(){return n.getQueryParameter("debug")},n.getQueryParameter=function(e){var e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+e+"=([^&#]*)"),r=t.exec(location.search);return null===r?"":decodeURIComponent(r[1].replace(/\+/g," "))},n.frameDataFromPose=function(){function mat4_perspectiveFromFieldOfView(r,i,n,a){var s=Math.tan(i?i.upDegrees*e:t),o=Math.tan(i?i.downDegrees*e:t),u=Math.tan(i?i.leftDegrees*e:t),c=Math.tan(i?i.rightDegrees*e:t),M=2/(u+c),l=2/(s+o);return r[0]=M,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=l,r[6]=0,r[7]=0,r[8]=-((u-c)*M*.5),r[9]=(s-o)*l*.5,r[10]=a/(n-a),r[11]=-1,r[12]=0,r[13]=0,r[14]=a*n/(n-a),r[15]=0,r}function mat4_fromRotationTranslation(e,t,r){var i=t[0],n=t[1],a=t[2],s=t[3],o=i+i,u=n+n,c=a+a,M=i*o,l=i*u,f=i*c,A=n*u,g=n*c,d=a*c,D=s*o,p=s*u,N=s*c;return e[0]=1-(A+d),e[1]=l+N,e[2]=f-p,e[3]=0,e[4]=l-N,e[5]=1-(M+d),e[6]=g+D,e[7]=0,e[8]=f+p,e[9]=g-D,e[10]=1-(M+A),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function mat4_translate(e,t,r){var i,n,a,s,o,u,c,M,l,f,A,g,d=r[0],D=r[1],p=r[2];return t===e?(e[12]=t[0]*d+t[4]*D+t[8]*p+t[12],e[13]=t[1]*d+t[5]*D+t[9]*p+t[13],e[14]=t[2]*d+t[6]*D+t[10]*p+t[14],e[15]=t[3]*d+t[7]*D+t[11]*p+t[15]):(i=t[0],n=t[1],a=t[2],s=t[3],o=t[4],u=t[5],c=t[6],M=t[7],l=t[8],f=t[9],A=t[10],g=t[11],e[0]=i,e[1]=n,e[2]=a,e[3]=s,e[4]=o,e[5]=u,e[6]=c,e[7]=M,e[8]=l,e[9]=f,e[10]=A,e[11]=g,e[12]=i*d+o*D+l*p+t[12],e[13]=n*d+u*D+f*p+t[13],e[14]=a*d+c*D+A*p+t[14],e[15]=s*d+M*D+g*p+t[15]),e}function mat4_invert(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],s=t[4],o=t[5],u=t[6],c=t[7],M=t[8],l=t[9],f=t[10],A=t[11],g=t[12],d=t[13],D=t[14],p=t[15],N=r*o-i*s,y=r*u-n*s,h=r*c-a*s,m=i*u-n*o,j=i*c-a*o,w=n*c-a*u,L=M*d-l*g,I=M*D-f*g,T=M*p-A*g,E=l*D-f*d,x=l*p-A*d,b=f*p-A*D,z=N*b-y*x+h*E+m*T-j*I+w*L;return z?(z=1/z,e[0]=(o*b-u*x+c*E)*z,e[1]=(n*x-i*b-a*E)*z,e[2]=(d*w-D*j+p*m)*z,e[3]=(f*j-l*w-A*m)*z,e[4]=(u*T-s*b-c*I)*z,e[5]=(r*b-n*T+a*I)*z,e[6]=(D*h-g*w-p*y)*z,e[7]=(M*w-f*h+A*y)*z,e[8]=(s*x-o*T+c*L)*z,e[9]=(i*T-r*x-a*L)*z,e[10]=(g*j-d*h+p*N)*z,e[11]=(l*h-M*j-A*N)*z,e[12]=(o*I-s*E-u*L)*z,e[13]=(r*E-i*I+n*L)*z,e[14]=(d*y-g*m-D*N)*z,e[15]=(M*m-l*y+f*N)*z,e):null}function updateEyeMatrices(e,t,n,a,s){mat4_perspectiveFromFieldOfView(e,a?a.fieldOfView:null,s.depthNear,s.depthFar),mat4_fromRotationTranslation(t,n.orientation||r,n.position||i),a&&mat4_translate(t,t,a.offset),mat4_invert(t,t)}var e=Math.PI/180,t=.25*Math.PI,r=new Float32Array([0,0,0,1]),i=new Float32Array([0,0,0]);return function(e,t,r){return!(!e||!t)&&(e.pose=t,e.timestamp=t.timestamp,updateEyeMatrices(e.leftProjectionMatrix,e.leftViewMatrix,t,r.getEyeParameters("left"),r),updateEyeMatrices(e.rightProjectionMatrix,e.rightViewMatrix,t,r.getEyeParameters("right"),r),!0)}}(),n.isInsideCrossDomainIFrame=function(){var e=window.self!==window.top,t=n.getDomainFromUrl(document.referrer),r=n.getDomainFromUrl(window.location.href);return e&&t!==r},n.getDomainFromUrl=function(e){var t;return t=e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0],t=t.split(":")[0]},t.exports=n},{"object-assign":2}],23:[function(e,t,r){function ViewerSelector(){try{this.selectedKey=localStorage.getItem(s)||a}catch(e){console.error("Failed to load viewer profile: %s",e)}this.dialog=this.createDialog_(i.Viewers),this.root=null}var i=e("./device-info.js"),n=e("eventemitter3"),a=(e("./util.js"),"CardboardV1"),s="WEBVR_CARDBOARD_VIEWER";ViewerSelector.prototype=new n,ViewerSelector.prototype.show=function(e){this.root=e,e.appendChild(this.dialog),this.dialog.querySelector("#"+this.selectedKey).checked=!0,this.dialog.style.display="block"},ViewerSelector.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display="none"},ViewerSelector.prototype.getCurrentViewer=function(){return i.Viewers[this.selectedKey]},ViewerSelector.prototype.getSelectedKey_=function(){var e=this.dialog.querySelector("input[name=field]:checked");return e?e.id:null},ViewerSelector.prototype.onSave_=function(){if(this.selectedKey=this.getSelectedKey_(),!this.selectedKey||!i.Viewers[this.selectedKey])return void console.error("ViewerSelector.onSave_: this should never happen!");this.emit("change",i.Viewers[this.selectedKey]);try{localStorage.setItem(s,this.selectedKey)}catch(e){console.error("Failed to save viewer profile: %s",e)}this.hide()},ViewerSelector.prototype.createDialog_=function(e){var t=document.createElement("div");t.classList.add("webvr-polyfill-viewer-selector"),t.style.display="none";var r=document.createElement("div"),i=r.style;i.position="fixed",i.left=0,i.top=0,i.width="100%",i.height="100%",i.background="rgba(0, 0, 0, 0.3)",r.addEventListener("click",this.hide.bind(this));var n=280,a=document.createElement("div"),i=a.style;i.boxSizing="border-box",i.position="fixed",i.top="24px",i.left="50%",i.marginLeft=-n/2+"px",i.width=n+"px",i.padding="24px",i.overflow="hidden",i.background="#fafafa",i.fontFamily="'Roboto', sans-serif",i.boxShadow="0px 5px 20px #666",a.appendChild(this.createH1_("Select your viewer"));for(var s in e)a.appendChild(this.createChoice_(s,e[s].label));return a.appendChild(this.createButton_("Save",this.onSave_.bind(this))),t.appendChild(r),t.appendChild(a),t},ViewerSelector.prototype.createH1_=function(e){var t=document.createElement("h1"),r=t.style;return r.color="black",r.fontSize="20px",r.fontWeight="bold",r.marginTop=0,r.marginBottom="24px",t.innerHTML=e,t},ViewerSelector.prototype.createChoice_=function(e,t){var r=document.createElement("div");r.style.marginTop="8px",r.style.color="black";var i=document.createElement("input");i.style.fontSize="30px",i.setAttribute("id",e),i.setAttribute("type","radio"),i.setAttribute("value",e),i.setAttribute("name","field");var n=document.createElement("label");return n.style.marginLeft="4px",n.setAttribute("for",e),n.innerHTML=t,r.appendChild(i),r.appendChild(n),r},ViewerSelector.prototype.createButton_=function(e,t){var r=document.createElement("button");r.innerHTML=e;var i=r.style;return i.float="right",i.textTransform="uppercase",i.color="#1094f7",i.fontSize="14px",i.letterSpacing=0,i.border=0,i.background="none",i.marginTop="16px",r.addEventListener("click",t),r},t.exports=ViewerSelector},{"./device-info.js":8,"./util.js":22,eventemitter3:1}],24:[function(e,t,r){function AndroidWakeLock(){var e=document.createElement("video");e.addEventListener("ended",function(){e.play()}),this.request=function(){e.paused&&(e.src=i.base64("video/mp4","AAAAGGZ0eXBpc29tAAAAAG1wNDFhdmMxAAAIA21vb3YAAABsbXZoZAAAAADSa9v60mvb+gABX5AAlw/gAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAdkdHJhawAAAFx0a2hkAAAAAdJr2/rSa9v6AAAAAQAAAAAAlw/gAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAQAAAAHAAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAJcP4AAAAAAAAQAAAAAG3G1kaWEAAAAgbWRoZAAAAADSa9v60mvb+gAPQkAGjneAFccAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAABodtaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAZHc3RibAAAAJdzdHNkAAAAAAAAAAEAAACHYXZjMQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAMABwASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADFhdmNDAWQAC//hABlnZAALrNlfllw4QAAAAwBAAAADAKPFCmWAAQAFaOvssiwAAAAYc3R0cwAAAAAAAAABAAAAbgAPQkAAAAAUc3RzcwAAAAAAAAABAAAAAQAAA4BjdHRzAAAAAAAAAG4AAAABAD0JAAAAAAEAehIAAAAAAQA9CQAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEALcbAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAABuAAAAAQAAAcxzdHN6AAAAAAAAAAAAAABuAAADCQAAABgAAAAOAAAADgAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABMAAAAUc3RjbwAAAAAAAAABAAAIKwAAACt1ZHRhAAAAI6llbmMAFwAAdmxjIDIuMi4xIHN0cmVhbSBvdXRwdXQAAAAId2lkZQAACRRtZGF0AAACrgX//6vcRem95tlIt5Ys2CDZI+7veDI2NCAtIGNvcmUgMTQyIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDEzIG1lPWhleCBzdWJtZT03IHBzeT0xIHBzeV9yZD0xLjAwOjAuMDAgbWl4ZWRfcmVmPTEgbWVfcmFuZ2U9MTYgY2hyb21hX21lPTEgdHJlbGxpcz0xIDh4OGRjdD0xIGNxbT0wIGRlYWR6b25lPTIxLDExIGZhc3RfcHNraXA9MSBjaHJvbWFfcXBfb2Zmc2V0PS0yIHRocmVhZHM9MTIgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PTI1MCBrZXlpbnRfbWluPTEgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD00MCByYz1hYnIgbWJ0cmVlPTEgYml0cmF0ZT0xMDAgcmF0ZXRvbD0xLjAgcWNvbXA9MC42MCBxcG1pbj0xMCBxcG1heD01MSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAU2WIhAAQ/8ltlOe+cTZuGkKg+aRtuivcDZ0pBsfsEi9p/i1yU9DxS2lq4dXTinViF1URBKXgnzKBd/Uh1bkhHtMrwrRcOJslD01UB+fyaL6ef+DBAAAAFEGaJGxBD5B+v+a+4QqF3MgBXz9MAAAACkGeQniH/+94r6EAAAAKAZ5hdEN/8QytwAAAAAgBnmNqQ3/EgQAAAA5BmmhJqEFomUwIIf/+4QAAAApBnoZFESw//76BAAAACAGepXRDf8SBAAAACAGep2pDf8SAAAAADkGarEmoQWyZTAgh//7gAAAACkGeykUVLD//voEAAAAIAZ7pdEN/xIAAAAAIAZ7rakN/xIAAAAAOQZrwSahBbJlMCCH//uEAAAAKQZ8ORRUsP/++gQAAAAgBny10Q3/EgQAAAAgBny9qQ3/EgAAAAA5BmzRJqEFsmUwIIf/+4AAAAApBn1JFFSw//76BAAAACAGfcXRDf8SAAAAACAGfc2pDf8SAAAAADkGbeEmoQWyZTAgh//7hAAAACkGflkUVLD//voAAAAAIAZ+1dEN/xIEAAAAIAZ+3akN/xIEAAAAOQZu8SahBbJlMCCH//uAAAAAKQZ/aRRUsP/++gQAAAAgBn/l0Q3/EgAAAAAgBn/tqQ3/EgQAAAA5Bm+BJqEFsmUwIIf/+4QAAAApBnh5FFSw//76AAAAACAGePXRDf8SAAAAACAGeP2pDf8SBAAAADkGaJEmoQWyZTAgh//7gAAAACkGeQkUVLD//voEAAAAIAZ5hdEN/xIAAAAAIAZ5jakN/xIEAAAAOQZpoSahBbJlMCCH//uEAAAAKQZ6GRRUsP/++gQAAAAgBnqV0Q3/EgQAAAAgBnqdqQ3/EgAAAAA5BmqxJqEFsmUwIIf/+4AAAAApBnspFFSw//76BAAAACAGe6XRDf8SAAAAACAGe62pDf8SAAAAADkGa8EmoQWyZTAgh//7hAAAACkGfDkUVLD//voEAAAAIAZ8tdEN/xIEAAAAIAZ8vakN/xIAAAAAOQZs0SahBbJlMCCH//uAAAAAKQZ9SRRUsP/++gQAAAAgBn3F0Q3/EgAAAAAgBn3NqQ3/EgAAAAA5Bm3hJqEFsmUwIIf/+4QAAAApBn5ZFFSw//76AAAAACAGftXRDf8SBAAAACAGft2pDf8SBAAAADkGbvEmoQWyZTAgh//7gAAAACkGf2kUVLD//voEAAAAIAZ/5dEN/xIAAAAAIAZ/7akN/xIEAAAAOQZvgSahBbJlMCCH//uEAAAAKQZ4eRRUsP/++gAAAAAgBnj10Q3/EgAAAAAgBnj9qQ3/EgQAAAA5BmiRJqEFsmUwIIf/+4AAAAApBnkJFFSw//76BAAAACAGeYXRDf8SAAAAACAGeY2pDf8SBAAAADkGaaEmoQWyZTAgh//7hAAAACkGehkUVLD//voEAAAAIAZ6ldEN/xIEAAAAIAZ6nakN/xIAAAAAOQZqsSahBbJlMCCH//uAAAAAKQZ7KRRUsP/++gQAAAAgBnul0Q3/EgAAAAAgBnutqQ3/EgAAAAA5BmvBJqEFsmUwIIf/+4QAAAApBnw5FFSw//76BAAAACAGfLXRDf8SBAAAACAGfL2pDf8SAAAAADkGbNEmoQWyZTAgh//7gAAAACkGfUkUVLD//voEAAAAIAZ9xdEN/xIAAAAAIAZ9zakN/xIAAAAAOQZt4SahBbJlMCCH//uEAAAAKQZ+WRRUsP/++gAAAAAgBn7V0Q3/EgQAAAAgBn7dqQ3/EgQAAAA5Bm7xJqEFsmUwIIf/+4AAAAApBn9pFFSw//76BAAAACAGf+XRDf8SAAAAACAGf+2pDf8SBAAAADkGb4EmoQWyZTAgh//7hAAAACkGeHkUVLD//voAAAAAIAZ49dEN/xIAAAAAIAZ4/akN/xIEAAAAOQZokSahBbJlMCCH//uAAAAAKQZ5CRRUsP/++gQAAAAgBnmF0Q3/EgAAAAAgBnmNqQ3/EgQAAAA5BmmhJqEFsmUwIIf/+4QAAAApBnoZFFSw//76BAAAACAGepXRDf8SBAAAACAGep2pDf8SAAAAADkGarEmoQWyZTAgh//7gAAAACkGeykUVLD//voEAAAAIAZ7pdEN/xIAAAAAIAZ7rakN/xIAAAAAPQZruSahBbJlMFEw3//7B"),e.play())},this.release=function(){e.pause(),e.src=""}}function iOSWakeLock(){var e=null;this.request=function(){e||(e=setInterval(function(){window.location=window.location,setTimeout(window.stop,0)},3e4))},this.release=function(){e&&(clearInterval(e),e=null)}}function getWakeLock(){var e=navigator.userAgent||navigator.vendor||window.opera;return e.match(/iPhone/i)||e.match(/iPod/i)?iOSWakeLock:AndroidWakeLock}var i=e("./util.js");t.exports=getWakeLock()},{"./util.js":22}],25:[function(e,t,r){function WebVRPolyfill(){this.displays=[],this.devices=[],this.devicesPopulated=!1,this.nativeWebVRAvailable=this.isWebVRAvailable(),this.nativeLegacyWebVRAvailable=this.isDeprecatedWebVRAvailable(),this.nativeGetVRDisplaysFunc=this.nativeWebVRAvailable?navigator.getVRDisplays:null,this.nativeLegacyWebVRAvailable||(this.enablePolyfill(),WebVRConfig.ENABLE_DEPRECATED_API&&this.enableDeprecatedPolyfill()),InstallWebVRSpecShim()}function InstallWebVRSpecShim(){"VRDisplay"in window&&!("VRFrameData"in window)&&(window.VRFrameData=o,"depthNear"in window.VRDisplay.prototype||(window.VRDisplay.prototype.depthNear=.01),"depthFar"in window.VRDisplay.prototype||(window.VRDisplay.prototype.depthFar=1e4),window.VRDisplay.prototype.getFrameData=function(e){return i.frameDataFromPose(e,this.getPose(),this)})}var i=e("./util.js"),n=e("./cardboard-vr-display.js"),a=e("./mouse-keyboard-vr-display.js"),s=e("./base.js").VRDisplay,o=e("./base.js").VRFrameData,u=e("./base.js").HMDVRDevice,c=e("./base.js").PositionSensorVRDevice,M=e("./display-wrappers.js").VRDisplayHMDDevice,l=e("./display-wrappers.js").VRDisplayPositionSensorDevice;WebVRPolyfill.prototype.isWebVRAvailable=function(){return"getVRDisplays"in navigator},WebVRPolyfill.prototype.isDeprecatedWebVRAvailable=function(){return"getVRDevices"in navigator||"mozGetVRDevices"in navigator},WebVRPolyfill.prototype.populateDevices=function(){if(!this.devicesPopulated){var e=null;this.isCardboardCompatible()&&(e=new n,this.displays.push(e),WebVRConfig.ENABLE_DEPRECATED_API&&(this.devices.push(new M(e)),this.devices.push(new l(e)))),this.isMobile()||WebVRConfig.MOUSE_KEYBOARD_CONTROLS_DISABLED||(e=new a,this.displays.push(e),WebVRConfig.ENABLE_DEPRECATED_API&&(this.devices.push(new M(e)),this.devices.push(new l(e)))),this.devicesPopulated=!0}},WebVRPolyfill.prototype.enablePolyfill=function(){if(navigator.getVRDisplays=this.getVRDisplays.bind(this),this.nativeWebVRAvailable&&this.isCardboardCompatible()&&window.VRFrameData){var e=new window.VRFrameData,t=window.VRDisplay.prototype.getFrameData;window.VRFrameData=o,window.VRDisplay.prototype.getFrameData=function(r){t.call(this,e),r.pose=e.pose,i.copyArray(e.leftProjectionMatrix,r.leftProjectionMatrix),i.copyArray(e.rightProjectionMatrix,r.rightProjectionMatrix),i.copyArray(e.leftViewMatrix,r.leftViewMatrix),i.copyArray(e.rightViewMatrix,r.rightViewMatrix)}}window.VRDisplay=s;var r=this;Object.defineProperty(navigator,"vrEnabled",{get:function(){return r.isCardboardCompatible()&&(r.isFullScreenAvailable()||i.isIOS())}}),!1 in window&&(window.VRFrameData=o)},WebVRPolyfill.prototype.enableDeprecatedPolyfill=function(){navigator.getVRDevices=this.getVRDevices.bind(this),window.HMDVRDevice=u,window.PositionSensorVRDevice=c},WebVRPolyfill.prototype.getVRDisplays=function(){this.populateDevices();var e=this.displays;return this.nativeWebVRAvailable?this.nativeGetVRDisplaysFunc.call(navigator).then(function(t){return WebVRConfig.ALWAYS_APPEND_POLYFILL_DISPLAY?t.concat(e):t.length>0?t:e}):new Promise(function(t,r){try{t(e)}catch(e){r(e)}})},WebVRPolyfill.prototype.getVRDevices=function(){console.warn("getVRDevices is deprecated. Please update your code to use getVRDisplays instead.");var e=this;return new Promise(function(t,r){try{if(!e.devicesPopulated){if(e.nativeWebVRAvailable)return navigator.getVRDisplays(function(r){for(var i=0;i<r.length;++i)e.devices.push(new M(r[i])),e.devices.push(new l(r[i]));e.devicesPopulated=!0,t(e.devices)},r);if(e.nativeLegacyWebVRAvailable)return(navigator.getVRDDevices||navigator.mozGetVRDevices)(function(r){for(var i=0;i<r.length;++i)r[i]instanceof u&&e.devices.push(r[i]),r[i]instanceof c&&e.devices.push(r[i]);e.devicesPopulated=!0,t(e.devices)},r)}e.populateDevices(),t(e.devices)}catch(e){r(e)}})},WebVRPolyfill.prototype.isMobile=function(){return/Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)},WebVRPolyfill.prototype.isCardboardCompatible=function(){return this.isMobile()||WebVRConfig.FORCE_ENABLE_VR},WebVRPolyfill.prototype.isFullScreenAvailable=function(){return document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||!1},t.exports.WebVRPolyfill=WebVRPolyfill},{"./base.js":3,"./cardboard-vr-display.js":6,"./display-wrappers.js":9,"./mouse-keyboard-vr-display.js":15,"./util.js":22}]},{},[13])(13)})},,function(e,t,r){"use strict";function create(){var e=new Float32Array(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}e.exports=create},function(e,t,r){"use strict";function adjoint(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],s=t[4],o=t[5],u=t[6],c=t[7],M=t[8],l=t[9],f=t[10],A=t[11],g=t[12],d=t[13],D=t[14],p=t[15];return e[0]=o*(f*p-A*D)-l*(u*p-c*D)+d*(u*A-c*f),e[1]=-(i*(f*p-A*D)-l*(n*p-a*D)+d*(n*A-a*f)),e[2]=i*(u*p-c*D)-o*(n*p-a*D)+d*(n*c-a*u),e[3]=-(i*(u*A-c*f)-o*(n*A-a*f)+l*(n*c-a*u)),e[4]=-(s*(f*p-A*D)-M*(u*p-c*D)+g*(u*A-c*f)),e[5]=r*(f*p-A*D)-M*(n*p-a*D)+g*(n*A-a*f),e[6]=-(r*(u*p-c*D)-s*(n*p-a*D)+g*(n*c-a*u)),e[7]=r*(u*A-c*f)-s*(n*A-a*f)+M*(n*c-a*u),e[8]=s*(l*p-A*d)-M*(o*p-c*d)+g*(o*A-c*l),e[9]=-(r*(l*p-A*d)-M*(i*p-a*d)+g*(i*A-a*l)),e[10]=r*(o*p-c*d)-s*(i*p-a*d)+g*(i*c-a*o),e[11]=-(r*(o*A-c*l)-s*(i*A-a*l)+M*(i*c-a*o)),e[12]=-(s*(l*D-f*d)-M*(o*D-u*d)+g*(o*f-u*l)),e[13]=r*(l*D-f*d)-M*(i*D-n*d)+g*(i*f-n*l),e[14]=-(r*(o*D-u*d)-s*(i*D-n*d)+g*(i*u-n*o)),e[15]=r*(o*f-u*l)-s*(i*f-n*l)+M*(i*u-n*o),e}e.exports=adjoint},function(e,t,r){"use strict";function clone(e){var t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}e.exports=clone},function(e,t,r){"use strict";function copy(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}e.exports=copy},function(e,t,r){"use strict";function create(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}e.exports=create},function(e,t,r){"use strict";function determinant(e){var t=e[0],r=e[1],i=e[2],n=e[3],a=e[4],s=e[5],o=e[6],u=e[7],c=e[8],M=e[9],l=e[10],f=e[11],A=e[12],g=e[13],d=e[14],D=e[15];return(t*s-r*a)*(l*D-f*d)-(t*o-i*a)*(M*D-f*g)+(t*u-n*a)*(M*d-l*g)+(r*o-i*s)*(c*D-f*A)-(r*u-n*s)*(c*d-l*A)+(i*u-n*o)*(c*g-M*A)}e.exports=determinant},function(e,t,r){"use strict";function fromQuat(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],s=r+r,o=i+i,u=n+n,c=r*s,M=i*s,l=i*o,f=n*s,A=n*o,g=n*u,d=a*s,D=a*o,p=a*u;return e[0]=1-l-g,e[1]=M+p,e[2]=f-D,e[3]=0,e[4]=M-p,e[5]=1-c-g,e[6]=A+d,e[7]=0,e[8]=f+D,e[9]=A-d,e[10]=1-c-l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}e.exports=fromQuat},function(e,t,r){"use strict";function fromRotationTranslation(e,t,r){var i=t[0],n=t[1],a=t[2],s=t[3],o=i+i,u=n+n,c=a+a,M=i*o,l=i*u,f=i*c,A=n*u,g=n*c,d=a*c,D=s*o,p=s*u,N=s*c;return e[0]=1-(A+d),e[1]=l+N,e[2]=f-p,e[3]=0,e[4]=l-N,e[5]=1-(M+d),e[6]=g+D,e[7]=0,e[8]=f+p,e[9]=g-D,e[10]=1-(M+A),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}e.exports=fromRotationTranslation},function(e,t,r){"use strict";function frustum(e,t,r,i,n,a,s){var o=1/(r-t),u=1/(n-i),c=1/(a-s);return e[0]=2*a*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*a*u,e[6]=0,e[7]=0,e[8]=(r+t)*o,e[9]=(n+i)*u,e[10]=(s+a)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=s*a*2*c,e[15]=0,e}e.exports=frustum},function(e,t,r){"use strict";e.exports={create:r(11),clone:r(9),copy:r(10),identity:r(1),transpose:r(30),invert:r(17),adjoint:r(8),determinant:r(12),multiply:r(19),translate:r(29),scale:r(27),rotate:r(23),rotateX:r(24),rotateY:r(25),rotateZ:r(26),fromRotationTranslation:r(14),fromQuat:r(13),frustum:r(15),perspective:r(21),perspectiveFromFieldOfView:r(22),ortho:r(20),lookAt:r(18),str:r(28)}},function(e,t,r){"use strict";function invert(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],s=t[4],o=t[5],u=t[6],c=t[7],M=t[8],l=t[9],f=t[10],A=t[11],g=t[12],d=t[13],D=t[14],p=t[15],N=r*o-i*s,y=r*u-n*s,h=r*c-a*s,m=i*u-n*o,j=i*c-a*o,w=n*c-a*u,L=M*d-l*g,I=M*D-f*g,T=M*p-A*g,E=l*D-f*d,x=l*p-A*d,b=f*p-A*D,z=N*b-y*x+h*E+m*T-j*I+w*L;return z?(z=1/z,e[0]=(o*b-u*x+c*E)*z,e[1]=(n*x-i*b-a*E)*z,e[2]=(d*w-D*j+p*m)*z,e[3]=(f*j-l*w-A*m)*z,e[4]=(u*T-s*b-c*I)*z,e[5]=(r*b-n*T+a*I)*z,e[6]=(D*h-g*w-p*y)*z,e[7]=(M*w-f*h+A*y)*z,e[8]=(s*x-o*T+c*L)*z,e[9]=(i*T-r*x-a*L)*z,e[10]=(g*j-d*h+p*N)*z,e[11]=(l*h-M*j-A*N)*z,e[12]=(o*I-s*E-u*L)*z,e[13]=(r*E-i*I+n*L)*z,e[14]=(d*y-g*m-D*N)*z,e[15]=(M*m-l*y+f*N)*z,e):null}e.exports=invert},function(e,t,r){"use strict";function lookAt(e,t,r,n){var a,s,o,u,c,M,l,f,A,g,d=t[0],D=t[1],p=t[2],N=n[0],y=n[1],h=n[2],m=r[0],j=r[1],w=r[2];return Math.abs(d-m)<1e-6&&Math.abs(D-j)<1e-6&&Math.abs(p-w)<1e-6?i(e):(l=d-m,f=D-j,A=p-w,g=1/Math.sqrt(l*l+f*f+A*A),l*=g,f*=g,A*=g,a=y*A-h*f,s=h*l-N*A,o=N*f-y*l,g=Math.sqrt(a*a+s*s+o*o),g?(g=1/g,a*=g,s*=g,o*=g):(a=0,s=0,o=0),u=f*o-A*s,c=A*a-l*o,M=l*s-f*a,g=Math.sqrt(u*u+c*c+M*M),g?(g=1/g,u*=g,c*=g,M*=g):(u=0,c=0,M=0),e[0]=a,e[1]=u,e[2]=l,e[3]=0,e[4]=s,e[5]=c,e[6]=f,e[7]=0,e[8]=o,e[9]=M,e[10]=A,e[11]=0,e[12]=-(a*d+s*D+o*p),e[13]=-(u*d+c*D+M*p),e[14]=-(l*d+f*D+A*p),e[15]=1,e)}var i=r(1);e.exports=lookAt},function(e,t,r){"use strict";function multiply(e,t,r){var i=t[0],n=t[1],a=t[2],s=t[3],o=t[4],u=t[5],c=t[6],M=t[7],l=t[8],f=t[9],A=t[10],g=t[11],d=t[12],D=t[13],p=t[14],N=t[15],y=r[0],h=r[1],m=r[2],j=r[3];return e[0]=y*i+h*o+m*l+j*d,e[1]=y*n+h*u+m*f+j*D,e[2]=y*a+h*c+m*A+j*p,e[3]=y*s+h*M+m*g+j*N,y=r[4],h=r[5],m=r[6],j=r[7],e[4]=y*i+h*o+m*l+j*d,e[5]=y*n+h*u+m*f+j*D,e[6]=y*a+h*c+m*A+j*p,e[7]=y*s+h*M+m*g+j*N,y=r[8],h=r[9],m=r[10],j=r[11],e[8]=y*i+h*o+m*l+j*d,e[9]=y*n+h*u+m*f+j*D,e[10]=y*a+h*c+m*A+j*p,e[11]=y*s+h*M+m*g+j*N,y=r[12],h=r[13],m=r[14],j=r[15],e[12]=y*i+h*o+m*l+j*d,e[13]=y*n+h*u+m*f+j*D,e[14]=y*a+h*c+m*A+j*p,e[15]=y*s+h*M+m*g+j*N,e}e.exports=multiply},function(e,t,r){"use strict";function ortho(e,t,r,i,n,a,s){var o=1/(t-r),u=1/(i-n),c=1/(a-s);return e[0]=-2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*o,e[13]=(n+i)*u,e[14]=(s+a)*c,e[15]=1,e}e.exports=ortho},function(e,t,r){"use strict";function perspective(e,t,r,i,n){var a=1/Math.tan(t/2),s=1/(i-n);return e[0]=a/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(n+i)*s,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*n*i*s,e[15]=0,e}e.exports=perspective},function(e,t,r){"use strict";function perspectiveFromFieldOfView(e,t,r,i){var n=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),s=Math.tan(t.leftDegrees*Math.PI/180),o=Math.tan(t.rightDegrees*Math.PI/180),u=2/(s+o),c=2/(n+a);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-((s-o)*u*.5),e[9]=(n-a)*c*.5,e[10]=i/(r-i),e[11]=-1,e[12]=0,e[13]=0,e[14]=i*r/(r-i),e[15]=0,e}e.exports=perspectiveFromFieldOfView},function(e,t,r){"use strict";function rotate(e,t,r,i){var n,a,s,o,u,c,M,l,f,A,g,d,D,p,N,y,h,m,j,w,L,I,T,E,x=i[0],b=i[1],z=i[2],C=Math.sqrt(x*x+b*b+z*z);return Math.abs(C)<1e-6?null:(C=1/C,x*=C,b*=C,z*=C,n=Math.sin(r),a=Math.cos(r),s=1-a,o=t[0],u=t[1],c=t[2],M=t[3],l=t[4],f=t[5],A=t[6],g=t[7],d=t[8],D=t[9],p=t[10],N=t[11],y=x*x*s+a,h=b*x*s+z*n,m=z*x*s-b*n,j=x*b*s-z*n,w=b*b*s+a,L=z*b*s+x*n,I=x*z*s+b*n,T=b*z*s-x*n,E=z*z*s+a,e[0]=o*y+l*h+d*m,e[1]=u*y+f*h+D*m,e[2]=c*y+A*h+p*m,e[3]=M*y+g*h+N*m,e[4]=o*j+l*w+d*L,e[5]=u*j+f*w+D*L,e[6]=c*j+A*w+p*L,e[7]=M*j+g*w+N*L,e[8]=o*I+l*T+d*E,e[9]=u*I+f*T+D*E,e[10]=c*I+A*T+p*E,e[11]=M*I+g*T+N*E,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}e.exports=rotate},function(e,t,r){"use strict";function rotateX(e,t,r){var i=Math.sin(r),n=Math.cos(r),a=t[4],s=t[5],o=t[6],u=t[7],c=t[8],M=t[9],l=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*n+c*i,e[5]=s*n+M*i,e[6]=o*n+l*i,e[7]=u*n+f*i,e[8]=c*n-a*i,e[9]=M*n-s*i,e[10]=l*n-o*i,e[11]=f*n-u*i,e}e.exports=rotateX},function(e,t,r){"use strict";function rotateY(e,t,r){var i=Math.sin(r),n=Math.cos(r),a=t[0],s=t[1],o=t[2],u=t[3],c=t[8],M=t[9],l=t[10],f=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*n-c*i,e[1]=s*n-M*i,e[2]=o*n-l*i,e[3]=u*n-f*i,e[8]=a*i+c*n,e[9]=s*i+M*n,e[10]=o*i+l*n,e[11]=u*i+f*n,e}e.exports=rotateY},function(e,t,r){"use strict";function rotateZ(e,t,r){var i=Math.sin(r),n=Math.cos(r),a=t[0],s=t[1],o=t[2],u=t[3],c=t[4],M=t[5],l=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*n+c*i,e[1]=s*n+M*i,e[2]=o*n+l*i,e[3]=u*n+f*i,e[4]=c*n-a*i,e[5]=M*n-s*i,e[6]=l*n-o*i,e[7]=f*n-u*i,e}e.exports=rotateZ},function(e,t,r){"use strict";function scale(e,t,r){var i=r[0],n=r[1],a=r[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}e.exports=scale},function(e,t,r){"use strict";function str(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}e.exports=str},function(e,t,r){"use strict";function translate(e,t,r){var i,n,a,s,o,u,c,M,l,f,A,g,d=r[0],D=r[1],p=r[2];return t===e?(e[12]=t[0]*d+t[4]*D+t[8]*p+t[12],e[13]=t[1]*d+t[5]*D+t[9]*p+t[13],e[14]=t[2]*d+t[6]*D+t[10]*p+t[14],e[15]=t[3]*d+t[7]*D+t[11]*p+t[15]):(i=t[0],n=t[1],a=t[2],s=t[3],o=t[4],u=t[5],c=t[6],M=t[7],l=t[8],f=t[9],A=t[10],g=t[11],e[0]=i,e[1]=n,e[2]=a,e[3]=s,e[4]=o,e[5]=u,e[6]=c,e[7]=M,e[8]=l,e[9]=f,e[10]=A,e[11]=g,e[12]=i*d+o*D+l*p+t[12],e[13]=n*d+u*D+f*p+t[13],e[14]=a*d+c*D+A*p+t[14],e[15]=s*d+M*D+g*p+t[15]),e}e.exports=translate},function(e,t,r){"use strict";function transpose(e,t){if(e===t){var r=t[1],i=t[2],n=t[3],a=t[6],s=t[7],o=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=i,e[9]=a,e[11]=t[14],e[12]=n,e[13]=s,e[14]=o}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}e.exports=transpose},function(e,t,r){"use strict";e.exports=r(58)},function(e,t,r){"use strict";function calculateW(e,t){var r=t[0],i=t[1],n=t[2];return e[0]=r,e[1]=i,e[2]=n,e[3]=Math.sqrt(Math.abs(1-r*r-i*i-n*n)),e}e.exports=calculateW},function(e,t,r){"use strict";e.exports=r(59)},function(e,t,r){"use strict";function conjugate(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}e.exports=conjugate},function(e,t,r){"use strict";e.exports=r(60)},function(e,t,r){"use strict";function create(){var e=new Float32Array(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}e.exports=create},function(e,t,r){"use strict";e.exports=r(61)},function(e,t,r){"use strict";e.exports=r(62)},function(e,t,r){"use strict";function identity(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}e.exports=identity},function(e,t,r){"use strict";e.exports={add:r(31),calculateW:r(32),clone:r(33),conjugate:r(34),copy:r(35),create:r(36),dot:r(37),fromMat3:r(2),fromValues:r(38),identity:r(39),invert:r(41),length:r(42),lerp:r(43),multiply:r(44),normalize:r(0),rotateX:r(45),rotateY:r(46),rotateZ:r(47),rotationTo:r(48),scale:r(49),set:r(50),setAxes:r(51),setAxisAngle:r(3),slerp:r(4),sqlerp:r(52),squaredLength:r(53)}},function(e,t,r){"use strict";function invert(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],s=r*r+i*i+n*n+a*a,o=s?1/s:0;return e[0]=-r*o,e[1]=-i*o,e[2]=-n*o,e[3]=a*o,e}e.exports=invert},function(e,t,r){"use strict";e.exports=r(63)},function(e,t,r){"use strict";e.exports=r(64)},function(e,t,r){"use strict";function multiply(e,t,r){var i=t[0],n=t[1],a=t[2],s=t[3],o=r[0],u=r[1],c=r[2],M=r[3];return e[0]=i*M+s*o+n*c-a*u,e[1]=n*M+s*u+a*o-i*c,e[2]=a*M+s*c+i*u-n*o,e[3]=s*M-i*o-n*u-a*c,e}e.exports=multiply},function(e,t,r){"use strict";function rotateX(e,t,r){r*=.5;var i=t[0],n=t[1],a=t[2],s=t[3],o=Math.sin(r),u=Math.cos(r);return e[0]=i*u+s*o,e[1]=n*u+a*o,e[2]=a*u-n*o,e[3]=s*u-i*o,e}e.exports=rotateX},function(e,t,r){"use strict";function rotateY(e,t,r){r*=.5;var i=t[0],n=t[1],a=t[2],s=t[3],o=Math.sin(r),u=Math.cos(r);return e[0]=i*u-a*o,e[1]=n*u+s*o,e[2]=a*u+i*o,e[3]=s*u-n*o,e}e.exports=rotateY},function(e,t,r){"use strict";function rotateZ(e,t,r){r*=.5;var i=t[0],n=t[1],a=t[2],s=t[3],o=Math.sin(r),u=Math.cos(r);return e[0]=i*u+n*o,e[1]=n*u-i*o,e[2]=a*u+s*o,e[3]=s*u-a*o,e}e.exports=rotateZ},function(e,t,r){"use strict";function rotationTo(e,t,r){var f=i(t,r);return f<-.999999?(n(c,M,t),a(c)<1e-6&&n(c,l,t),s(c,c),u(e,c,Math.PI),e):f>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(n(c,t,r),e[0]=c[0],e[1]=c[1],e[2]=c[2],e[3]=1+f,o(e,e))}var i=r(55),n=r(54),a=r(56),s=r(57),o=r(0),u=r(3);e.exports=rotationTo;var c=[0,0,0],M=[1,0,0],l=[0,1,0]},function(e,t,r){"use strict";e.exports=r(66)},function(e,t,r){"use strict";e.exports=r(67)},function(e,t,r){"use strict";function setAxes(e,t,r,i){return s[0]=r[0],s[3]=r[1],s[6]=r[2],s[1]=i[0],s[4]=i[1],s[7]=i[2],s[2]=-t[0],s[5]=-t[1],s[8]=-t[2],a(e,n(e,s))}var i=r(7),n=r(2),a=r(0);e.exports=setAxes;var s=i()},function(e,t,r){"use strict";function sqlerp(e,t,r,s,o,u){return i(n,t,o,u),i(a,r,s,u),i(e,n,a,2*u*(1-u)),e}var i=r(4);e.exports=sqlerp;var n=[0,0,0,1],a=[0,0,0,1]},function(e,t,r){"use strict";e.exports=r(68)},function(e,t,r){"use strict";function cross(e,t,r){var i=t[0],n=t[1],a=t[2],s=r[0],o=r[1],u=r[2];return e[0]=n*u-a*o,e[1]=a*s-i*u,e[2]=i*o-n*s,e}e.exports=cross},function(e,t,r){"use strict";function dot(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}e.exports=dot},function(e,t,r){"use strict";function length(e){var t=e[0],r=e[1],i=e[2];return Math.sqrt(t*t+r*r+i*i)}e.exports=length},function(e,t,r){"use strict";function normalize(e,t){var r=t[0],i=t[1],n=t[2],a=r*r+i*i+n*n;return a>0&&(a=1/Math.sqrt(a),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a),e}e.exports=normalize},function(e,t,r){"use strict";function add(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}e.exports=add},function(e,t,r){"use strict";function clone(e){var t=new Float32Array(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}e.exports=clone},function(e,t,r){"use strict";function copy(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}e.exports=copy},function(e,t,r){"use strict";function dot(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}e.exports=dot},function(e,t,r){"use strict";function fromValues(e,t,r,i){var n=new Float32Array(4);return n[0]=e,n[1]=t,n[2]=r,n[3]=i,n}e.exports=fromValues},function(e,t,r){"use strict";function length(e){var t=e[0],r=e[1],i=e[2],n=e[3];return Math.sqrt(t*t+r*r+i*i+n*n)}e.exports=length},function(e,t,r){"use strict";function lerp(e,t,r,i){var n=t[0],a=t[1],s=t[2],o=t[3];return e[0]=n+i*(r[0]-n),e[1]=a+i*(r[1]-a),e[2]=s+i*(r[2]-s),e[3]=o+i*(r[3]-o),e}e.exports=lerp},function(e,t,r){"use strict";function normalize(e,t){var r=t[0],i=t[1],n=t[2],a=t[3],s=r*r+i*i+n*n+a*a;return s>0&&(s=1/Math.sqrt(s),e[0]=r*s,e[1]=i*s,e[2]=n*s,e[3]=a*s),e}e.exports=normalize},function(e,t,r){"use strict";function scale(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}e.exports=scale},function(e,t,r){"use strict";function set(e,t,r,i,n){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e}e.exports=set},function(e,t,r){"use strict";function squaredLength(e){var t=e[0],r=e[1],i=e[2],n=e[3];return t*t+r*r+i*i+n*n}e.exports=squaredLength},function(e,t,r){"use strict";(function(t){function _objectDestructuringEmpty(e){if(null==e)throw new TypeError("Cannot destructure undefined")}var r=t.VRFrameData;e.exports=function(e){function calculateViewport(e,t){var r=e.drawingBufferWidth,i=e.drawingBufferHeight;return{x:t.eye*r/2,y:0,width:r/2,height:i}}function renderVr(e,t){var r=e.vrDisplay;r.getFrameData(i),n({eye:0,side:"left",vrDisplay:r},t),n({eye:1,side:"right",vrDisplay:r},t),r.submitFrame()}var t=e.regl,i=new r,n=t({context:{projection:function(e,t){var r=t.eye;return _objectDestructuringEmpty(e),r?i.rightProjectionMatrix:i.leftProjectionMatrix},view:function(e,t){var r=t.eye;return _objectDestructuringEmpty(e),r?i.rightViewMatrix:i.leftViewMatrix}},viewport:calculateViewport,scissor:{enable:!0,box:calculateViewport},uniforms:{projection:t.context("projection"),view:t.context("view")}});return renderVr}}).call(t,r(71))},function(e,t,r){"use strict";var i,n,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,o){"object"===a(t)&&void 0!==e?e.exports=o():(i=o,void 0!==(n="function"==typeof i?i.call(t,r,t,e):i)&&(e.exports=n))}(0,function(){function decodeB64(e){return"undefined"!=typeof btoa?btoa(e):"base64:"+e}function raise(e){var t=new Error("(regl) "+e);throw console.error(t),t}function check(e,t){e||raise(t)}function encolon(e){return e?": "+e:""}function checkParameter(e,t,r){e in t||raise("unknown parameter ("+e+")"+encolon(r)+". possible values: "+Object.keys(t).join())}function checkIsTypedArray(e,r){t(e)||raise("invalid parameter type"+encolon(r)+". must be a typed array")}function checkTypeOf(e,t,r){(void 0===e?"undefined":a(e))!==t&&raise("invalid parameter type"+encolon(r)+". expected "+t+", got "+(void 0===e?"undefined":a(e)))}function checkNonNegativeInt(e,t){e>=0&&(0|e)===e||raise("invalid parameter type, ("+e+")"+encolon(t)+". must be a nonnegative integer")}function checkOneOf(e,t,r){t.indexOf(e)<0&&raise("invalid value"+encolon(r)+". must be one of: "+t)}function checkConstructor(e){Object.keys(e).forEach(function(e){i.indexOf(e)<0&&raise('invalid regl constructor argument "'+e+'". must be one of '+i)})}function leftPad(e,t){for(e+="";e.length<t;)e=" "+e;return e}function ShaderFile(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function ShaderLine(e,t){this.number=e,this.line=t,this.errors=[]}function ShaderError(e,t,r){this.file=e,this.line=t,this.message=r}function guessCommand(){var e=new Error,t=(e.stack||e).toString(),r=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(t);if(r)return r[1];var i=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t);return i?i[1]:"unknown"}function guessCallSite(){var e=new Error,t=(e.stack||e).toString(),r=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t);if(r)return r[1];var i=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t);return i?i[1]:"unknown"}function parseSource(e,t){var r=e.split("\n"),i=1,n=0,a={unknown:new ShaderFile,0:new ShaderFile};a.unknown.name=a[0].name=t||guessCommand(),a.unknown.lines.push(new ShaderLine(0,""));for(var s=0;s<r.length;++s){var o=r[s],u=/^\s*\#\s*(\w+)\s+(.+)\s*$/.exec(o);if(u)switch(u[1]){case"line":var c=/(\d+)(\s+\d+)?/.exec(u[2]);c&&(i=0|c[1],c[2]&&((n=0|c[2])in a||(a[n]=new ShaderFile)));break;case"define":var M=/SHADER_NAME(_B64)?\s+(.*)$/.exec(u[2]);M&&(a[n].name=M[1]?decodeB64(M[2]):M[2])}a[n].lines.push(new ShaderLine(i++,o))}return Object.keys(a).forEach(function(e){var t=a[e];t.lines.forEach(function(e){t.index[e.number]=e})}),a}function parseErrorLog(e){var t=[];return e.split("\n").forEach(function(e){if(!(e.length<5)){var r=/^ERROR\:\s+(\d+)\:(\d+)\:\s*(.*)$/.exec(e);r?t.push(new ShaderError(0|r[1],0|r[2],r[3].trim())):e.length>0&&t.push(new ShaderError("unknown",0,e))}}),t}function annotateFiles(e,t){t.forEach(function(t){var r=e[t.file];if(r){var i=r.index[t.line];if(i)return i.errors.push(t),void(r.hasErrors=!0)}e.unknown.hasErrors=!0,e.unknown.lines[0].errors.push(t)})}function checkShaderError(e,t,r,i,n){if(!e.getShaderParameter(t,e.COMPILE_STATUS)){var a=e.getShaderInfoLog(t),s=i===e.FRAGMENT_SHADER?"fragment":"vertex";checkCommandType(r,"string",s+" shader source must be a string",n);var o=parseSource(r,n);annotateFiles(o,parseErrorLog(a)),Object.keys(o).forEach(function(e){function push(e,t){r.push(e),i.push(t||"")}var t=o[e];if(t.hasErrors){var r=[""],i=[""];push("file number "+e+": "+t.name+"\n","color:red;text-decoration:underline;font-weight:bold"),t.lines.forEach(function(e){if(e.errors.length>0){push(leftPad(e.number,4)+"|  ","background-color:yellow; font-weight:bold"),push(e.line+"\n","color:red; background-color:yellow; font-weight:bold");var t=0;e.errors.forEach(function(r){var i=r.message,n=/^\s*\'(.*)\'\s*\:\s*(.*)$/.exec(i);if(n){var a=n[1];switch(i=n[2],a){case"assign":a="="}t=Math.max(e.line.indexOf(a,t),0)}else t=0;push(leftPad("| ",6)),push(leftPad("^^^",t+3)+"\n","font-weight:bold"),push(leftPad("| ",6)),push(i+"\n","font-weight:bold")}),push(leftPad("| ",6)+"\n")}else push(leftPad(e.number,4)+"|  "),push(e.line+"\n","color:red")}),"undefined"!=typeof document?(i[0]=r.join("%c"),console.log.apply(console,i)):console.log(r.join(""))}}),check.raise("Error compiling "+s+" shader, "+o[0].name)}}function checkLinkError(e,t,r,i,n){if(!e.getProgramParameter(t,e.LINK_STATUS)){var a=e.getProgramInfoLog(t),s=parseSource(r,n),o=parseSource(i,n),u='Error linking program with vertex shader, "'+o[0].name+'", and fragment shader "'+s[0].name+'"';"undefined"!=typeof document?console.log("%c"+u+"\n%c"+a,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(u+"\n"+a),check.raise(u)}}function saveCommandRef(e){e._commandRef=guessCommand()}function saveDrawCommandInfo(e,t,r,i){function id(e){return e?i.id(e):0}function addProps(e,t){Object.keys(t).forEach(function(t){e[i.id(t)]=!0})}saveCommandRef(e),e._fragId=id(e.static.frag),e._vertId=id(e.static.vert);var n=e._uniformSet={};addProps(n,t.static),addProps(n,t.dynamic);var a=e._attributeSet={};addProps(a,r.static),addProps(a,r.dynamic),e._hasCount="count"in e.static||"count"in e.dynamic||"elements"in e.static||"elements"in e.dynamic}function commandRaise(e,t){var r=guessCallSite();raise(e+" in command "+(t||guessCommand())+("unknown"===r?"":" called from "+r))}function checkCommand(e,t,r){e||commandRaise(t,r||guessCommand())}function checkParameterCommand(e,t,r,i){e in t||commandRaise("unknown parameter ("+e+")"+encolon(r)+". possible values: "+Object.keys(t).join(),i||guessCommand())}function checkCommandType(e,t,r,i){(void 0===e?"undefined":a(e))!==t&&commandRaise("invalid parameter type"+encolon(r)+". expected "+t+", got "+(void 0===e?"undefined":a(e)),i||guessCommand())}function checkOptional(e){e()}function checkFramebufferFormat(e,t,r){e.texture?checkOneOf(e.texture._texture.internalformat,t,"unsupported texture format for attachment"):checkOneOf(e.renderbuffer._renderbuffer.format,r,"unsupported renderbuffer format for attachment")}function pixelSize(e,t){return e===A||e===f||e===g?2:e===d?4:D[e]*t}function isPow2(e){return!(e&e-1||!e)}function checkTexture2D(e,t,r){var i,a=t.width,f=t.height,A=t.channels;check(a>0&&a<=r.maxTextureSize&&f>0&&f<=r.maxTextureSize,"invalid texture shape"),e.wrapS===n&&e.wrapT===n||check(isPow2(a)&&isPow2(f),"incompatible wrap mode for texture, both width and height must be power of 2"),1===t.mipmask?1!==a&&1!==f&&check(e.minFilter!==o&&e.minFilter!==c&&e.minFilter!==u&&e.minFilter!==M,"min filter requires mipmap"):(check(isPow2(a)&&isPow2(f),"texture must be a square power of 2 to support mipmapping"),check(t.mipmask===(a<<1)-1,"missing or incomplete mipmap data")),t.type===l&&(r.extensions.indexOf("oes_texture_float_linear")<0&&check(e.minFilter===s&&e.magFilter===s,"filter not supported, must enable oes_texture_float_linear"),check(!e.genMipmaps,"mipmap generation not supported with float textures"));var g=t.images;for(i=0;i<16;++i)if(g[i]){var d=a>>i,D=f>>i;check(t.mipmask&1<<i,"missing mipmap data");var p=g[i];if(check(p.width===d&&p.height===D,"invalid shape for mip images"),check(p.format===t.format&&p.internalformat===t.internalformat&&p.type===t.type,"incompatible type for mip image"),p.compressed);else if(p.data){var N=Math.ceil(pixelSize(p.type,A)*d/p.unpackAlignment)*p.unpackAlignment;check(p.data.byteLength===N*D,"invalid data for image, buffer size is inconsistent with image format")}else p.element||p.copy}else e.genMipmaps||check(0==(t.mipmask&1<<i),"extra mipmap data");t.compressed&&check(!e.genMipmaps,"mipmap generation for compressed images not supported")}function checkTextureCube(e,t,r,i){var a=e.width,s=e.height,o=e.channels;check(a>0&&a<=i.maxTextureSize&&s>0&&s<=i.maxTextureSize,"invalid texture shape"),check(a===s,"cube map must be square"),check(t.wrapS===n&&t.wrapT===n,"wrap mode not supported by cube map");for(var u=0;u<r.length;++u){var c=r[u];check(c.width===a&&c.height===s,"inconsistent cube map face shape"),t.genMipmaps&&(check(!c.compressed,"can not generate mipmap for compressed textures"),check(1===c.mipmask,"can not specify mipmaps and generate mipmaps"));for(var M=c.images,l=0;l<16;++l){var f=M[l];if(f){var A=a>>l,g=s>>l;check(c.mipmask&1<<l,"missing mipmap data"),check(f.width===A&&f.height===g,"invalid shape for mip images"),check(f.format===e.format&&f.internalformat===e.internalformat&&f.type===e.type,"incompatible type for mip image"),f.compressed||(f.data?check(f.data.byteLength===A*g*Math.max(pixelSize(f.type,o),f.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):f.element||f.copy)}}}}function DynamicVariable(e,t){this.id=N++,this.type=e,this.data=t}function escapeStr(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function splitParts(e){if(0===e.length)return[];var t=e.charAt(0),r=e.charAt(e.length-1);if(e.length>1&&t===r&&('"'===t||"'"===t))return['"'+escapeStr(e.substr(1,e.length-2))+'"'];var i=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e);if(i)return splitParts(e.substr(0,i.index)).concat(splitParts(i[1])).concat(splitParts(e.substr(i.index+i[0].length)));var n=e.split(".");if(1===n.length)return['"'+escapeStr(e)+'"'];for(var a=[],s=0;s<n.length;++s)a=a.concat(splitParts(n[s]));return a}function toAccessorString(e){return"["+splitParts(e).join("][")+"]"}function defineDynamic(e,t){return new DynamicVariable(e,toAccessorString(t+""))}function isDynamic(e){return"function"==typeof e&&!e._reglType||e instanceof DynamicVariable}function unbox(e,t){return"function"==typeof e?new DynamicVariable(y,e):e}function createStringStore(){var e={"":0},t=[""];return{id:function(r){var i=e[r];return i?i:(i=e[r]=t.length,t.push(r),i)},str:function(e){return t[e]}}}function createCanvas(e,t,i){function resize(){var t=window.innerWidth,a=window.innerHeight;if(e!==document.body){var s=e.getBoundingClientRect();t=s.right-s.left,a=s.bottom-s.top}n.width=i*t,n.height=i*a,r(n.style,{width:t+"px",height:a+"px"})}function onDestroy(){window.removeEventListener("resize",resize),e.removeChild(n)}var n=document.createElement("canvas");return r(n.style,{border:0,margin:0,padding:0,top:0,left:0}),e.appendChild(n),e===document.body&&(n.style.position="absolute",r(e.style,{margin:0,padding:0})),window.addEventListener("resize",resize,!1),resize(),{canvas:n,onDestroy:onDestroy}}function createContext(e,t){function get(r){try{return e.getContext(r,t)}catch(e){return null}}return get("webgl")||get("experimental-webgl")||get("webgl-experimental")}function isHTMLElement(e){return"string"==typeof e.nodeName&&"function"==typeof e.appendChild&&"function"==typeof e.getBoundingClientRect}function isWebGLContext(e){return"function"==typeof e.drawArrays||"function"==typeof e.drawElements}function parseExtensions(e){return"string"==typeof e?e.split():(p(Array.isArray(e),"invalid extension array"),e)}function getElement(e){return"string"==typeof e?(p("undefined"!=typeof document,"not supported outside of DOM"),document.querySelector(e)):e}function parseArgs(e){var t,r,i,n,s=e||{},o={},u=[],c=[],M="undefined"==typeof window?1:window.devicePixelRatio,l=!1,f=function(e){e&&p.raise(e)},A=function(){};if("string"==typeof s?(p("undefined"!=typeof document,"selector queries only supported in DOM enviroments"),t=document.querySelector(s),p(t,"invalid query string for element")):"object"===(void 0===s?"undefined":a(s))?isHTMLElement(s)?t=s:isWebGLContext(s)?(n=s,i=n.canvas):(p.constructor(s),"gl"in s?n=s.gl:"canvas"in s?i=getElement(s.canvas):"container"in s&&(r=getElement(s.container)),"attributes"in s&&(o=s.attributes,p.type(o,"object","invalid context attributes")),"extensions"in s&&(u=parseExtensions(s.extensions)),"optionalExtensions"in s&&(c=parseExtensions(s.optionalExtensions)),"onDone"in s&&(p.type(s.onDone,"function","invalid or missing onDone callback"),f=s.onDone),"profile"in s&&(l=!!s.profile),"pixelRatio"in s&&(M=+s.pixelRatio,p(M>0,"invalid pixel ratio"))):p.raise("invalid arguments to regl"),t&&("canvas"===t.nodeName.toLowerCase()?i=t:r=t),!n){if(!i){p("undefined"!=typeof document,"must manually specify webgl context outside of DOM environments");var g=createCanvas(r||document.body,f,M);if(!g)return null;i=g.canvas,A=g.onDestroy}n=createContext(i,o)}return n?{gl:n,canvas:i,container:r,extensions:u,optionalExtensions:c,pixelRatio:M,profile:l,onDone:f,onDestroy:A}:(A(),f("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function createExtensionCache(e,t){function tryLoadExtension(t){p.type(t,"string","extension name must be string");var i,n=t.toLowerCase();try{i=r[n]=e.getExtension(n)}catch(e){}return!!i}for(var r={},i=0;i<t.extensions.length;++i){var n=t.extensions[i];if(!tryLoadExtension(n))return t.onDestroy(),t.onDone('"'+n+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(tryLoadExtension),{extensions:r,restore:function(){Object.keys(r).forEach(function(e){if(!tryLoadExtension(e))throw new Error("(regl): error restoring extension "+e)})}}}function isNDArrayLike(e){return!!e&&"object"===(void 0===e?"undefined":a(e))&&Array.isArray(e.shape)&&Array.isArray(e.stride)&&"number"==typeof e.offset&&e.shape.length===e.stride.length&&(Array.isArray(e.data)||t(e.data))}function loop(e,t){for(var r=Array(e),i=0;i<e;++i)r[i]=t(i);return r}function nextPow16(e){for(var t=16;t<=1<<28;t*=16)if(e<=t)return t;return 0}function log2(e){var t,r;return t=(e>65535)<<4,e>>>=t,r=(e>255)<<3,e>>>=r,t|=r,r=(e>15)<<2,e>>>=r,t|=r,r=(e>3)<<1,e>>>=r,(t|=r)|e>>1}function alloc(e){var t=nextPow16(e),r=ae[log2(t)>>2];return r.length>0?r.pop():new ArrayBuffer(t)}function free(e){ae[log2(e.byteLength)>>2].push(e)}function allocType(e,t){var r=null;switch(e){case K:r=new Int8Array(alloc(t),0,t);break;case $:r=new Uint8Array(alloc(t),0,t);break;case ee:r=new Int16Array(alloc(2*t),0,t);break;case te:r=new Uint16Array(alloc(2*t),0,t);break;case re:r=new Int32Array(alloc(4*t),0,t);break;case ie:r=new Uint32Array(alloc(4*t),0,t);break;case ne:r=new Float32Array(alloc(4*t),0,t);break;default:return null}return r.length!==t?r.subarray(0,t):r}function freeType(e){free(e.buffer)}function flatten1D(e,t,r){for(var i=0;i<t;++i)r[i]=e[i]}function flatten2D(e,t,r,i){for(var n=0,a=0;a<t;++a)for(var s=e[a],o=0;o<r;++o)i[n++]=s[o]}function flatten3D(e,t,r,i,n,a){for(var s=a,o=0;o<t;++o)for(var u=e[o],c=0;c<r;++c)for(var M=u[c],l=0;l<i;++l)n[s++]=M[l]}function flattenRec(e,t,r,i,n){for(var a=1,s=r+1;s<t.length;++s)a*=t[s];var o=t[r];if(t.length-r==4){var u=t[r+1],c=t[r+2],M=t[r+3];for(s=0;s<o;++s)flatten3D(e[s],u,c,M,i,n),n+=a}else for(s=0;s<o;++s)flattenRec(e[s],t,r+1,i,n),n+=a}function flattenArray(e,t,r,i){var n=1;if(t.length)for(var a=0;a<t.length;++a)n*=t[a];else n=0;var s=i||se.allocType(r,n);switch(t.length){case 0:break;case 1:flatten1D(e,t[0],s);break;case 2:flatten2D(e,t[0],t[1],s);break;case 3:flatten3D(e,t[0],t[1],t[2],s,0);break;default:flattenRec(e,t,0,s,0)}return s}function arrayShape$1(e){for(var t=[],r=e;r.length;r=r[0])t.push(r.length);return t}function typedArrayCode(t){return 0|e[Object.prototype.toString.call(t)]}function copyArray(e,t){for(var r=0;r<t.length;++r)e[r]=t[r]}function transpose(e,t,r,i,n,a,s){for(var o=0,u=0;u<r;++u)for(var c=0;c<i;++c)e[o++]=t[n*u+a*c+s]}function wrapBufferState(e,r,i){function REGLBuffer(t){this.id=n++,this.buffer=e.createBuffer(),this.type=t,this.usage=je,this.byteLength=0,this.dimension=1,this.dtype=Le,this.persistentData=null,i.profile&&(this.stats={size:0})}function createStream(e,t){var r=s.pop();return r||(r=new REGLBuffer(e)),r.bind(),initBufferFromData(r,t,we,0,1,!1),r}function destroyStream(e){s.push(e)}function initBufferFromTypedArray(t,r,i){t.byteLength=r.byteLength,e.bufferData(t.type,r,i)}function initBufferFromData(e,r,i,n,a,s){var o;if(e.usage=i,Array.isArray(r)){if(e.dtype=n||Ie,r.length>0){var u;if(Array.isArray(r[0])){o=me(r);for(var c=1,M=1;M<o.length;++M)c*=o[M];e.dimension=c,u=he(r,o,e.dtype),initBufferFromTypedArray(e,u,i),s?e.persistentData=u:se.freeType(u)}else if("number"==typeof r[0]){e.dimension=a;var l=se.allocType(e.dtype,r.length);copyArray(l,r),initBufferFromTypedArray(e,l,i),s?e.persistentData=l:se.freeType(l)}else t(r[0])?(e.dimension=r[0].length,e.dtype=n||typedArrayCode(r[0])||Ie,u=he(r,[r.length,r[0].length],e.dtype),initBufferFromTypedArray(e,u,i),s?e.persistentData=u:se.freeType(u)):p.raise("invalid buffer data")}}else if(t(r))e.dtype=n||typedArrayCode(r),e.dimension=a,initBufferFromTypedArray(e,r,i),s&&(e.persistentData=new Uint8Array(new Uint8Array(r.buffer)));else if(isNDArrayLike(r)){o=r.shape;var f=r.stride,A=r.offset,g=0,d=0,D=0,N=0;1===o.length?(g=o[0],d=1,D=f[0],N=0):2===o.length?(g=o[0],d=o[1],D=f[0],N=f[1]):p.raise("invalid shape"),e.dtype=n||typedArrayCode(r.data)||Ie,e.dimension=d;var y=se.allocType(e.dtype,g*d);transpose(y,r.data,g,d,D,N,A),initBufferFromTypedArray(e,y,i),s?e.persistentData=y:se.freeType(y)}else p.raise("invalid buffer data")}function destroy(t){r.bufferCount--;var i=t.buffer;p(i,"buffer must not be deleted already"),e.deleteBuffer(i),t.buffer=null,delete a[t.id]}function createBuffer(n,s,o,u){function reglBuffer(r){var n=je,a=null,s=0,o=0,M=1;return Array.isArray(r)||t(r)||isNDArrayLike(r)?a=r:"number"==typeof r?s=0|r:r&&(p.type(r,"object","buffer arguments must be an object, a number or an array"),"data"in r&&(p(null===a||Array.isArray(a)||t(a)||isNDArrayLike(a),"invalid data for buffer"),a=r.data),"usage"in r&&(p.parameter(r.usage,ye,"invalid buffer usage"),n=ye[r.usage]),"type"in r&&(p.parameter(r.type,De,"invalid buffer type"),o=De[r.type]),"dimension"in r&&(p.type(r.dimension,"number","invalid dimension"),M=0|r.dimension),"length"in r&&(p.nni(s,"buffer length must be a nonnegative integer"),s=0|r.length)),c.bind(),a?initBufferFromData(c,a,n,o,M,u):(e.bufferData(c.type,s,n),c.dtype=o||Le,c.usage=n,c.dimension=M,c.byteLength=s),i.profile&&(c.stats.size=c.byteLength*Te[c.dtype]),reglBuffer}function setSubData(t,r){p(r+t.byteLength<=c.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+t.byteLength+" starting from offset "+r+" to a buffer of size "+c.byteLength),e.bufferSubData(c.type,r,t)}function subdata(e,r){var i,n=0|(r||0);if(c.bind(),Array.isArray(e)){if(e.length>0)if("number"==typeof e[0]){var a=se.allocType(c.dtype,e.length);copyArray(a,e),setSubData(a,n),se.freeType(a)}else if(Array.isArray(e[0])||t(e[0])){i=me(e);var s=he(e,i,c.dtype);setSubData(s,n),se.freeType(s)}else p.raise("invalid buffer data")}else if(t(e))setSubData(e,n);else if(isNDArrayLike(e)){i=e.shape;var o=e.stride,u=0,M=0,l=0,f=0;1===i.length?(u=i[0],M=1,l=o[0],f=0):2===i.length?(u=i[0],M=i[1],l=o[0],f=o[1]):p.raise("invalid shape");var A=Array.isArray(e.data)?c.dtype:typedArrayCode(e.data),g=se.allocType(A,u*M);transpose(g,e.data,u,M,l,f,e.offset),setSubData(g,n),se.freeType(g)}else p.raise("invalid data for buffer subdata");return reglBuffer}r.bufferCount++;var c=new REGLBuffer(s);return a[c.id]=c,o||reglBuffer(n),reglBuffer._reglType="buffer",reglBuffer._buffer=c,reglBuffer.subdata=subdata,i.profile&&(reglBuffer.stats=c.stats),reglBuffer.destroy=function(){destroy(c)},reglBuffer}function restoreBuffers(){q(a).forEach(function(t){t.buffer=e.createBuffer(),e.bindBuffer(t.type,t.buffer),e.bufferData(t.type,t.persistentData||t.byteLength,t.usage)})}var n=0,a={};REGLBuffer.prototype.bind=function(){e.bindBuffer(this.type,this.buffer)},REGLBuffer.prototype.destroy=function(){destroy(this)};var s=[];return i.profile&&(r.getTotalBufferSize=function(){var e=0;return Object.keys(a).forEach(function(t){e+=a[t].stats.size}),e}),{create:createBuffer,createStream:createStream,destroyStream:destroyStream,clear:function(){q(a).forEach(destroy),s.forEach(destroy)},getBuffer:function(e){return e&&e._buffer instanceof REGLBuffer?e._buffer:null},restore:restoreBuffers,_initBuffer:initBufferFromData}}function wrapElementsState(e,r,i,n){function REGLElementBuffer(e){this.id=s++,a[this.id]=this,this.buffer=e,this.primType=Qe,this.vertCount=0,this.type=0}function createElementStream(e){var t=u.pop();return t||(t=new REGLElementBuffer(i.create(null,Pe,!0,!1)._buffer)),initElements(t,e,Ge,-1,-1,0,0),t}function destroyElementStream(e){u.push(e)}function initElements(n,a,s,o,u,c,M){if(n.buffer.bind(),a){var l=M;M||t(a)&&(!isNDArrayLike(a)||t(a.data))||(l=r.oes_element_index_uint?Fe:Re),i._initBuffer(n.buffer,a,s,l,3)}else e.bufferData(Pe,c,s),n.buffer.dtype=f||Ue,n.buffer.usage=s,n.buffer.dimension=3,n.buffer.byteLength=c;var f=M;if(!M){switch(n.buffer.dtype){case Ue:case Be:f=Ue;break;case Re:case Ye:f=Re;break;case Fe:case _e:f=Fe;break;default:p.raise("unsupported type for element array")}n.buffer.dtype=f}n.type=f,p(f!==Fe||!!r.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var A=u;A<0&&(A=n.buffer.byteLength,f===Re?A>>=1:f===Fe&&(A>>=2)),n.vertCount=A;var g=o;if(o<0){g=Qe;var d=n.buffer.dimension;1===d&&(g=Oe),2===d&&(g=ke),3===d&&(g=Qe)}n.primType=g}function destroyElements(e){n.elementsCount--,p(null!==e.buffer,"must not double destroy elements"),delete a[e.id],e.buffer.destroy(),e.buffer=null}function createElements(e,r){function reglElements(e){if(e)if("number"==typeof e)a(e),s.primType=Qe,s.vertCount=0|e,s.type=Ue;else{var r=null,i=Ve,n=-1,u=-1,c=0,M=0;Array.isArray(e)||t(e)||isNDArrayLike(e)?r=e:(p.type(e,"object","invalid arguments for elements"),"data"in e&&(r=e.data,p(Array.isArray(r)||t(r)||isNDArrayLike(r),"invalid data for element buffer")),"usage"in e&&(p.parameter(e.usage,ye,"invalid element buffer usage"),i=ye[e.usage]),"primitive"in e&&(p.parameter(e.primitive,ve,"invalid element buffer primitive"),n=ve[e.primitive]),"count"in e&&(p("number"==typeof e.count&&e.count>=0,"invalid vertex count for elements"),u=0|e.count),"type"in e&&(p.parameter(e.type,o,"invalid buffer type"),M=o[e.type]),"length"in e?c=0|e.length:(c=u,M===Re||M===Ye?c*=2:M!==Fe&&M!==_e||(c*=4))),initElements(s,r,i,n,u,c,M)}else a(),s.primType=Qe,s.vertCount=0,s.type=Ue;return reglElements}var a=i.create(null,Pe,!0),s=new REGLElementBuffer(a._buffer);return n.elementsCount++,reglElements(e),reglElements._reglType="elements",reglElements._elements=s,reglElements.subdata=function(e,t){return a.subdata(e,t),reglElements},reglElements.destroy=function(){destroyElements(s)},reglElements}var a={},s=0,o={uint8:Ue,uint16:Re};r.oes_element_index_uint&&(o.uint32=Fe),REGLElementBuffer.prototype.bind=function(){this.buffer.bind()};var u=[];return{create:createElements,createStream:createElementStream,destroyStream:destroyElementStream,getElements:function(e){return"function"==typeof e&&e._elements instanceof REGLElementBuffer?e._elements:null},clear:function(){q(a).forEach(destroyElements)}}}function convertToHalfFloat(e){for(var t=se.allocType(He,e.length),r=0;r<e.length;++r)if(isNaN(e[r]))t[r]=65535;else if(e[r]===1/0)t[r]=31744;else if(e[r]===-(1/0))t[r]=64512;else{We[0]=e[r];var i=Ze[0],n=i>>>31<<15,a=(i<<1>>>24)-127,s=i>>13&1023;if(a<-24)t[r]=n;else if(a<-14){var o=-14-a;t[r]=n+(s+1024>>o)}else t[r]=a>15?n+31744:n+(a+15<<10)+s}return t}function isArrayLike(e){return Array.isArray(e)||t(e)}function objectName(e){return"[object "+e+"]"}function isNumericArray(e){return Array.isArray(e)&&(0===e.length||"number"==typeof e[0])}function isRectArray(e){return!!Array.isArray(e)&&!(0===e.length||!isArrayLike(e[0]))}function classString(e){return Object.prototype.toString.call(e)}function isCanvasElement(e){return classString(e)===ar}function isContext2D(e){return classString(e)===sr}function isImageElement(e){return classString(e)===or}function isVideoElement(e){return classString(e)===ur}function isPixelData(e){if(!e)return!1;var t=classString(e);return cr.indexOf(t)>=0||(isNumericArray(e)||isRectArray(e)||isNDArrayLike(e))}function typedArrayCode$1(t){return 0|e[Object.prototype.toString.call(t)]}function convertData(e,t){var r=t.length;switch(e.type){case xt:case bt:case zt:case Ct:var i=se.allocType(e.type,r);i.set(t),e.data=i;break;case dt:e.data=convertToHalfFloat(t);break;default:p.raise("unsupported texture type, must specify a typed array")}}function preConvert(e,t){return se.allocType(e.type===dt?Ct:e.type,t)}function postConvert(e,t){e.type===dt?(e.data=convertToHalfFloat(t),se.freeType(t)):e.data=t}function transposeData(e,t,r,i,n,a){for(var s=e.width,o=e.height,u=e.channels,c=s*o*u,M=preConvert(e,c),l=0,f=0;f<o;++f)for(var A=0;A<s;++A)for(var g=0;g<u;++g)M[l++]=t[r*A+i*f+n*g+a];postConvert(e,M)}function getTextureSize(e,t,r,i,n,a){var s;if(s=void 0!==lr[e]?lr[e]:nr[e]*Mr[t],a&&(s*=6),n){for(var o=0,u=r;u>=1;)o+=s*u*u,u/=2;return o}return s*r*i}function createTextureSet(e,i,n,s,o,u,c){function TexFlags(){this.internalformat=$e,this.format=$e,this.type=xt,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=0,this.width=0,this.height=0,this.channels=0}function copyFlags(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function parseFlags(e,t){if("object"===(void 0===t?"undefined":a(t))&&t){if("premultiplyAlpha"in t&&(p.type(t.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(p.type(t.flipY,"boolean","invalid texture flip"),e.flipY=t.flipY),"alignment"in t&&(p.oneOf(t.alignment,[1,2,4,8],"invalid texture unpack alignment"),e.unpackAlignment=t.alignment),"colorSpace"in t&&(p.parameter(t.colorSpace,g,"invalid colorSpace"),e.colorSpace=g[t.colorSpace]),"type"in t){var r=t.type;p(i.oes_texture_float||!("float"===r||"float32"===r),"you must enable the OES_texture_float extension in order to use floating point textures."),p(i.oes_texture_half_float||!("half float"===r||"float16"===r),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),p(i.webgl_depth_texture||!("uint16"===r||"uint32"===r||"depth stencil"===r),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),p.parameter(r,d,"invalid texture type"),e.type=d[r]}var s=e.width,o=e.height,u=e.channels,c=!1;"shape"in t?(p(Array.isArray(t.shape)&&t.shape.length>=2,"shape must be an array"),s=t.shape[0],o=t.shape[1],3===t.shape.length&&(u=t.shape[2],p(u>0&&u<=4,"invalid number of channels"),c=!0),p(s>=0&&s<=n.maxTextureSize,"invalid width"),p(o>=0&&o<=n.maxTextureSize,"invalid height")):("radius"in t&&(s=o=t.radius,p(s>=0&&s<=n.maxTextureSize,"invalid radius")),"width"in t&&(s=t.width,p(s>=0&&s<=n.maxTextureSize,"invalid width")),"height"in t&&(o=t.height,p(o>=0&&o<=n.maxTextureSize,"invalid height")),"channels"in t&&(u=t.channels,p(u>0&&u<=4,"invalid number of channels"),c=!0)),e.width=0|s,e.height=0|o,e.channels=0|u;var M=!1;if("format"in t){var l=t.format;p(i.webgl_depth_texture||!("depth"===l||"depth stencil"===l),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),p.parameter(l,D,"invalid texture format");var f=e.internalformat=D[l];e.format=T[f],l in d&&("type"in t||(e.type=d[l])),l in N&&(e.compressed=!0),M=!0}!c&&M?e.channels=nr[e.format]:c&&!M?e.channels!==ir[e.format]&&(e.format=e.internalformat=ir[e.channels]):M&&c&&p(e.channels===nr[e.format],"number of channels inconsistent with specified format")}}function setFlags(t){e.pixelStorei(qt,t.flipY),e.pixelStorei(Kt,t.premultiplyAlpha),e.pixelStorei($t,t.colorSpace),e.pixelStorei(Jt,t.unpackAlignment)}function TexImage(){TexFlags.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function parseImage(e,r){var i=null;if(isPixelData(r)?i=r:r&&(p.type(r,"object","invalid pixel data type"),parseFlags(e,r),"x"in r&&(e.xOffset=0|r.x),"y"in r&&(e.yOffset=0|r.y),isPixelData(r.data)&&(i=r.data)),p(!e.compressed||i instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),r.copy){p(!i,"can not specify copy and data field for the same texture");var a=o.viewportWidth,s=o.viewportHeight;e.width=e.width||a-e.xOffset,e.height=e.height||s-e.yOffset,e.needsCopy=!0,p(e.xOffset>=0&&e.xOffset<a&&e.yOffset>=0&&e.yOffset<s&&e.width>0&&e.width<=a&&e.height>0&&e.height<=s,"copy texture read out of bounds")}else if(i){if(t(i))e.channels=e.channels||4,e.data=i,"type"in r||e.type!==xt||(e.type=typedArrayCode$1(i));else if(isNumericArray(i))e.channels=e.channels||4,convertData(e,i),e.alignment=1,e.needsFree=!0;else if(isNDArrayLike(i)){var u=i.data;Array.isArray(u)||e.type!==xt||(e.type=typedArrayCode$1(u));var c,M,l,f,A,g,d=i.shape,D=i.stride;3===d.length?(l=d[2],g=D[2]):(p(2===d.length,"invalid ndarray pixel data, must be 2 or 3D"),l=1,g=1),c=d[0],M=d[1],f=D[0],A=D[1],e.alignment=1,e.width=c,e.height=M,e.channels=l,e.format=e.internalformat=ir[l],e.needsFree=!0,transposeData(e,u,f,A,g,i.offset)}else if(isCanvasElement(i)||isContext2D(i))isCanvasElement(i)?e.element=i:e.element=i.canvas,e.width=e.element.width,e.height=e.element.height,e.channels=4;else if(isImageElement(i))e.element=i,e.width=i.naturalWidth,e.height=i.naturalHeight,e.channels=4;else if(isVideoElement(i))e.element=i,e.width=i.videoWidth,e.height=i.videoHeight,e.channels=4;else if(isRectArray(i)){var N=e.width||i[0].length,y=e.height||i.length,h=e.channels;h=isArrayLike(i[0][0])?h||i[0][0].length:h||1;for(var m=oe.shape(i),j=1,w=0;w<m.length;++w)j*=m[w];var L=preConvert(e,j);oe.flatten(i,m,"",L),postConvert(e,L),e.alignment=1,e.width=N,e.height=y,e.channels=h,e.format=e.internalformat=ir[h],e.needsFree=!0}}else e.width=e.width||1,e.height=e.height||1,e.channels=e.channels||4;e.type===Ct?p(n.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):e.type===dt&&p(n.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function setImage(t,r,i){var n=t.element,a=t.data,o=t.internalformat,u=t.format,c=t.type,M=t.width,l=t.height;setFlags(t),n?e.texImage2D(r,i,u,u,c,n):t.compressed?e.compressedTexImage2D(r,i,o,M,l,0,a):t.needsCopy?(s(),e.copyTexImage2D(r,i,u,t.xOffset,t.yOffset,M,l,0)):e.texImage2D(r,i,u,M,l,0,u,c,a)}function setSubImage(t,r,i,n,a){var o=t.element,u=t.data,c=t.internalformat,M=t.format,l=t.type,f=t.width,A=t.height;setFlags(t),o?e.texSubImage2D(r,a,i,n,M,l,o):t.compressed?e.compressedTexSubImage2D(r,a,i,n,c,f,A,u):t.needsCopy?(s(),e.copyTexSubImage2D(r,a,i,n,t.xOffset,t.yOffset,f,A)):e.texSubImage2D(r,a,i,n,f,A,M,l,u)}function allocImage(){return E.pop()||new TexImage}function freeImage(e){e.needsFree&&se.freeType(e.data),TexImage.call(e),E.push(e)}function MipMap(){TexFlags.call(this),this.genMipmaps=!1,this.mipmapHint=Wt,this.mipmask=0,this.images=Array(16)}function parseMipMapFromShape(e,t,r){var i=e.images[0]=allocImage();e.mipmask=1,i.width=e.width=t,i.height=e.height=r,i.channels=e.channels=4}function parseMipMapFromObject(e,t){var r=null;if(isPixelData(t))r=e.images[0]=allocImage(),copyFlags(r,e),parseImage(r,t),e.mipmask=1;else if(parseFlags(e,t),Array.isArray(t.mipmap))for(var i=t.mipmap,n=0;n<i.length;++n)r=e.images[n]=allocImage(),copyFlags(r,e),r.width>>=n,r.height>>=n,parseImage(r,i[n]),e.mipmask|=1<<n;else r=e.images[0]=allocImage(),copyFlags(r,e),parseImage(r,t),e.mipmask=1;copyFlags(e,e.images[0]),(e.compressed&&e.internalformat===Dt||e.internalformat===pt||e.internalformat===Nt||e.internalformat===yt)&&p(e.width%4==0&&e.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function setMipMap(e,t){for(var r=e.images,i=0;i<r.length;++i){if(!r[i])return;setImage(r[i],t,i)}}function allocMipMap(){var e=x.pop()||new MipMap;TexFlags.call(e),e.mipmask=0;for(var t=0;t<16;++t)e.images[t]=null;return e}function freeMipMap(e){for(var t=e.images,r=0;r<t.length;++r)t[r]&&freeImage(t[r]),t[r]=null;x.push(e)}function TexInfo(){this.minFilter=Yt,this.magFilter=Yt,this.wrapS=kt,this.wrapT=kt,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Wt}function parseTexInfo(e,t){if("min"in t){var r=t.min;p.parameter(r,A),e.minFilter=A[r],rr.indexOf(e.minFilter)>=0&&(e.genMipmaps=!0)}if("mag"in t){var i=t.mag;p.parameter(i,f),e.magFilter=f[i]}var s=e.wrapS,o=e.wrapT;if("wrap"in t){var u=t.wrap;"string"==typeof u?(p.parameter(u,l),s=o=l[u]):Array.isArray(u)&&(p.parameter(u[0],l),p.parameter(u[1],l),s=l[u[0]],o=l[u[1]])}else{if("wrapS"in t){var c=t.wrapS;p.parameter(c,l),s=l[c]}if("wrapT"in t){var g=t.wrapT;p.parameter(g,l),o=l[g]}}if(e.wrapS=s,e.wrapT=o,"anisotropic"in t){var d=t.anisotropic;p("number"==typeof d&&d>=1&&d<=n.maxAnisotropic,"aniso samples must be between 1 and "),e.anisotropic=t.anisotropic}if("mipmap"in t){var D=!1;switch(a(t.mipmap)){case"string":p.parameter(t.mipmap,M,"invalid mipmap hint"),e.mipmapHint=M[t.mipmap],e.genMipmaps=!0,D=!0;break;case"boolean":D=e.genMipmaps=t.mipmap;break;case"object":p(Array.isArray(t.mipmap),"invalid mipmap type"),e.genMipmaps=!1,D=!0;break;default:p.raise("invalid mipmap type")}!D||"min"in t||(e.minFilter=_t)}}function setTexInfo(t,r){e.texParameteri(r,Ut,t.minFilter),e.texParameteri(r,Bt,t.magFilter),e.texParameteri(r,St,t.wrapS),e.texParameteri(r,vt,t.wrapT),i.ext_texture_filter_anisotropic&&e.texParameteri(r,Xt,t.anisotropic),t.genMipmaps&&(e.hint(Vt,t.mipmapHint),e.generateMipmap(r))}function REGLTexture(t){TexFlags.call(this),this.mipmask=0,this.internalformat=$e,this.id=b++,this.refCount=1,this.target=t,this.texture=e.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new TexInfo,c.profile&&(this.stats={size:0})}function tempBind(t){e.activeTexture(tr),e.bindTexture(t.target,t.texture)}function tempRestore(){var t=S[0];t?e.bindTexture(t.target,t.texture):e.bindTexture(Je,null)}function destroy(t){var r=t.texture;p(r,"must not double destroy texture");var i=t.unit,n=t.target;i>=0&&(e.activeTexture(tr+i),e.bindTexture(n,null),S[i]=null),e.deleteTexture(r),t.texture=null,t.params=null,t.pixels=null,t.refCount=0,delete z[t.id],u.textureCount--}function createTexture2D(t,r){function reglTexture2D(e,t){var r=i.texInfo;TexInfo.call(r);var a=allocMipMap();return"number"==typeof e?"number"==typeof t?parseMipMapFromShape(a,0|e,0|t):parseMipMapFromShape(a,0|e,0|e):e?(p.type(e,"object","invalid arguments to regl.texture"),parseTexInfo(r,e),parseMipMapFromObject(a,e)):parseMipMapFromShape(a,1,1),r.genMipmaps&&(a.mipmask=(a.width<<1)-1),i.mipmask=a.mipmask,copyFlags(i,a),p.texture2D(r,a,n),i.internalformat=a.internalformat,reglTexture2D.width=a.width,reglTexture2D.height=a.height,tempBind(i),setMipMap(a,Je),setTexInfo(r,Je),tempRestore(),freeMipMap(a),c.profile&&(i.stats.size=getTextureSize(i.internalformat,i.type,a.width,a.height,r.genMipmaps,!1)),reglTexture2D.format=m[i.internalformat],reglTexture2D.type=j[i.type],reglTexture2D.mag=w[r.magFilter],reglTexture2D.min=L[r.minFilter],reglTexture2D.wrapS=I[r.wrapS],reglTexture2D.wrapT=I[r.wrapT],reglTexture2D}function subimage(e,t,r,n){p(!!e,"must specify image data");var a=0|t,s=0|r,o=0|n,u=allocImage();return copyFlags(u,i),u.width=0,u.height=0,parseImage(u,e),u.width=u.width||(i.width>>o)-a,u.height=u.height||(i.height>>o)-s,p(i.type===u.type&&i.format===u.format&&i.internalformat===u.internalformat,"incompatible format for texture.subimage"),p(a>=0&&s>=0&&a+u.width<=i.width&&s+u.height<=i.height,"texture.subimage write out of bounds"),p(i.mipmask&1<<o,"missing mipmap data"),p(u.data||u.element||u.needsCopy,"missing image data"),tempBind(i),setSubImage(u,Je,a,s,o),tempRestore(),freeImage(u),reglTexture2D}function resize(t,r){var n=0|t,a=0|r||n;if(n===i.width&&a===i.height)return reglTexture2D;reglTexture2D.width=i.width=n,reglTexture2D.height=i.height=a,tempBind(i);for(var s=0;i.mipmask>>s;++s)e.texImage2D(Je,s,i.format,n>>s,a>>s,0,i.format,i.type,null);return tempRestore(),c.profile&&(i.stats.size=getTextureSize(i.internalformat,i.type,n,a,!1,!1)),reglTexture2D}var i=new REGLTexture(Je);return z[i.id]=i,u.textureCount++,reglTexture2D(t,r),reglTexture2D.subimage=subimage,reglTexture2D.resize=resize,reglTexture2D._reglType="texture2d",reglTexture2D._texture=i,c.profile&&(reglTexture2D.stats=i.stats),reglTexture2D.destroy=function(){i.decRef()},reglTexture2D}function createTextureCube(t,r,i,s,o,M){function reglTextureCube(e,t,r,i,s,o){var u,M=l.texInfo;for(TexInfo.call(M),u=0;u<6;++u)f[u]=allocMipMap();if("number"!=typeof e&&e)if("object"===(void 0===e?"undefined":a(e)))if(t)parseMipMapFromObject(f[0],e),parseMipMapFromObject(f[1],t),parseMipMapFromObject(f[2],r),parseMipMapFromObject(f[3],i),parseMipMapFromObject(f[4],s),parseMipMapFromObject(f[5],o);else if(parseTexInfo(M,e),parseFlags(l,e),"faces"in e){var A=e.faces;for(p(Array.isArray(A)&&6===A.length,"cube faces must be a length 6 array"),u=0;u<6;++u)p("object"===a(A[u])&&!!A[u],"invalid input for cube map face"),copyFlags(f[u],l),parseMipMapFromObject(f[u],A[u])}else for(u=0;u<6;++u)parseMipMapFromObject(f[u],e);else p.raise("invalid arguments to cube map");else{var g=0|e||1;for(u=0;u<6;++u)parseMipMapFromShape(f[u],g,g)}for(copyFlags(l,f[0]),M.genMipmaps?l.mipmask=(f[0].width<<1)-1:l.mipmask=f[0].mipmask,p.textureCube(l,M,f,n),l.internalformat=f[0].internalformat,reglTextureCube.width=f[0].width,reglTextureCube.height=f[0].height,tempBind(l),u=0;u<6;++u)setMipMap(f[u],Ke+u);for(setTexInfo(M,qe),tempRestore(),c.profile&&(l.stats.size=getTextureSize(l.internalformat,l.type,reglTextureCube.width,reglTextureCube.height,M.genMipmaps,!0)),reglTextureCube.format=m[l.internalformat],reglTextureCube.type=j[l.type],reglTextureCube.mag=w[M.magFilter],reglTextureCube.min=L[M.minFilter],reglTextureCube.wrapS=I[M.wrapS],reglTextureCube.wrapT=I[M.wrapT],u=0;u<6;++u)freeMipMap(f[u]);return reglTextureCube}function subimage(e,t,r,i,n){p(!!t,"must specify image data"),p("number"==typeof e&&e===(0|e)&&e>=0&&e<6,"invalid face");var a=0|r,s=0|i,o=0|n,u=allocImage();return copyFlags(u,l),u.width=0,u.height=0,parseImage(u,t),u.width=u.width||(l.width>>o)-a,u.height=u.height||(l.height>>o)-s,p(l.type===u.type&&l.format===u.format&&l.internalformat===u.internalformat,"incompatible format for texture.subimage"),p(a>=0&&s>=0&&a+u.width<=l.width&&s+u.height<=l.height,"texture.subimage write out of bounds"),p(l.mipmask&1<<o,"missing mipmap data"),p(u.data||u.element||u.needsCopy,"missing image data"),tempBind(l),setSubImage(u,Ke+e,a,s,o),tempRestore(),freeImage(u),reglTextureCube}function resize(t){var r=0|t;if(r!==l.width){reglTextureCube.width=l.width=r,reglTextureCube.height=l.height=r,tempBind(l);for(var i=0;i<6;++i)for(var n=0;l.mipmask>>n;++n)e.texImage2D(Ke+i,n,l.format,r>>n,r>>n,0,l.format,l.type,null);return tempRestore(),c.profile&&(l.stats.size=getTextureSize(l.internalformat,l.type,reglTextureCube.width,reglTextureCube.height,!1,!0)),reglTextureCube}}var l=new REGLTexture(qe);z[l.id]=l,u.cubeCount++;var f=new Array(6);return reglTextureCube(t,r,i,s,o,M),reglTextureCube.subimage=subimage,reglTextureCube.resize=resize,reglTextureCube._reglType="textureCube",reglTextureCube._texture=l,c.profile&&(reglTextureCube.stats=l.stats),reglTextureCube.destroy=function(){l.decRef()},reglTextureCube}function destroyTextures(){for(var t=0;t<C;++t)e.activeTexture(tr+t),e.bindTexture(Je,null),S[t]=null;q(z).forEach(destroy),u.cubeCount=0,u.textureCount=0}function restoreTextures(){q(z).forEach(function(t){t.texture=e.createTexture(),e.bindTexture(t.target,t.texture);for(var r=0;r<32;++r)if(0!=(t.mipmask&1<<r))if(t.target===Je)e.texImage2D(Je,r,t.internalformat,t.width>>r,t.height>>r,0,t.internalformat,t.type,null);else for(var i=0;i<6;++i)e.texImage2D(Ke+i,r,t.internalformat,t.width>>r,t.height>>r,0,t.internalformat,t.type,null);setTexInfo(t.texInfo,t.target)})}var M={"don't care":Wt,"dont care":Wt,nice:Ht,fast:Zt},l={repeat:Ot,clamp:kt,mirror:Qt},f={nearest:Yt,linear:Rt},A=r({mipmap:Gt,"nearest mipmap nearest":_t,"linear mipmap nearest":Ft,"nearest mipmap linear":Pt,"linear mipmap linear":Gt},f),g={none:0,browser:er},d={uint8:xt,rgba4:ot,rgb565:ct,"rgb5 a1":ut},D={alpha:et,luminance:rt,"luminance alpha":it,rgb:tt,rgba:$e,rgba4:nt,"rgb5 a1":at,rgb565:st},N={};i.ext_srgb&&(D.srgb=At,D.srgba=gt),i.oes_texture_float&&(d.float32=d.float=Ct),i.oes_texture_half_float&&(d.float16=d["half float"]=dt),i.webgl_depth_texture&&(r(D,{depth:lt,"depth stencil":ft}),r(d,{uint16:bt,uint32:zt,"depth stencil":Mt})),i.webgl_compressed_texture_s3tc&&r(N,{"rgb s3tc dxt1":Dt,"rgba s3tc dxt1":pt,"rgba s3tc dxt3":Nt,"rgba s3tc dxt5":yt}),i.webgl_compressed_texture_atc&&r(N,{"rgb atc":ht,"rgba atc explicit alpha":mt,"rgba atc interpolated alpha":jt}),i.webgl_compressed_texture_pvrtc&&r(N,{"rgb pvrtc 4bppv1":wt,"rgb pvrtc 2bppv1":Lt,"rgba pvrtc 4bppv1":It,"rgba pvrtc 2bppv1":Tt}),i.webgl_compressed_texture_etc1&&(N["rgb etc1"]=Et);var y=Array.prototype.slice.call(e.getParameter(Xe));Object.keys(N).forEach(function(e){var t=N[e];y.indexOf(t)>=0&&(D[e]=t)});var h=Object.keys(D);n.textureFormats=h;var m=[];Object.keys(D).forEach(function(e){m[D[e]]=e});var j=[];Object.keys(d).forEach(function(e){j[d[e]]=e});var w=[];Object.keys(f).forEach(function(e){w[f[e]]=e});var L=[];Object.keys(A).forEach(function(e){L[A[e]]=e});var I=[];Object.keys(l).forEach(function(e){I[l[e]]=e});var T=h.reduce(function(e,t){var r=D[t];return r===rt||r===et||r===rt||r===it||r===lt||r===ft?e[r]=r:r===at||t.indexOf("rgba")>=0?e[r]=$e:e[r]=tt,e},{}),E=[],x=[],b=0,z={},C=n.maxTextureUnits,S=Array(C).map(function(){return null});return r(REGLTexture.prototype,{bind:function(){var t=this;t.bindCount+=1;var r=t.unit;if(r<0){for(var i=0;i<C;++i){var n=S[i];if(n){if(n.bindCount>0)continue;n.unit=-1}S[i]=t,r=i;break}r>=C&&p.raise("insufficient number of texture units"),c.profile&&u.maxTextureUnits<r+1&&(u.maxTextureUnits=r+1),t.unit=r,e.activeTexture(tr+r),e.bindTexture(t.target,t.texture)}return r},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&destroy(this)}}),c.profile&&(u.getTotalTextureSize=function(){var e=0;return Object.keys(z).forEach(function(t){e+=z[t].stats.size}),e}),{create2D:createTexture2D,createCube:createTextureCube,clear:destroyTextures,getTexture:function(e){return null},restore:restoreTextures}}function getRenderbufferSize(e,t,r){return wr[e]*t*r}function wrapFBOState(e,t,i,n,s,o){function FramebufferAttachment(e,t,r){this.target=e,this.texture=t,this.renderbuffer=r;var i=0,n=0;t?(i=t.width,n=t.height):r&&(i=r.width,n=r.height),this.width=i,this.height=n}function decRef(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function incRefAndCheckShape(e,t,r){if(e)if(e.texture){var i=e.texture._texture,n=Math.max(1,i.width),a=Math.max(1,i.height);p(n===t&&a===r,"inconsistent width/height for supplied texture"),i.refCount+=1}else{var s=e.renderbuffer._renderbuffer;p(s.width===t&&s.height===r,"inconsistent width/height for renderbuffer"),s.refCount+=1}}function attach(t,r){r&&(r.texture?e.framebufferTexture2D(Ir,t,r.target,r.texture._texture.texture,0):e.framebufferRenderbuffer(Ir,t,Tr,r.renderbuffer._renderbuffer.renderbuffer))}function parseAttachment(e){var t=Er,r=null,i=null,n=e;"object"===(void 0===e?"undefined":a(e))&&(n=e.data,"target"in e&&(t=0|e.target)),p.type(n,"function","invalid attachment data");var s=n._reglType;return"texture2d"===s?(r=n,p(t===Er)):"textureCube"===s?(r=n,p(t>=xr&&t<xr+6,"invalid cube map target")):"renderbuffer"===s?(i=n,t=Tr):p.raise("invalid regl object for attachment"),new FramebufferAttachment(t,r,i)}function allocAttachment(e,t,r,i,a){if(r){var o=n.create2D({width:e,height:t,format:i,type:a});return o._texture.refCount=0,new FramebufferAttachment(Er,o,null)}var u=s.create({width:e,height:t,format:i});return u._renderbuffer.refCount=0,new FramebufferAttachment(Tr,null,u)}function unwrapAttachment(e){return e&&(e.texture||e.renderbuffer)}function resizeAttachment(e,t,r){e&&(e.texture?e.texture.resize(t,r):e.renderbuffer&&e.renderbuffer.resize(t,r))}function REGLFramebuffer(){this.id=f++,A[this.id]=this,this.framebuffer=e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function decFBORefs(e){e.colorAttachments.forEach(decRef),decRef(e.depthAttachment),decRef(e.stencilAttachment),decRef(e.depthStencilAttachment)}function _destroy(t){var r=t.framebuffer;p(r,"must not double destroy framebuffer"),e.deleteFramebuffer(r),t.framebuffer=null,o.framebufferCount--,delete A[t.id]}function updateFramebuffer(t){var r;e.bindFramebuffer(Ir,t.framebuffer);var n=t.colorAttachments;for(r=0;r<n.length;++r)attach(br+r,n[r]);for(r=n.length;r<i.maxColorAttachments;++r)e.framebufferTexture2D(Ir,br+r,Er,null,0);e.framebufferTexture2D(Ir,Sr,Er,null,0),e.framebufferTexture2D(Ir,zr,Er,null,0),e.framebufferTexture2D(Ir,Cr,Er,null,0),attach(zr,t.depthAttachment),attach(Cr,t.stencilAttachment),attach(Sr,t.depthStencilAttachment);var a=e.checkFramebufferStatus(Ir);a!==vr&&p.raise("framebuffer configuration not supported, status = "+ii[a]),e.bindFramebuffer(Ir,u.next),u.cur=u.next,e.getError()}function createFBO(e,n){function reglFramebuffer(e,r){var n;p(u.next!==a,"can not update framebuffer which is currently in use");var s=t.webgl_draw_buffers,o=0,f=0,A=!0,g=!0,d=null,D=!0,N="rgba",y="uint8",h=1,m=null,j=null,w=null,L=!1;if("number"==typeof e)o=0|e,f=0|r||o;else if(e){p.type(e,"object","invalid arguments for framebuffer");var I=e;if("shape"in I){var T=I.shape;p(Array.isArray(T)&&T.length>=2,"invalid shape for framebuffer"),o=T[0],f=T[1]}else"radius"in I&&(o=f=I.radius),"width"in I&&(o=I.width),"height"in I&&(f=I.height);("color"in I||"colors"in I)&&(d=I.color||I.colors,Array.isArray(d)&&p(1===d.length||s,"multiple render targets not supported")),d||("colorCount"in I&&(h=0|I.colorCount,p(h>0,"invalid color buffer count")),"colorTexture"in I&&(D=!!I.colorTexture,N="rgba4"),"colorType"in I&&(y=I.colorType,D?(p(t.oes_texture_float||!("float"===y||"float32"===y),"you must enable OES_texture_float in order to use floating point framebuffer objects"),p(t.oes_texture_half_float||!("half float"===y||"float16"===y),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===y||"float16"===y?(p(t.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),N="rgba16f"):"float"!==y&&"float32"!==y||(p(t.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),N="rgba32f"),p.oneOf(y,l,"invalid color type")),"colorFormat"in I&&(N=I.colorFormat,c.indexOf(N)>=0?D=!0:M.indexOf(N)>=0?D=!1:D?p.oneOf(I.colorFormat,c,"invalid color format for texture"):p.oneOf(I.colorFormat,M,"invalid color format for renderbuffer"))),("depthTexture"in I||"depthStencilTexture"in I)&&(L=!(!I.depthTexture&&!I.depthStencilTexture),p(!L||t.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in I&&("boolean"==typeof I.depth?A=I.depth:(m=I.depth,g=!1)),"stencil"in I&&("boolean"==typeof I.stencil?g=I.stencil:(j=I.stencil,A=!1)),"depthStencil"in I&&("boolean"==typeof I.depthStencil?A=g=I.depthStencil:(w=I.depthStencil,A=!1,g=!1))}else o=f=1;var E=null,x=null,b=null,z=null;if(Array.isArray(d))E=d.map(parseAttachment);else if(d)E=[parseAttachment(d)];else for(E=new Array(h),n=0;n<h;++n)E[n]=allocAttachment(o,f,D,N,y);p(t.webgl_draw_buffers||E.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),p(E.length<=i.maxColorAttachments,"too many color attachments, not supported"),o=o||E[0].width,f=f||E[0].height,m?x=parseAttachment(m):A&&!g&&(x=allocAttachment(o,f,L,"depth","uint32")),j?b=parseAttachment(j):g&&!A&&(b=allocAttachment(o,f,!1,"stencil","uint8")),w?z=parseAttachment(w):!m&&!j&&g&&A&&(z=allocAttachment(o,f,L,"depth stencil","depth stencil")),p(!!m+!!j+!!w<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var C=null;for(n=0;n<E.length;++n)if(incRefAndCheckShape(E[n],o,f),p(!E[n]||E[n].texture&&Pr.indexOf(E[n].texture._texture.format)>=0||E[n].renderbuffer&&ri.indexOf(E[n].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+n+" is invalid"),E[n]&&E[n].texture){var S=Gr[E[n].texture._texture.format]*Vr[E[n].texture._texture.type];null===C?C=S:p(C===S,"all color attachments much have the same number of bits per pixel.")}return incRefAndCheckShape(x,o,f),p(!x||x.texture&&x.texture._texture.format===Fr||x.renderbuffer&&x.renderbuffer._renderbuffer.format===Xr,"invalid depth attachment for framebuffer object"),incRefAndCheckShape(b,o,f),p(!b||b.renderbuffer&&b.renderbuffer._renderbuffer.format===Jr,"invalid stencil attachment for framebuffer object"),incRefAndCheckShape(z,o,f),p(!z||z.texture&&z.texture._texture.format===qr||z.renderbuffer&&z.renderbuffer._renderbuffer.format===qr,"invalid depth-stencil attachment for framebuffer object"),decFBORefs(a),a.width=o,a.height=f,a.colorAttachments=E,a.depthAttachment=x,a.stencilAttachment=b,a.depthStencilAttachment=z,reglFramebuffer.color=E.map(unwrapAttachment),reglFramebuffer.depth=unwrapAttachment(x),reglFramebuffer.stencil=unwrapAttachment(b),reglFramebuffer.depthStencil=unwrapAttachment(z),reglFramebuffer.width=a.width,reglFramebuffer.height=a.height,updateFramebuffer(a),reglFramebuffer}function resize(e,t){p(u.next!==a,"can not resize a framebuffer which is currently in use");var r=0|e,i=0|t||r;if(r===a.width&&i===a.height)return reglFramebuffer;for(var n=a.colorAttachments,s=0;s<n.length;++s)resizeAttachment(n[s],r,i);return resizeAttachment(a.depthAttachment,r,i),resizeAttachment(a.stencilAttachment,r,i),resizeAttachment(a.depthStencilAttachment,r,i),a.width=reglFramebuffer.width=r,a.height=reglFramebuffer.height=i,updateFramebuffer(a),reglFramebuffer}var a=new REGLFramebuffer;return o.framebufferCount++,reglFramebuffer(e,n),r(reglFramebuffer,{resize:resize,_reglType:"framebuffer",_framebuffer:a,destroy:function(){_destroy(a),decFBORefs(a)},use:function(e){u.setFBO({framebuffer:reglFramebuffer},e)}})}function createCubeFBO(e){function reglFramebufferCube(e){var i;p(a.indexOf(u.next)<0,"can not update framebuffer which is currently in use");var s=t.webgl_draw_buffers,o={color:null},M=0,f=null,A="rgba",g="uint8",d=1;if("number"==typeof e)M=0|e;else if(e){p.type(e,"object","invalid arguments for framebuffer");var D=e;if("shape"in D){var N=D.shape;p(Array.isArray(N)&&N.length>=2,"invalid shape for framebuffer"),p(N[0]===N[1],"cube framebuffer must be square"),M=N[0]}else"radius"in D&&(M=0|D.radius),"width"in D?(M=0|D.width,"height"in D&&p(D.height===M,"must be square")):"height"in D&&(M=0|D.height);("color"in D||"colors"in D)&&(f=D.color||D.colors,Array.isArray(f)&&p(1===f.length||s,"multiple render targets not supported")),f||("colorCount"in D&&(d=0|D.colorCount,p(d>0,"invalid color buffer count")),"colorType"in D&&(p.oneOf(D.colorType,l,"invalid color type"),g=D.colorType),"colorFormat"in D&&(A=D.colorFormat,p.oneOf(D.colorFormat,c,"invalid color format for texture"))),"depth"in D&&(o.depth=D.depth),"stencil"in D&&(o.stencil=D.stencil),"depthStencil"in D&&(o.depthStencil=D.depthStencil)}else M=1;var y;if(f)if(Array.isArray(f))for(y=[],i=0;i<f.length;++i)y[i]=f[i];else y=[f];else{y=Array(d);var h={radius:M,format:A,type:g};for(i=0;i<d;++i)y[i]=n.createCube(h)}for(o.color=Array(y.length),i=0;i<y.length;++i){var m=y[i];p("function"==typeof m&&"textureCube"===m._reglType,"invalid cube map"),M=M||m.width,p(m.width===M&&m.height===M,"invalid cube map shape"),o.color[i]={target:xr,data:y[i]}}for(i=0;i<6;++i){for(var j=0;j<y.length;++j)o.color[j].target=xr+i;i>0&&(o.depth=a[0].depth,o.stencil=a[0].stencil,o.depthStencil=a[0].depthStencil),a[i]?a[i](o):a[i]=createFBO(o)}return r(reglFramebufferCube,{width:M,height:M,color:y})}function resize(e){var t,r=0|e;if(p(r>0&&r<=i.maxCubeMapSize,"invalid radius for cube fbo"),r===reglFramebufferCube.width)return reglFramebufferCube;var n=reglFramebufferCube.color;for(t=0;t<n.length;++t)n[t].resize(r);for(t=0;t<6;++t)a[t].resize(r);return reglFramebufferCube.width=reglFramebufferCube.height=r,reglFramebufferCube}var a=Array(6);return reglFramebufferCube(e),r(reglFramebufferCube,{faces:a,resize:resize,_reglType:"framebufferCube",destroy:function(){a.forEach(function(e){e.destroy()})}})}function restoreFramebuffers(){q(A).forEach(function(t){t.framebuffer=e.createFramebuffer(),updateFramebuffer(t)})}var u={cur:null,next:null,dirty:!1,setFBO:null},c=["rgba"],M=["rgba4","rgb565","rgb5 a1"];t.ext_srgb&&M.push("srgba"),t.ext_color_buffer_half_float&&M.push("rgba16f","rgb16f"),t.webgl_color_buffer_float&&M.push("rgba32f");var l=["uint8"];t.oes_texture_half_float&&l.push("half float","float16"),t.oes_texture_float&&l.push("float","float32");var f=0,A={};return r(u,{getFramebuffer:function(e){if("function"==typeof e&&"framebuffer"===e._reglType){var t=e._framebuffer;if(t instanceof REGLFramebuffer)return t}return null},create:createFBO,createCube:createCubeFBO,clear:function(){q(A).forEach(_destroy)},restore:restoreFramebuffers})}function AttributeRecord(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=ni,this.offset=0,this.stride=0,this.divisor=0}function wrapAttributeState(e,t,r,i,n){for(var a=r.maxAttributes,s=new Array(a),o=0;o<a;++o)s[o]=new AttributeRecord;return{Record:AttributeRecord,scope:{},state:s}}function wrapShaderState(e,t,r,i){function ActiveInfo(e,t,r,i){this.name=e,this.id=t,this.location=r,this.info=i}function insertActiveInfo(e,t){for(var r=0;r<e.length;++r)if(e[r].id===t.id)return void(e[r].location=t.location);e.push(t)}function getShader(r,i,s){var o=r===ai?n:a,u=o[i];if(!u){var c=t.str(i);u=e.createShader(r),e.shaderSource(u,c),e.compileShader(u),p.shaderError(e,u,c,r,s),o[i]=u}return u}function REGLProgram(e,t){this.id=u++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],i.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function linkProgram(r,n){var a,s,o=getShader(ai,r.fragId),u=getShader(si,r.vertId),c=r.program=e.createProgram();e.attachShader(c,o),e.attachShader(c,u),e.linkProgram(c),p.linkError(e,c,t.str(r.fragId),t.str(r.vertId),n);var M=e.getProgramParameter(c,oi);i.profile&&(r.stats.uniformsCount=M);var l=r.uniforms;for(a=0;a<M;++a)if(s=e.getActiveUniform(c,a))if(s.size>1)for(var f=0;f<s.size;++f){var A=s.name.replace("[0]","["+f+"]");insertActiveInfo(l,new ActiveInfo(A,t.id(A),e.getUniformLocation(c,A),s))}else insertActiveInfo(l,new ActiveInfo(s.name,t.id(s.name),e.getUniformLocation(c,s.name),s));var g=e.getProgramParameter(c,ui);i.profile&&(r.stats.attributesCount=g);var d=r.attributes;for(a=0;a<g;++a)(s=e.getActiveAttrib(c,a))&&insertActiveInfo(d,new ActiveInfo(s.name,t.id(s.name),e.getAttribLocation(c,s.name),s))}function restoreShaders(){n={},a={};for(var e=0;e<o.length;++e)linkProgram(o[e])}var n={},a={},s={},o=[],u=0;return i.profile&&(r.getMaxUniformsCount=function(){var e=0;return o.forEach(function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)}),e},r.getMaxAttributesCount=function(){var e=0;return o.forEach(function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)}),e}),{clear:function(){var t=e.deleteShader.bind(e);q(n).forEach(t),n={},q(a).forEach(t),a={},o.forEach(function(t){e.deleteProgram(t.program)}),o.length=0,s={},r.shaderCount=0},program:function program(e,t,i){p.command(e>=0,"missing vertex shader",i),p.command(t>=0,"missing fragment shader",i);var n=s[t];n||(n=s[t]={});var program=n[e];return program||(program=new REGLProgram(t,e),r.shaderCount++,linkProgram(program,i),n[e]=program,o.push(program)),program},restore:restoreShaders,shader:getShader,frag:-1,vert:-1}}function wrapReadPixels(e,r,i,n,a,s){function readPixelsImpl(o){var u;null===r.next?(p(a.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),u=Mi):(p(null!==r.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),u=r.next.colorAttachments[0].texture._texture.type,s.oes_texture_float?p(u===Mi||u===fi,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"):p(u===Mi,"Reading from a framebuffer is only allowed for the type 'uint8'"));var c=0,M=0,l=n.framebufferWidth,f=n.framebufferHeight,A=null;t(o)?A=o:o&&(p.type(o,"object","invalid arguments to regl.read()"),c=0|o.x,M=0|o.y,p(c>=0&&c<n.framebufferWidth,"invalid x offset for regl.read"),p(M>=0&&M<n.framebufferHeight,"invalid y offset for regl.read"),l=0|(o.width||n.framebufferWidth-c),f=0|(o.height||n.framebufferHeight-M),A=o.data||null),A&&(u===Mi?p(A instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):u===fi&&p(A instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),p(l>0&&l+c<=n.framebufferWidth,"invalid width for read pixels"),p(f>0&&f+M<=n.framebufferHeight,"invalid height for read pixels"),i();var g=l*f*4;return A||(u===Mi?A=new Uint8Array(g):u===fi&&(A=A||new Float32Array(g))),p.isTypedArray(A,"data buffer for regl.read() must be a typedarray"),p(A.byteLength>=g,"data buffer for regl.read() too small"),e.pixelStorei(li,4),e.readPixels(c,M,l,f,ci,u,A),A}function readPixelsFBO(e){var t;return r.setFBO({framebuffer:e.framebuffer},function(){t=readPixelsImpl(e)}),t}function readPixels(e){return e&&"framebuffer"in e?readPixelsFBO(e):readPixelsImpl(e)}return readPixels}function slice(e){return Array.prototype.slice.call(e)}function join(e){return slice(e).join("")}function createEnvironment(){function link(r){for(var n=0;n<i.length;++n)if(i[n]===r)return t[n];var a="g"+e++;return t.push(a),i.push(r),a}function block(){function push(){t.push.apply(t,slice(arguments))}function def(){var r="v"+e++;return i.push(r),arguments.length>0&&(t.push(r,"="),t.push.apply(t,slice(arguments)),t.push(";")),r}var t=[],i=[];return r(push,{def:def,toString:function(){return join([i.length>0?"var "+i+";":"",join(t)])}})}function scope(){function save(r,i){t(r,i,"=",e.def(r,i),";")}var e=block(),t=block(),i=e.toString,n=t.toString;return r(function(){e.apply(e,slice(arguments))},{def:e.def,entry:e,exit:t,save:save,set:function(t,r,i){save(t,r),e(t,r,"=",i,";")},toString:function(){return i()+n()}})}function conditional(){var e=join(arguments),t=scope(),i=scope(),n=t.toString,a=i.toString;return r(t,{then:function(){return t.apply(t,slice(arguments)),this},else:function(){return i.apply(i,slice(arguments)),this},toString:function(){var t=a();return t&&(t="else{"+t+"}"),join(["if(",e,"){",n(),"}",t])}})}function proc(e,t){function arg(){var e="a"+i.length;return i.push(e),e}var i=[];t=t||0;for(var n=0;n<t;++n)arg();var s=scope(),o=s.toString;return a[e]=r(s,{arg:arg,toString:function(){return join(["function(",i.join(),"){",o(),"}"])}})}function compile(){var e=['"use strict";',n,"return {"];Object.keys(a).forEach(function(t){e.push('"',t,'":',a[t].toString(),",")}),e.push("}");var r=join(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,t.concat(r)).apply(null,i)}var e=0,t=[],i=[],n=block(),a={};return{global:n,link:link,block:block,proc:proc,scope:scope,cond:conditional,compile:compile}}function isBufferArgs(e){return Array.isArray(e)||t(e)||isNDArrayLike(e)}function sortState(e){return e.sort(function(e,t){return e===Hi?-1:t===Hi?1:e<t?-1:1})}function Declaration(e,t,r,i){this.thisDep=e,this.contextDep=t,this.propDep=r,this.append=i}function isStatic(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function createStaticDecl(e){return new Declaration(!1,!1,!1,e)}function createDynamicDecl(e,t){var r=e.type;if(r===pi){var i=e.data.length;return new Declaration(!0,i>=1,i>=2,t)}if(r===mi){var n=e.data;return new Declaration(n.thisDep,n.contextDep,n.propDep,t)}return new Declaration(r===hi,r===yi,r===Ni,t)}function reglCore(e,t,r,i,n,s,o,u,c,M,l,f,A,g,d){function propName(e){return e.replace(".","_")}function stateFlag(e,t,r){var i=propName(e);L.push(e),w[i]=j[i]=!!r,I[i]=t}function stateVariable(e,t,r){var i=propName(e);L.push(e),Array.isArray(r)?(j[i]=r.slice(),w[i]=r.slice()):j[i]=w[i]=r,T[i]=t}function createREGLEnvironment(){var e=createEnvironment(),r=e.link,i=e.global;e.id=b++,e.batchId="0";var n=r(E),a=e.shared={props:"a0"};Object.keys(E).forEach(function(e){a[e]=i.def(n,".",e)}),p.optional(function(){e.CHECK=r(p),e.commandStr=p.guessCommand(),e.command=r(e.commandStr),e.assert=function(e,t,i){e("if(!(",t,"))",this.CHECK,".commandRaise(",r(i),",",this.command,");")},x.invalidBlendCombinations=ca});var s=e.next={},o=e.current={};Object.keys(T).forEach(function(e){Array.isArray(j[e])&&(s[e]=i.def(a.next,".",e),o[e]=i.def(a.current,".",e))});var u=e.constants={};Object.keys(x).forEach(function(e){u[e]=i.def(JSON.stringify(x[e]))}),e.invoke=function(t,i){switch(i.type){case pi:var n=["this",a.context,a.props,e.batchId];return t.def(r(i.data),".call(",n.slice(0,Math.max(i.data.length+1,4)),")");case Ni:return t.def(a.props,i.data);case yi:return t.def(a.context,i.data);case hi:return t.def("this",i.data);case mi:return i.data.append(e,t),i.data.ref}},e.attribCache={};var c={};return e.scopeAttrib=function(e){var i=t.id(e);if(i in c)return c[i];var n=M.scope[i];return n||(n=M.scope[i]=new D),c[i]=r(n)},e}function parseProfile(e){var t,r=e.static,i=e.dynamic;if(Xi in r){var n=!!r[Xi];t=createStaticDecl(function(e,t){return n}),t.enable=n}else if(Xi in i){var a=i[Xi];t=createDynamicDecl(a,function(e,t){return e.invoke(t,a)})}return t}function parseFramebuffer(e,t){var r=e.static,i=e.dynamic;if(Ji in r){var n=r[Ji];return n?(n=u.getFramebuffer(n),p.command(n,"invalid framebuffer object"),createStaticDecl(function(e,t){var r=e.link(n),i=e.shared;t.set(i.framebuffer,".next",r);var a=i.context;return t.set(a,"."+on,r+".width"),t.set(a,"."+un,r+".height"),r})):createStaticDecl(function(e,t){var r=e.shared;t.set(r.framebuffer,".next","null");var i=r.context;return t.set(i,"."+on,i+"."+fn),t.set(i,"."+un,i+"."+An),"null"})}if(Ji in i){var a=i[Ji];return createDynamicDecl(a,function(e,t){var r=e.invoke(t,a),i=e.shared,n=i.framebuffer,s=t.def(n,".getFramebuffer(",r,")");p.optional(function(){e.assert(t,"!"+r+"||"+s,"invalid framebuffer object")}),t.set(n,".next",s);var o=i.context;return t.set(o,"."+on,s+"?"+s+".width:"+o+"."+fn),t.set(o,"."+un,s+"?"+s+".height:"+o+"."+An),s})}return null}function parseViewportScissor(e,t,r){function parseBox(e){if(e in i){var a=i[e];p.commandType(a,"object","invalid "+e,r.commandStr);var s,o,u=!0,c=0|a.x,M=0|a.y;return"width"in a?(s=0|a.width,p.command(s>=0,"invalid "+e,r.commandStr)):u=!1,"height"in a?(o=0|a.height,p.command(o>=0,"invalid "+e,r.commandStr)):u=!1,new Declaration(!u&&t&&t.thisDep,!u&&t&&t.contextDep,!u&&t&&t.propDep,function(e,t){var r=e.shared.context,i=s;"width"in a||(i=t.def(r,".",on,"-",c));var n=o;return"height"in a||(n=t.def(r,".",un,"-",M)),[c,M,i,n]})}if(e in n){var l=n[e],f=createDynamicDecl(l,function(t,r){var i=t.invoke(r,l);p.optional(function(){t.assert(r,i+"&&typeof "+i+'==="object"',"invalid "+e)});var n=t.shared.context,a=r.def(i,".x|0"),s=r.def(i,".y|0"),o=r.def('"width" in ',i,"?",i,".width|0:","(",n,".",on,"-",a,")"),u=r.def('"height" in ',i,"?",i,".height|0:","(",n,".",un,"-",s,")");return p.optional(function(){t.assert(r,o+">=0&&"+u+">=0","invalid "+e)}),[a,s,o,u]});return t&&(f.thisDep=f.thisDep||t.thisDep,f.contextDep=f.contextDep||t.contextDep,f.propDep=f.propDep||t.propDep),f}return t?new Declaration(t.thisDep,t.contextDep,t.propDep,function(e,t){var r=e.shared.context;return[0,0,t.def(r,".",on),t.def(r,".",un)]}):null}var i=e.static,n=e.dynamic,a=parseBox(Hi);if(a){var s=a;a=new Declaration(a.thisDep,a.contextDep,a.propDep,function(e,t){var r=s.append(e,t),i=e.shared.context;return t.set(i,"."+cn,r[2]),t.set(i,"."+Mn,r[3]),r})}return{viewport:a,scissor_box:parseBox(Zi)}}function parseProgram(e){function parseShader(e){if(e in i){var r=t.id(i[e]);p.optional(function(){l.shader(fa[e],r,p.guessCommand())});var a=createStaticDecl(function(){return r});return a.id=r,a}if(e in n){var s=n[e];return createDynamicDecl(s,function(t,r){var i=t.invoke(r,s),n=r.def(t.shared.strings,".id(",i,")");return p.optional(function(){r(t.shared.shader,".shader(",fa[e],",",n,",",t.command,");")}),n})}return null}var r,i=e.static,n=e.dynamic,a=parseShader(Ki),s=parseShader(qi),o=null;return isStatic(a)&&isStatic(s)?(o=l.program(s.id,a.id),r=createStaticDecl(function(e,t){return e.link(o)})):r=new Declaration(a&&a.thisDep||s&&s.thisDep,a&&a.contextDep||s&&s.contextDep,a&&a.propDep||s&&s.propDep,function(e,t){var r,i=e.shared.shader;r=a?a.append(e,t):t.def(i,".",Ki);var n;n=s?s.append(e,t):t.def(i,".",qi);var o=i+".program("+n+","+r;return p.optional(function(){o+=","+e.command}),t.def(o+")")}),{frag:a,vert:s,progVar:r,program:o}}function parseDraw(e,t){function parseElements(){if($i in r){var e=r[$i];isBufferArgs(e)?e=s.getElements(s.create(e,!0)):e&&(e=s.getElements(e),p.command(e,"invalid elements",t.commandStr));var n=createStaticDecl(function(t,r){if(e){var i=t.link(e);return t.ELEMENTS=i,i}return t.ELEMENTS=null,null});return n.value=e,n}if($i in i){var a=i[$i];return createDynamicDecl(a,function(e,t){var r=e.shared,i=r.isBufferArgs,n=r.elements,s=e.invoke(t,a),o=t.def("null"),u=t.def(i,"(",s,")"),c=e.cond(u).then(o,"=",n,".createStream(",s,");").else(o,"=",n,".getElements(",s,");");return p.optional(function(){e.assert(c.else,"!"+s+"||"+o,"invalid elements")}),t.entry(c),t.exit(e.cond(u).then(n,".destroyStream(",o,");")),e.ELEMENTS=o,o})}return null}function parsePrimitive(){if(en in r){var e=r[en];return p.commandParameter(e,ve,"invalid primitve",t.commandStr),createStaticDecl(function(t,r){return ve[e]})}if(en in i){var a=i[en];return createDynamicDecl(a,function(e,t){var r=e.constants.primTypes,i=e.invoke(t,a);return p.optional(function(){e.assert(t,i+" in "+r,"invalid primitive, must be one of "+Object.keys(ve))}),t.def(r,"[",i,"]")})}return n?isStatic(n)?createStaticDecl(n.value?function(e,t){return t.def(e.ELEMENTS,".primType")}:function(){return Zn}):new Declaration(n.thisDep,n.contextDep,n.propDep,function(e,t){var r=e.ELEMENTS;return t.def(r,"?",r,".primType:",Zn)}):null}function parseParam(e,a){if(e in r){var s=0|r[e];return p.command(!a||s>=0,"invalid "+e,t.commandStr),createStaticDecl(function(e,t){return a&&(e.OFFSET=s),s})}if(e in i){var o=i[e];return createDynamicDecl(o,function(t,r){var i=t.invoke(r,o);return a&&(t.OFFSET=i,p.optional(function(){t.assert(r,i+">=0","invalid "+e)})),i})}return a&&n?createStaticDecl(function(e,t){return e.OFFSET="0",0}):null}function parseVertCount(){if(tn in r){var e=0|r[tn];return p.command("number"==typeof e&&e>=0,"invalid vertex count",t.commandStr),createStaticDecl(function(){return e})}if(tn in i){var s=i[tn];return createDynamicDecl(s,function(e,t){var r=e.invoke(t,s);return p.optional(function(){e.assert(t,"typeof "+r+'==="number"&&'+r+">=0&&"+r+"===("+r+"|0)","invalid vertex count")}),r})}if(n){if(isStatic(n)){if(n)return a?new Declaration(a.thisDep,a.contextDep,a.propDep,function(e,t){var r=t.def(e.ELEMENTS,".vertCount-",e.OFFSET);return p.optional(function(){e.assert(t,r+">=0","invalid vertex offset/element buffer too small")}),r}):createStaticDecl(function(e,t){return t.def(e.ELEMENTS,".vertCount")});var o=createStaticDecl(function(){return-1});return p.optional(function(){o.MISSING=!0}),o}var u=new Declaration(n.thisDep||a.thisDep,n.contextDep||a.contextDep,n.propDep||a.propDep,function(e,t){var r=e.ELEMENTS;return e.OFFSET?t.def(r,"?",r,".vertCount-",e.OFFSET,":-1"):t.def(r,"?",r,".vertCount:-1")});return p.optional(function(){u.DYNAMIC=!0}),u}return null}var r=e.static,i=e.dynamic,n=parseElements(),a=parseParam(rn,!0);return{elements:n,primitive:parsePrimitive(),count:parseVertCount(),instances:parseParam(nn,!1),offset:a}}function parseGLState(e,t){var r=e.static,n=e.dynamic,s={};return L.forEach(function(e){function parseParam(t,i){if(e in r){var a=t(r[e]);s[o]=createStaticDecl(function(){return a})}else if(e in n){var u=n[e];s[o]=createDynamicDecl(u,function(e,t){return i(e,t,e.invoke(t,u))})}}var o=propName(e);switch(e){case Si:case wi:case ji:case _i:case Ei:case Wi:case Qi:case Ui:case Yi:case zi:return parseParam(function(r){return p.commandType(r,"boolean",e,t.commandStr),r},function(t,r,i){return p.optional(function(){t.assert(r,"typeof "+i+'==="boolean"',"invalid flag "+e,t.commandStr)}),i});case xi:return parseParam(function(r){return p.commandParameter(r,Ma,"invalid "+e,t.commandStr),Ma[r]},function(t,r,i){var n=t.constants.compareFuncs;return p.optional(function(){t.assert(r,i+" in "+n,"invalid "+e+", must be one of "+Object.keys(Ma))}),r.def(n,"[",i,"]")});case bi:return parseParam(function(e){return p.command(isArrayLike(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]&&e[0]<=e[1],"depth range is 2d array",t.commandStr),e},function(e,t,r){return p.optional(function(){e.assert(t,e.shared.isArrayLike+"("+r+")&&"+r+".length===2&&typeof "+r+'[0]==="number"&&typeof '+r+'[1]==="number"&&'+r+"[0]<="+r+"[1]","depth range must be a 2d array")}),[t.def("+",r,"[0]"),t.def("+",r,"[1]")]});case Ti:return parseParam(function(e){p.commandType(e,"object","blend.func",t.commandStr);var r="srcRGB"in e?e.srcRGB:e.src,i="srcAlpha"in e?e.srcAlpha:e.src,n="dstRGB"in e?e.dstRGB:e.dst,a="dstAlpha"in e?e.dstAlpha:e.dst;return p.commandParameter(r,ua,o+".srcRGB",t.commandStr),p.commandParameter(i,ua,o+".srcAlpha",t.commandStr),p.commandParameter(n,ua,o+".dstRGB",t.commandStr),p.commandParameter(a,ua,o+".dstAlpha",t.commandStr),p.command(ca.indexOf(r+", "+n)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+r+", "+n+")",t.commandStr),[ua[r],ua[n],ua[i],ua[a]]},function(t,r,i){function read(a,s){var o=r.def('"',a,s,'" in ',i,"?",i,".",a,s,":",i,".",a);return p.optional(function(){t.assert(r,o+" in "+n,"invalid "+e+"."+a+s+", must be one of "+Object.keys(ua))}),o}var n=t.constants.blendFuncs;p.optional(function(){t.assert(r,i+"&&typeof "+i+'==="object"',"invalid blend func, must be an object")});var a=read("src","RGB"),s=read("dst","RGB");p.optional(function(){var e=t.constants.invalidBlendCombinations;t.assert(r,e+".indexOf("+a+'+", "+'+s+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var o=r.def(n,"[",a,"]"),u=r.def(n,"[",read("src","Alpha"),"]");return[o,r.def(n,"[",s,"]"),u,r.def(n,"[",read("dst","Alpha"),"]")]});case Ii:return parseParam(function(r){return"string"==typeof r?(p.commandParameter(r,N,"invalid "+e,t.commandStr),[N[r],N[r]]):"object"===(void 0===r?"undefined":a(r))?(p.commandParameter(r.rgb,N,e+".rgb",t.commandStr),p.commandParameter(r.alpha,N,e+".alpha",t.commandStr),[N[r.rgb],N[r.alpha]]):void p.commandRaise("invalid blend.equation",t.commandStr)},function(t,r,i){var n=t.constants.blendEquations,a=r.def(),s=r.def(),o=t.cond("typeof ",i,'==="string"');return p.optional(function(){function checkProp(e,r,i){t.assert(e,i+" in "+n,"invalid "+r+", must be one of "+Object.keys(N))}checkProp(o.then,e,i),t.assert(o.else,i+"&&typeof "+i+'==="object"',"invalid "+e),checkProp(o.else,e+".rgb",i+".rgb"),checkProp(o.else,e+".alpha",i+".alpha")}),o.then(a,"=",s,"=",n,"[",i,"];"),o.else(a,"=",n,"[",i,".rgb];",s,"=",n,"[",i,".alpha];"),r(o),[a,s]});case Li:return parseParam(function(e){return p.command(isArrayLike(e)&&4===e.length,"blend.color must be a 4d array",t.commandStr),loop(4,function(t){return+e[t]})},function(e,t,r){return p.optional(function(){e.assert(t,e.shared.isArrayLike+"("+r+")&&"+r+".length===4","blend.color must be a 4d array")}),loop(4,function(e){return t.def("+",r,"[",e,"]")})});case Fi:return parseParam(function(e){return p.commandType(e,"number",o,t.commandStr),0|e},function(e,t,r){return p.optional(function(){e.assert(t,"typeof "+r+'==="number"',"invalid stencil.mask")}),t.def(r,"|0")});case Pi:return parseParam(function(r){p.commandType(r,"object",o,t.commandStr);var i=r.cmp||"keep",n=r.ref||0,a="mask"in r?r.mask:-1;return p.commandParameter(i,Ma,e+".cmp",t.commandStr),p.commandType(n,"number",e+".ref",t.commandStr),p.commandType(a,"number",e+".mask",t.commandStr),[Ma[i],n,a]},function(e,t,r){var i=e.constants.compareFuncs;return p.optional(function(){function assert(){e.assert(t,Array.prototype.join.call(arguments,""),"invalid stencil.func")}assert(r+"&&typeof ",r,'==="object"'),assert('!("cmp" in ',r,")||(",r,".cmp in ",i,")")}),[t.def('"cmp" in ',r,"?",i,"[",r,".cmp]",":",ta),t.def(r,".ref|0"),t.def('"mask" in ',r,"?",r,".mask|0:-1")]});case Gi:case Vi:return parseParam(function(r){p.commandType(r,"object",o,t.commandStr);var i=r.fail||"keep",n=r.zfail||"keep",a=r.zpass||"keep";return p.commandParameter(i,la,e+".fail",t.commandStr),p.commandParameter(n,la,e+".zfail",t.commandStr),p.commandParameter(a,la,e+".zpass",t.commandStr),[e===Vi?Xn:Hn,la[i],la[n],la[a]]},function(t,r,i){function read(a){return p.optional(function(){t.assert(r,'!("'+a+'" in '+i+")||("+i+"."+a+" in "+n+")","invalid "+e+"."+a+", must be one of "+Object.keys(la))}),r.def('"',a,'" in ',i,"?",n,"[",i,".",a,"]:",ta)}var n=t.constants.stencilOps;return p.optional(function(){t.assert(r,i+"&&typeof "+i+'==="object"',"invalid "+e)}),[e===Vi?Xn:Hn,read("fail"),read("zfail"),read("zpass")]});case Bi:return parseParam(function(e){p.commandType(e,"object",o,t.commandStr);var r=0|e.factor,i=0|e.units;return p.commandType(r,"number",o+".factor",t.commandStr),p.commandType(i,"number",o+".units",t.commandStr),[r,i]},function(t,r,i){return p.optional(function(){t.assert(r,i+"&&typeof "+i+'==="object"',"invalid "+e)}),[r.def(i,".factor|0"),r.def(i,".units|0")]});case vi:return parseParam(function(e){var r=0;return"front"===e?r=Hn:"back"===e&&(r=Xn),p.command(!!r,o,t.commandStr),r},function(e,t,r){return p.optional(function(){e.assert(t,r+'==="front"||'+r+'==="back"',"invalid cull.face")}),t.def(r,'==="front"?',Hn,":",Xn)});case ki:return parseParam(function(e){return p.command("number"==typeof e&&e>=i.lineWidthDims[0]&&e<=i.lineWidthDims[1],"invalid line width, must positive number between "+i.lineWidthDims[0]+" and "+i.lineWidthDims[1],t.commandStr),e},function(e,t,r){return p.optional(function(){e.assert(t,"typeof "+r+'==="number"&&'+r+">="+i.lineWidthDims[0]+"&&"+r+"<="+i.lineWidthDims[1],"invalid line width")}),r});case Oi:return parseParam(function(e){return p.commandParameter(e,Aa,o,t.commandStr),Aa[e]},function(e,t,r){return p.optional(function(){e.assert(t,r+'==="cw"||'+r+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),t.def(r+'==="cw"?'+Jn+":"+qn)});case Ci:return parseParam(function(e){return p.command(isArrayLike(e)&&4===e.length,"color.mask must be length 4 array",t.commandStr),e.map(function(e){return!!e})},function(e,t,r){return p.optional(function(){e.assert(t,e.shared.isArrayLike+"("+r+")&&"+r+".length===4","invalid color.mask")}),loop(4,function(e){return"!!"+r+"["+e+"]"})});case Ri:return parseParam(function(e){p.command("object"===(void 0===e?"undefined":a(e))&&e,o,t.commandStr);var r="value"in e?e.value:1,i=!!e.invert;return p.command("number"==typeof r&&r>=0&&r<=1,"sample.coverage.value must be a number between 0 and 1",t.commandStr),[r,i]},function(e,t,r){return p.optional(function(){e.assert(t,r+"&&typeof "+r+'==="object"',"invalid sample.coverage")}),[t.def('"value" in ',r,"?+",r,".value:1"),t.def("!!",r,".invert")]})}}),s}function parseUniforms(e,t){var r=e.static,i=e.dynamic,n={};return Object.keys(r).forEach(function(e){var i,a=r[e];if("number"==typeof a||"boolean"==typeof a)i=createStaticDecl(function(){return a});else if("function"==typeof a){var s=a._reglType;"texture2d"===s||"textureCube"===s?i=createStaticDecl(function(e){return e.link(a)}):"framebuffer"===s||"framebufferCube"===s?(p.command(a.color.length>0,'missing color attachment for framebuffer sent to uniform "'+e+'"',t.commandStr),i=createStaticDecl(function(e){return e.link(a.color[0])})):p.commandRaise('invalid data for uniform "'+e+'"',t.commandStr)}else isArrayLike(a)?i=createStaticDecl(function(t){return t.global.def("[",loop(a.length,function(r){return p.command("number"==typeof a[r]||"boolean"==typeof a[r],"invalid uniform "+e,t.commandStr),a[r]}),"]")}):p.commandRaise('invalid or missing data for uniform "'+e+'"',t.commandStr);i.value=a,n[e]=i}),Object.keys(i).forEach(function(e){var t=i[e];n[e]=createDynamicDecl(t,function(e,r){return e.invoke(r,t)})}),n}function parseAttributes(e,r){var i=e.static,s=e.dynamic,o={};return Object.keys(i).forEach(function(e){var s=i[e],u=t.id(e),c=new D;if(isBufferArgs(s))c.state=di,c.buffer=n.getBuffer(n.create(s,dn,!1,!0)),c.type=0;else{var M=n.getBuffer(s);if(M)c.state=di,c.buffer=M,c.type=0;else if(p.command("object"===(void 0===s?"undefined":a(s))&&s,"invalid data for attribute "+e,r.commandStr),s.constant){var l=s.constant;c.buffer="null",c.state=Di,"number"==typeof l?c.x=l:(p.command(isArrayLike(l)&&l.length>0&&l.length<=4,"invalid constant for attribute "+e,r.commandStr),Ai.forEach(function(e,t){t<l.length&&(c[e]=l[t])}))}else{M=isBufferArgs(s.buffer)?n.getBuffer(n.create(s.buffer,dn,!1,!0)):n.getBuffer(s.buffer),p.command(!!M,'missing buffer for attribute "'+e+'"',r.commandStr);var f=0|s.offset;p.command(f>=0,'invalid offset for attribute "'+e+'"',r.commandStr);var A=0|s.stride;p.command(A>=0&&A<256,'invalid stride for attribute "'+e+'", must be integer betweeen [0, 255]',r.commandStr);var g=0|s.size;p.command(!("size"in s)||g>0&&g<=4,'invalid size for attribute "'+e+'", must be 1,2,3,4',r.commandStr);var d=!!s.normalized,N=0;"type"in s&&(p.commandParameter(s.type,De,"invalid type for attribute "+e,r.commandStr),N=De[s.type]);var h=0|s.divisor;"divisor"in s&&(p.command(0===h||y,'cannot specify divisor for attribute "'+e+'", instancing not supported',r.commandStr),p.command(h>=0,'invalid divisor for attribute "'+e+'"',r.commandStr)),p.optional(function(){var t=r.commandStr,i=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(s).forEach(function(r){p.command(i.indexOf(r)>=0,'unknown parameter "'+r+'" for attribute pointer "'+e+'" (valid parameters are '+i+")",t)})}),c.buffer=M,c.state=di,c.size=g,c.normalized=d,c.type=N||M.dtype,c.offset=f,c.stride=A,c.divisor=h}}o[e]=createStaticDecl(function(e,t){var r=e.attribCache;if(u in r)return r[u];var i={isStream:!1};return Object.keys(c).forEach(function(e){i[e]=c[e]}),c.buffer&&(i.buffer=e.link(c.buffer),i.type=i.type||i.buffer+".dtype"),r[u]=i,i})}),Object.keys(s).forEach(function(e){function appendAttributeCode(r,i){function emitReadRecord(e){i(u[e],"=",n,".",e,"|0;")}var n=r.invoke(i,t),a=r.shared,s=a.isBufferArgs,o=a.buffer;p.optional(function(){r.assert(i,n+"&&(typeof "+n+'==="object"||typeof '+n+'==="function")&&('+s+"("+n+")||"+o+".getBuffer("+n+")||"+o+".getBuffer("+n+".buffer)||"+s+"("+n+'.buffer)||("constant" in '+n+"&&(typeof "+n+'.constant==="number"||'+a.isArrayLike+"("+n+".constant))))",'invalid dynamic attribute "'+e+'"')});var u={isStream:i.def(!1)},c=new D;c.state=di,Object.keys(c).forEach(function(e){u[e]=i.def(""+c[e])});var M=u.buffer,l=u.type;return i("if(",s,"(",n,")){",u.isStream,"=true;",M,"=",o,".createStream(",dn,",",n,");",l,"=",M,".dtype;","}else{",M,"=",o,".getBuffer(",n,");","if(",M,"){",l,"=",M,".dtype;",'}else if("constant" in ',n,"){",u.state,"=",Di,";","if(typeof "+n+'.constant === "number"){',u[Ai[0]],"=",n,".constant;",Ai.slice(1).map(function(e){return u[e]}).join("="),"=0;","}else{",Ai.map(function(e,t){return u[e]+"="+n+".constant.length>="+t+"?"+n+".constant["+t+"]:0;"}).join(""),"}}else{","if(",s,"(",n,".buffer)){",M,"=",o,".createStream(",dn,",",n,".buffer);","}else{",M,"=",o,".getBuffer(",n,".buffer);","}",l,'="type" in ',n,"?",a.glTypes,"[",n,".type]:",M,".dtype;",u.normalized,"=!!",n,".normalized;"),emitReadRecord("size"),emitReadRecord("offset"),emitReadRecord("stride"),emitReadRecord("divisor"),i("}}"),i.exit("if(",u.isStream,"){",o,".destroyStream(",M,");","}"),u}var t=s[e];o[e]=createDynamicDecl(t,appendAttributeCode)}),o}function parseContext(e){var t=e.static,r=e.dynamic,i={};return Object.keys(t).forEach(function(e){var r=t[e];i[e]=createStaticDecl(function(e,t){return"number"==typeof r||"boolean"==typeof r?""+r:e.link(r)})}),Object.keys(r).forEach(function(e){var t=r[e];i[e]=createDynamicDecl(t,function(e,r){return e.invoke(r,t)})}),i}function parseArguments(e,t,r,i,n){function copyBox(e){var t=u[e];t&&(M[e]=t)}var a=e.static,s=e.dynamic;p.optional(function(){function checkKeys(t){Object.keys(t).forEach(function(t){p.command(e.indexOf(t)>=0,'unknown parameter "'+t+'"',n.commandStr)})}var e=[Ji,qi,Ki,$i,en,rn,tn,nn,Xi].concat(L);checkKeys(a),checkKeys(s)});var o=parseFramebuffer(e,n),u=parseViewportScissor(e,o,n),c=parseDraw(e,n),M=parseGLState(e,n),l=parseProgram(e,n);copyBox(Hi),copyBox(propName(Zi));var f=Object.keys(M).length>0,A={framebuffer:o,draw:c,shader:l,state:M,dirty:f};return A.profile=parseProfile(e,n),A.uniforms=parseUniforms(r,n),A.attributes=parseAttributes(t,n),A.context=parseContext(i,n),A}function emitContext(e,t,r){var i=e.shared,n=i.context,a=e.scope();Object.keys(r).forEach(function(i){t.save(n,"."+i),a(n,".",i,"=",r[i].append(e,t),";")}),t(a)}function emitPollFramebuffer(e,t,r,i){var n,a=e.shared,s=a.gl,o=a.framebuffer;m&&(n=t.def(a.extensions,".webgl_draw_buffers"));var u,c=e.constants,M=c.drawBuffer,l=c.backBuffer;u=r?r.append(e,t):t.def(o,".next"),i||t("if(",u,"!==",o,".cur){"),t("if(",u,"){",s,".bindFramebuffer(",sa,",",u,".framebuffer);"),m&&t(n,".drawBuffersWEBGL(",M,"[",u,".colorAttachments.length]);"),t("}else{",s,".bindFramebuffer(",sa,",null);"),m&&t(n,".drawBuffersWEBGL(",l,");"),t("}",o,".cur=",u,";"),i||t("}")}function emitPollState(e,t,r){var i=e.shared,n=i.gl,a=e.current,s=e.next,o=i.current,u=i.next,c=e.cond(o,".dirty");L.forEach(function(t){var i=propName(t);if(!(i in r.state)){var M,l;if(i in s){M=s[i],l=a[i];var f=loop(j[i].length,function(e){return c.def(M,"[",e,"]")});c(e.cond(f.map(function(e,t){return e+"!=="+l+"["+t+"]"}).join("||")).then(n,".",T[i],"(",f,");",f.map(function(e,t){return l+"["+t+"]="+e}).join(";"),";"))}else{M=c.def(u,".",i);var A=e.cond(M,"!==",o,".",i);c(A),i in I?A(e.cond(M).then(n,".enable(",I[i],");").else(n,".disable(",I[i],");"),o,".",i,"=",M,";"):A(n,".",T[i],"(",M,");",o,".",i,"=",M,";")}}}),0===Object.keys(r.state).length&&c(o,".dirty=false;"),t(c)}function emitSetOptions(e,t,r,i){var n=e.shared,a=e.current,s=n.current,o=n.gl;sortState(Object.keys(r)).forEach(function(n){var u=r[n];if(!i||i(u)){var c=u.append(e,t);if(I[n]){var M=I[n];isStatic(u)?c?t(o,".enable(",M,");"):t(o,".disable(",M,");"):t(e.cond(c).then(o,".enable(",M,");").else(o,".disable(",M,");")),t(s,".",n,"=",c,";")}else if(isArrayLike(c)){var l=a[n];t(o,".",T[n],"(",c,");",c.map(function(e,t){return l+"["+t+"]="+e}).join(";"),";")}else t(o,".",T[n],"(",c,");",s,".",n,"=",c,";")}})}function injectExtensions(e,t){y&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function emitProfile(e,t,r,i,n){function perfCounter(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function emitProfileStart(e){a=t.def(),e(a,"=",perfCounter(),";"),"string"==typeof n?e(c,".count+=",n,";"):e(c,".count++;"),g&&(i?(s=t.def(),e(s,"=",l,".getNumPendingQueries();")):e(l,".beginQuery(",c,");"))}function emitProfileEnd(e){e(c,".cpuTime+=",perfCounter(),"-",a,";"),g&&(i?e(l,".pushScopeStats(",s,",",l,".getNumPendingQueries(),",c,");"):e(l,".endQuery();"))}function scopeProfile(e){var r=t.def(M,".profile");t(M,".profile=",e,";"),t.exit(M,".profile=",r,";")}var a,s,o,u=e.shared,c=e.stats,M=u.current,l=u.timer,f=r.profile;if(f){if(isStatic(f))return void(f.enable?(emitProfileStart(t),emitProfileEnd(t.exit),scopeProfile("true")):scopeProfile("false"));o=f.append(e,t),scopeProfile(o)}else o=t.def(M,".profile");var A=e.block();emitProfileStart(A),t("if(",o,"){",A,"}");var d=e.block();emitProfileEnd(d),t.exit("if(",o,"){",d,"}")}function emitAttributes(e,t,r,i,n){function typeLength(e){switch(e){case Cn:case kn:case Yn:return 2;case Sn:case Qn:case Rn:return 3;case vn:case Bn:case _n:return 4;default:return 1}}function emitBindAttribute(r,i,n){function emitBuffer(){t("if(!",u,".buffer){",s,".enableVertexAttribArray(",o,");}");var r,a=n.type;if(r=n.size?t.def(n.size,"||",i):i,t("if(",u,".type!==",a,"||",u,".size!==",r,"||",f.map(function(e){return u+"."+e+"!=="+n[e]}).join("||"),"){",s,".bindBuffer(",dn,",",M,".buffer);",s,".vertexAttribPointer(",[o,r,a,n.normalized,n.stride,n.offset],");",u,".type=",a,";",u,".size=",r,";",f.map(function(e){return u+"."+e+"="+n[e]+";"}).join(""),"}"),y){var c=n.divisor;t("if(",u,".divisor!==",c,"){",e.instancing,".vertexAttribDivisorANGLE(",[o,c],");",u,".divisor=",c,";}")}}function emitConstant(){t("if(",u,".buffer){",s,".disableVertexAttribArray(",o,");","}if(",Ai.map(function(e,t){return u+"."+e+"!=="+l[t]}).join("||"),"){",s,".vertexAttrib4f(",o,",",l,");",Ai.map(function(e,t){return u+"."+e+"="+l[t]+";"}).join(""),"}")}var s=a.gl,o=t.def(r,".location"),u=t.def(a.attributes,"[",o,"]"),c=n.state,M=n.buffer,l=[n.x,n.y,n.z,n.w],f=["buffer","normalized","offset","stride"];c===di?emitBuffer():c===Di?emitConstant():(t("if(",c,"===",di,"){"),emitBuffer(),t("}else{"),emitConstant(),t("}"))}var a=e.shared;i.forEach(function(i){var a,s=i.name,o=r.attributes[s];if(o){if(!n(o))return;a=o.append(e,t)}else{if(!n(ga))return;var u=e.scopeAttrib(s);p.optional(function(){e.assert(t,u+".state","missing attribute "+s)}),a={},Object.keys(new D).forEach(function(e){a[e]=t.def(u,".",e)})}emitBindAttribute(e.link(i),typeLength(i.info.type),a)})}function emitUniforms(e,r,i,n,a){for(var s,o=e.shared,u=o.gl,c=0;c<n.length;++c){var M,l=n[c],f=l.name,A=l.info.type,g=i.uniforms[f],d=e.link(l),D=d+".location";if(g){if(!a(g))continue;if(isStatic(g)){var N=g.value;if(p.command(null!==N&&void 0!==N,'missing uniform "'+f+'"',e.commandStr),A===Vn||A===Wn){p.command("function"==typeof N&&(A===Vn&&("texture2d"===N._reglType||"framebuffer"===N._reglType)||A===Wn&&("textureCube"===N._reglType||"framebufferCube"===N._reglType)),"invalid texture for uniform "+f,e.commandStr);var y=e.link(N._texture||N.color[0]._texture);r(u,".uniform1i(",D,",",y+".bind());"),r.exit(y,".unbind();")}else if(A===Fn||A===Pn||A===Gn){p.optional(function(){p.command(isArrayLike(N),"invalid matrix for uniform "+f,e.commandStr),p.command(A===Fn&&4===N.length||A===Pn&&9===N.length||A===Gn&&16===N.length,"invalid length for matrix uniform "+f,e.commandStr)});var h=e.global.def("new Float32Array(["+Array.prototype.slice.call(N)+"])"),m=2;A===Pn?m=3:A===Gn&&(m=4),r(u,".uniformMatrix",m,"fv(",D,",false,",h,");")}else{switch(A){case zn:p.commandType(N,"number","uniform "+f,e.commandStr),s="1f";break;case Cn:p.command(isArrayLike(N)&&2===N.length,"uniform "+f,e.commandStr),s="2f";break;case Sn:p.command(isArrayLike(N)&&3===N.length,"uniform "+f,e.commandStr),s="3f";break;case vn:p.command(isArrayLike(N)&&4===N.length,"uniform "+f,e.commandStr),s="4f";break;case Un:p.commandType(N,"boolean","uniform "+f,e.commandStr),s="1i";break;case On:p.commandType(N,"number","uniform "+f,e.commandStr),s="1i";break;case Yn:p.command(isArrayLike(N)&&2===N.length,"uniform "+f,e.commandStr),s="2i";break;case kn:p.command(isArrayLike(N)&&2===N.length,"uniform "+f,e.commandStr),s="2i";break;case Rn:p.command(isArrayLike(N)&&3===N.length,"uniform "+f,e.commandStr),s="3i";break;case Qn:p.command(isArrayLike(N)&&3===N.length,"uniform "+f,e.commandStr),s="3i";break;case _n:p.command(isArrayLike(N)&&4===N.length,"uniform "+f,e.commandStr),s="4i";break;case Bn:p.command(isArrayLike(N)&&4===N.length,"uniform "+f,e.commandStr),s="4i"}r(u,".uniform",s,"(",D,",",isArrayLike(N)?Array.prototype.slice.call(N):N,");")}continue}M=g.append(e,r)}else{if(!a(ga))continue;M=r.def(o.uniforms,"[",t.id(f),"]")}A===Vn?r("if(",M,"&&",M,'._reglType==="framebuffer"){',M,"=",M,".color[0];","}"):A===Wn&&r("if(",M,"&&",M,'._reglType==="framebufferCube"){',M,"=",M,".color[0];","}"),p.optional(function(){function check(t,i){e.assert(r,t,'bad data or missing for uniform "'+f+'".  '+i)}function checkType(e){check("typeof "+M+'==="'+e+'"',"invalid type, expected "+e)}function checkVector(t,r){check(o.isArrayLike+"("+M+")&&"+M+".length==="+t,"invalid vector, should have length "+t,e.commandStr)}function checkTexture(t){check("typeof "+M+'==="function"&&'+M+'._reglType==="texture'+(t===yn?"2d":"Cube")+'"',"invalid texture type",e.commandStr)}switch(A){case On:checkType("number");break;case kn:checkVector(2,"number");break;case Qn:checkVector(3,"number");break;case Bn:checkVector(4,"number");break;case zn:checkType("number");break;case Cn:checkVector(2,"number");break;case Sn:checkVector(3,"number");break;case vn:checkVector(4,"number");break;case Un:checkType("boolean");break;case Yn:checkVector(2,"boolean");break;case Rn:checkVector(3,"boolean");break;case _n:checkVector(4,"boolean");break;case Fn:checkVector(4,"number");break;case Pn:checkVector(9,"number");break;case Gn:checkVector(16,"number");break;case Vn:checkTexture(yn);break;case Wn:checkTexture(hn)}});var j=1;switch(A){case Vn:case Wn:var w=r.def(M,"._texture");r(u,".uniform1i(",D,",",w,".bind());"),r.exit(w,".unbind();");continue;case On:case Un:s="1i";break;case kn:case Yn:s="2i",j=2;break;case Qn:case Rn:s="3i",j=3;break;case Bn:case _n:s="4i",j=4;break;case zn:s="1f";break;case Cn:s="2f",j=2;break;case Sn:s="3f",j=3;break;case vn:s="4f",j=4;break;case Fn:s="Matrix2fv";break;case Pn:s="Matrix3fv";break;case Gn:s="Matrix4fv"}if(r(u,".uniform",s,"(",D,","),"M"===s.charAt(0)){var L=Math.pow(A-Fn+2,2),I=e.global.def("new Float32Array(",L,")");r("false,(Array.isArray(",M,")||",M," instanceof Float32Array)?",M,":(",loop(L,function(e){return I+"["+e+"]="+M+"["+e+"]"}),",",I,")")}else r(j>1?loop(j,function(e){return M+"["+e+"]"}):M);r(");")}}function emitDraw(e,t,r,i){function emitElements(){var n,u=o.elements,c=t;return u?((u.contextDep&&i.contextDynamic||u.propDep)&&(c=r),n=u.append(e,c)):n=c.def(s,".",$i),n&&c("if("+n+")"+a+".bindBuffer("+Dn+","+n+".buffer.buffer);"),n}function emitCount(){var n,a=o.count,u=t;return a?((a.contextDep&&i.contextDynamic||a.propDep)&&(u=r),n=a.append(e,u),p.optional(function(){a.MISSING&&e.assert(t,"false","missing vertex count"),a.DYNAMIC&&e.assert(u,n+">=0","missing vertex count")})):(n=u.def(s,".",tn),p.optional(function(){e.assert(u,n+">=0","missing vertex count")})),n}function emitValue(n){var a=o[n];return a?a.contextDep&&i.contextDynamic||a.propDep?a.append(e,r):a.append(e,t):t.def(s,".",n)}function emitInstancing(){function drawElements(){r(A,".drawElementsInstancedANGLE(",[c,l,g,M+"<<(("+g+"-"+gi+")>>1)",f],");")}function drawArrays(){r(A,".drawArraysInstancedANGLE(",[c,M,l,f],");")}u?d?drawElements():(r("if(",u,"){"),drawElements(),r("}else{"),drawArrays(),r("}")):drawArrays()}function emitRegular(){function drawElements(){r(a+".drawElements("+[c,l,g,M+"<<(("+g+"-"+gi+")>>1)"]+");")}function drawArrays(){r(a+".drawArrays("+[c,M,l]+");")}u?d?drawElements():(r("if(",u,"){"),drawElements(),r("}else{"),drawArrays(),r("}")):drawArrays()}var n=e.shared,a=n.gl,s=n.draw,o=i.draw,u=emitElements(),c=emitValue(en),M=emitValue(rn),l=emitCount();if("number"==typeof l){if(0===l)return}else r("if(",l,"){"),r.exit("}");var f,A;y&&(f=emitValue(nn),A=e.instancing);var g=u+".type",d=o.elements&&isStatic(o.elements);y&&("number"!=typeof f||f>=0)?"string"==typeof f?(r("if(",f,">0){"),emitInstancing(),r("}else if(",f,"<0){"),emitRegular(),r("}")):emitInstancing():emitRegular()}function createBody(e,t,r,i,n){var a=createREGLEnvironment(),s=a.proc("body",n);return p.optional(function(){a.commandStr=t.commandStr,a.command=a.link(t.commandStr)}),y&&(a.instancing=s.def(a.shared.extensions,".angle_instanced_arrays")),e(a,s,r,i),a.compile().body}function emitDrawBody(e,t,r,i){injectExtensions(e,t),emitAttributes(e,t,r,i.attributes,function(){return!0}),emitUniforms(e,t,r,i.uniforms,function(){return!0}),emitDraw(e,t,t,r)}function emitDrawProc(e,t){var r=e.proc("draw",1);injectExtensions(e,r),emitContext(e,r,t.context),emitPollFramebuffer(e,r,t.framebuffer),emitPollState(e,r,t),emitSetOptions(e,r,t.state),emitProfile(e,r,t,!1,!0);var i=t.shader.progVar.append(e,r);if(r(e.shared.gl,".useProgram(",i,".program);"),t.shader.program)emitDrawBody(e,r,t,t.shader.program);else{var n=e.global.def("{}"),a=r.def(i,".id"),s=r.def(n,"[",a,"]");r(e.cond(s).then(s,".call(this,a0);").else(s,"=",n,"[",a,"]=",e.link(function(r){return createBody(emitDrawBody,e,t,r,1)}),"(",i,");",s,".call(this,a0);"))}Object.keys(t.state).length>0&&r(e.shared.current,".dirty=true;")}function emitBatchDynamicShaderBody(e,t,r,i){function all(){return!0}e.batchId="a1",injectExtensions(e,t),emitAttributes(e,t,r,i.attributes,all),emitUniforms(e,t,r,i.uniforms,all),emitDraw(e,t,t,r)}function emitBatchBody(e,t,r,i){function isInnerDefn(e){return e.contextDep&&n||e.propDep}function isOuterDefn(e){return!isInnerDefn(e)}injectExtensions(e,t);var n=r.contextDep,a=t.def(),s="a0",o="a1",u=t.def();e.shared.props=u,e.batchId=a;var c=e.scope(),M=e.scope();if(t(c.entry,"for(",a,"=0;",a,"<",o,";++",a,"){",u,"=",s,"[",a,"];",M,"}",c.exit),r.needsContext&&emitContext(e,M,r.context),r.needsFramebuffer&&emitPollFramebuffer(e,M,r.framebuffer),emitSetOptions(e,M,r.state,isInnerDefn),r.profile&&isInnerDefn(r.profile)&&emitProfile(e,M,r,!1,!0),i)emitAttributes(e,c,r,i.attributes,isOuterDefn),emitAttributes(e,M,r,i.attributes,isInnerDefn),emitUniforms(e,c,r,i.uniforms,isOuterDefn),emitUniforms(e,M,r,i.uniforms,isInnerDefn),emitDraw(e,c,M,r);else{var l=e.global.def("{}"),f=r.shader.progVar.append(e,M),A=M.def(f,".id"),g=M.def(l,"[",A,"]");M(e.shared.gl,".useProgram(",f,".program);","if(!",g,"){",g,"=",l,"[",A,"]=",e.link(function(t){return createBody(emitBatchDynamicShaderBody,e,r,t,2)}),"(",f,");}",g,".call(this,a0[",a,"],",a,");")}}function emitBatchProc(e,t){function isInnerDefn(e){return e.contextDep&&i||e.propDep}var r=e.proc("batch",2);e.batchId="0",injectExtensions(e,r);var i=!1,n=!0;Object.keys(t.context).forEach(function(e){i=i||t.context[e].propDep}),i||(emitContext(e,r,t.context),n=!1);var a=t.framebuffer,s=!1;a?(a.propDep?i=s=!0:a.contextDep&&i&&(s=!0),s||emitPollFramebuffer(e,r,a)):emitPollFramebuffer(e,r,null),t.state.viewport&&t.state.viewport.propDep&&(i=!0),emitPollState(e,r,t),emitSetOptions(e,r,t.state,function(e){return!isInnerDefn(e)}),t.profile&&isInnerDefn(t.profile)||emitProfile(e,r,t,!1,"a1"),t.contextDep=i,t.needsContext=n,t.needsFramebuffer=s;var o=t.shader.progVar;if(o.contextDep&&i||o.propDep)emitBatchBody(e,r,t,null);else{var u=o.append(e,r);if(r(e.shared.gl,".useProgram(",u,".program);"),t.shader.program)emitBatchBody(e,r,t,t.shader.program);else{var c=e.global.def("{}"),M=r.def(u,".id"),l=r.def(c,"[",M,"]");r(e.cond(l).then(l,".call(this,a0,a1);").else(l,"=",c,"[",M,"]=",e.link(function(r){return createBody(emitBatchBody,e,t,r,2)}),"(",u,");",l,".call(this,a0,a1);"))}}Object.keys(t.state).length>0&&r(e.shared.current,".dirty=true;")}function emitScopeProc(e,r){function saveShader(t){var a=r.shader[t];a&&i.set(n.shader,"."+t,a.append(e,i))}var i=e.proc("scope",3);e.batchId="a2";var n=e.shared,a=n.current;emitContext(e,i,r.context),r.framebuffer&&r.framebuffer.append(e,i),sortState(Object.keys(r.state)).forEach(function(t){var a=r.state[t],s=a.append(e,i);isArrayLike(s)?s.forEach(function(r,n){i.set(e.next[t],"["+n+"]",r)}):i.set(n.next,"."+t,s)}),emitProfile(e,i,r,!0,!0),[$i,rn,tn,nn,en].forEach(function(t){var a=r.draw[t];a&&i.set(n.draw,"."+t,""+a.append(e,i))}),Object.keys(r.uniforms).forEach(function(a){i.set(n.uniforms,"["+t.id(a)+"]",r.uniforms[a].append(e,i))}),Object.keys(r.attributes).forEach(function(t){var n=r.attributes[t].append(e,i),a=e.scopeAttrib(t);Object.keys(new D).forEach(function(e){i.set(a,"."+e,n[e])})}),saveShader(qi),saveShader(Ki),Object.keys(r.state).length>0&&(i(a,".dirty=true;"),i.exit(a,".dirty=true;")),i("a1(",e.shared.context,",a0,",e.batchId,");")}function isDynamicObject(e){if("object"===(void 0===e?"undefined":a(e))&&!isArrayLike(e)){for(var t=Object.keys(e),r=0;r<t.length;++r)if(h.isDynamic(e[t[r]]))return!0;return!1}}function splatObject(e,t,r){function appendBlock(e,t){s.forEach(function(r){var n=i[r];if(h.isDynamic(n)){t(M,".",r,"=",e.invoke(t,n),";")}})}var i=t.static[r];if(i&&isDynamicObject(i)){var n=e.global,s=Object.keys(i),o=!1,u=!1,c=!1,M=e.global.def("{}");s.forEach(function(t){var r=i[t];if(h.isDynamic(r)){"function"==typeof r&&(r=i[t]=h.unbox(r));var s=createDynamicDecl(r,null);o=o||s.thisDep,c=c||s.propDep,u=u||s.contextDep}else{switch(n(M,".",t,"="),void 0===r?"undefined":a(r)){case"number":n(r);break;case"string":n('"',r,'"');break;case"object":Array.isArray(r)&&n("[",r.join(),"]");break;default:n(e.link(r))}n(";")}}),t.dynamic[r]=new h.DynamicVariable(mi,{thisDep:o,contextDep:u,propDep:c,ref:M,append:appendBlock}),delete t.static[r]}}function compileCommand(e,t,r,i,n){var a=createREGLEnvironment();a.stats=a.link(n),Object.keys(t.static).forEach(function(e){splatObject(a,t,e)}),gn.forEach(function(t){splatObject(a,e,t)});var s=parseArguments(e,t,r,i,a);return emitDrawProc(a,s),emitScopeProc(a,s),emitBatchProc(a,s),a.compile()}var D=M.Record,N={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(N.min=Kn,N.max=$n);var y=r.angle_instanced_arrays,m=r.webgl_draw_buffers,j={dirty:!0,profile:d.profile},w={},L=[],I={},T={};stateFlag(ji,wn),stateFlag(wi,jn),stateVariable(Li,"blendColor",[0,0,0,0]),stateVariable(Ii,"blendEquationSeparate",[na,na]),stateVariable(Ti,"blendFuncSeparate",[ia,ra,ia,ra]),stateFlag(Ei,In,!0),stateVariable(xi,"depthFunc",aa),stateVariable(bi,"depthRange",[0,1]),stateVariable(zi,"depthMask",!0),stateVariable(Ci,Ci,[!0,!0,!0,!0]),stateFlag(Si,mn),stateVariable(vi,"cullFace",Xn),stateVariable(Oi,Oi,qn),stateVariable(ki,ki,1),stateFlag(Qi,En),stateVariable(Bi,"polygonOffset",[0,0]),stateFlag(Ui,xn),stateFlag(Yi,bn),stateVariable(Ri,"sampleCoverage",[1,!1]),stateFlag(_i,Ln),stateVariable(Fi,"stencilMask",-1),stateVariable(Pi,"stencilFunc",[ea,0,-1]),stateVariable(Gi,"stencilOpSeparate",[Hn,ta,ta,ta]),stateVariable(Vi,"stencilOpSeparate",[Xn,ta,ta,ta]),stateFlag(Wi,Tn),stateVariable(Zi,"scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),stateVariable(Hi,Hi,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var E={gl:e,context:A,strings:t,next:w,current:j,draw:f,elements:s,buffer:n,shader:l,attributes:M.state,uniforms:c,framebuffer:u,extensions:r,timer:g,isBufferArgs:isBufferArgs},x={primTypes:ve,compareFuncs:Ma,blendFuncs:ua,blendEquations:N,stencilOps:la,glTypes:De,orientationType:Aa};p.optional(function(){E.isArrayLike=isArrayLike}),m&&(x.backBuffer=[Xn],x.drawBuffer=loop(i.maxDrawbuffers,function(e){return 0===e?[0]:loop(e,function(e){return oa+e})}));var b=0;return{next:w,current:j,procs:function(){var t=createREGLEnvironment(),r=t.proc("poll"),n=t.proc("refresh"),a=t.block();r(a),n(a);var s=t.shared,o=s.gl,u=s.next,c=s.current;a(c,".dirty=false;"),emitPollFramebuffer(t,r),emitPollFramebuffer(t,n,null,!0);var M,l=e.getExtension("angle_instanced_arrays");l&&(M=t.link(l));for(var f=0;f<i.maxAttributes;++f){var A=n.def(s.attributes,"[",f,"]"),g=t.cond(A,".buffer");g.then(o,".enableVertexAttribArray(",f,");",o,".bindBuffer(",dn,",",A,".buffer.buffer);",o,".vertexAttribPointer(",f,",",A,".size,",A,".type,",A,".normalized,",A,".stride,",A,".offset);").else(o,".disableVertexAttribArray(",f,");",o,".vertexAttrib4f(",f,",",A,".x,",A,".y,",A,".z,",A,".w);",A,".buffer=null;"),n(g),l&&n(M,".vertexAttribDivisorANGLE(",f,",",A,".divisor);")}return Object.keys(I).forEach(function(e){var i=I[e],s=a.def(u,".",e),M=t.block();M("if(",s,"){",o,".enable(",i,")}else{",o,".disable(",i,")}",c,".",e,"=",s,";"),n(M),r("if(",s,"!==",c,".",e,"){",M,"}")}),Object.keys(T).forEach(function(e){var i,s,M=T[e],l=j[e],f=t.block();if(f(o,".",M,"("),isArrayLike(l)){var A=l.length;i=t.global.def(u,".",e),s=t.global.def(c,".",e),f(loop(A,function(e){return i+"["+e+"]"}),");",loop(A,function(e){return s+"["+e+"]="+i+"["+e+"];"}).join("")),r("if(",loop(A,function(e){return i+"["+e+"]!=="+s+"["+e+"]"}).join("||"),"){",f,"}")}else i=a.def(u,".",e),s=a.def(c,".",e),f(i,");",c,".",e,"=",i,";"),r("if(",i,"!==",s,"){",f,"}");n(f)}),t.compile()}(),compile:compileCommand}}function stats(){return{bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}function find(e,t){for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}function wrapREGL(e){function handleRAF(){if(0===O.length)return l&&l.update(),void(U=null);U=m.next(handleRAF),_poll();for(var e=O.length-1;e>=0;--e){var t=O[e];t&&t(d,null,0)}i.flush(),l&&l.update()}function startRAF(){!U&&O.length>0&&(U=m.next(handleRAF))}function stopRAF(){U&&(m.cancel(handleRAF),U=null)}function handleContextLoss(e){e.preventDefault(),s=!0,stopRAF(),k.forEach(function(e){e()})}function handleContextRestored(e){i.getError(),s=!1,o.restore(),T.restore(),w.restore(),E.restore(),x.restore(),b.restore(),l&&l.restore(),z.procs.refresh(),startRAF(),Q.forEach(function(e){e()})}function destroy(){O.length=0,stopRAF(),v&&(v.removeEventListener(wa,handleContextLoss),v.removeEventListener(La,handleContextRestored)),T.clear(),b.clear(),x.clear(),E.clear(),L.clear(),w.clear(),l&&l.clear(),B.forEach(function(e){e()})}function compileProcedure(e){function flattenNestedOptions(e){function merge(e){if(e in t){var r=t[e];delete t[e],Object.keys(r).forEach(function(i){t[e+"."+i]=r[i]})}}var t=r({},e);return delete t.uniforms,delete t.attributes,delete t.context,"stencil"in t&&t.stencil.op&&(t.stencil.opBack=t.stencil.opFront=t.stencil.op,delete t.stencil.op),merge("blend"),merge("depth"),merge("cull"),merge("stencil"),merge("polygonOffset"),merge("scissor"),merge("sample"),t}function separateDynamic(e){var t={},r={};return Object.keys(e).forEach(function(i){var n=e[i];h.isDynamic(n)?r[i]=h.unbox(n,i):t[i]=n}),{dynamic:r,static:t}}function reserve(e){for(;f.length<e;)f.push(null);return f}function REGLCommand(e,t){var r;if(s&&p.raise("context lost"),"function"==typeof e)return l.call(this,null,e,0);if("function"==typeof t){if("number"==typeof e){for(r=0;r<e;++r)l.call(this,null,t,r);return}if(Array.isArray(e)){for(r=0;r<e.length;++r)l.call(this,e[r],t,r);return}return l.call(this,e,t,0)}if("number"==typeof e){if(e>0)return M.call(this,reserve(0|e),0|e)}else{if(!Array.isArray(e))return c.call(this,e);if(e.length)return M.call(this,e,e.length)}}p(!!e,"invalid args to regl({...})"),p.type(e,"object","invalid args to regl({...})");var t=separateDynamic(e.context||{}),i=separateDynamic(e.uniforms||{}),n=separateDynamic(e.attributes||{}),a=separateDynamic(flattenNestedOptions(e)),o={gpuTime:0,cpuTime:0,count:0},u=z.compile(a,n,i,t,o),c=u.draw,M=u.batch,l=u.scope,f=[];return r(REGLCommand,{stats:o})}function clearImpl(e,t){var r=0;z.procs.poll();var n=t.color;n&&(i.clearColor(+n[0]||0,+n[1]||0,+n[2]||0,+n[3]||0),r|=ya),"depth"in t&&(i.clearDepth(+t.depth),r|=ha),"stencil"in t&&(i.clearStencil(0|t.stencil),r|=ma),p(!!r,"called regl.clear with no buffer specified"),i.clear(r)}function clear(e){if(p("object"===(void 0===e?"undefined":a(e))&&e,"regl.clear() takes an object as input"),"framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var t=0;t<6;++t)Y(r({framebuffer:e.framebuffer.faces[t]},e),clearImpl);else Y(e,clearImpl);else clearImpl(null,e)}function frame(e){function cancel(){function pendingCancel(){O[find(O,pendingCancel)]=O[O.length-1],O.length-=1,O.length<=0&&stopRAF()}var t=find(O,e);p(t>=0,"cannot cancel a frame twice"),O[t]=pendingCancel}return p.type(e,"function","regl.frame() callback must be a function"),O.push(e),startRAF(),{cancel:cancel}}function pollViewport(){var e=S.viewport,t=S.scissor_box;e[0]=e[1]=t[0]=t[1]=0,d.viewportWidth=d.framebufferWidth=d.drawingBufferWidth=e[2]=t[2]=i.drawingBufferWidth,d.viewportHeight=d.framebufferHeight=d.drawingBufferHeight=e[3]=t[3]=i.drawingBufferHeight}function _poll(){d.tick+=1,d.time=now(),pollViewport(),z.procs.poll()}function refresh(){pollViewport(),z.procs.refresh(),l&&l.update()}function now(){return(j()-f)/1e3}function addListener(e,t){p.type(t,"function","listener callback must be a function");var r;switch(e){case"frame":return frame(t);case"lost":r=k;break;case"restore":r=Q;break;case"destroy":r=B;break;default:p.raise("invalid event, must be one of frame,lost,restore,destroy")}return r.push(t),{cancel:function(){for(var e=0;e<r.length;++e)if(r[e]===t)return r[e]=r[r.length-1],void r.pop()}}}var t=parseArgs(e);if(!t)return null;var i=t.gl,n=i.getContextAttributes(),s=i.isContextLost(),o=createExtensionCache(i,t);if(!o)return null;var u=createStringStore(),c=stats(),M=o.extensions,l=Na(i,M),f=j(),A=i.drawingBufferWidth,g=i.drawingBufferHeight,d={tick:0,time:0,viewportWidth:A,viewportHeight:g,framebufferWidth:A,framebufferHeight:g,drawingBufferWidth:A,drawingBufferHeight:g,pixelRatio:t.pixelRatio},D={},N={elements:null,primitive:4,count:-1,offset:0,instances:-1},y=J(i,M),w=wrapBufferState(i,c,t),L=wrapElementsState(i,M,w,c),I=wrapAttributeState(i,M,y,w,u),T=wrapShaderState(i,u,c,t),E=createTextureSet(i,M,y,function(){z.procs.poll()},d,c,t),x=Lr(i,M,y,c,t),b=wrapFBOState(i,M,y,E,x,c),z=reglCore(i,u,M,y,w,L,E,b,D,I,T,N,d,l,t),C=wrapReadPixels(i,b,z.procs.poll,d,n,M),S=z.next,v=i.canvas,O=[],k=[],Q=[],B=[t.onDestroy],U=null;v&&(v.addEventListener(wa,handleContextLoss,!1),v.addEventListener(La,handleContextRestored,!1));var Y=b.setFBO=compileProcedure({framebuffer:h.define.call(null,Ia,"framebuffer")});refresh();var R=r(compileProcedure,{clear:clear,prop:h.define.bind(null,Ia),context:h.define.bind(null,Ta),this:h.define.bind(null,Ea),draw:compileProcedure({}),buffer:function(e){return w.create(e,ja,!1,!1)},elements:function(e){return L.create(e,!1)},texture:E.create2D,cube:E.createCube,renderbuffer:x.create,framebuffer:b.create,framebufferCube:b.createCube,attributes:n,frame:frame,on:addListener,limits:y,hasExtension:function(e){return y.extensions.indexOf(e.toLowerCase())>=0},read:C,destroy:destroy,_gl:i,_refresh:refresh,poll:function(){_poll(),l&&l.update()},now:now,stats:c});return t.onDone(null,R),R}var e={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},t=function(t){return Object.prototype.toString.call(t)in e},r=function(e,t){for(var r=Object.keys(t),i=0;i<r.length;++i)e[r[i]]=t[r[i]];return e},i=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"],n=33071,s=9728,o=9984,u=9985,c=9986,M=9987,l=5126,f=32819,A=32820,g=33635,d=34042,D={};D[5120]=D[5121]=1,D[5122]=D[5123]=D[36193]=D[g]=D[f]=D[A]=2,D[5124]=D[5125]=D[l]=D[d]=4;var p=r(check,{optional:checkOptional,raise:raise,commandRaise:commandRaise,command:checkCommand,parameter:checkParameter,commandParameter:checkParameterCommand,constructor:checkConstructor,type:checkTypeOf,commandType:checkCommandType,isTypedArray:checkIsTypedArray,nni:checkNonNegativeInt,oneOf:checkOneOf,shaderError:checkShaderError,linkError:checkLinkError,callSite:guessCallSite,saveCommandRef:saveCommandRef,saveDrawInfo:saveDrawCommandInfo,framebufferFormat:checkFramebufferFormat,guessCommand:guessCommand,texture2D:checkTexture2D,textureCube:checkTextureCube}),N=0,y=0,h={DynamicVariable:DynamicVariable,define:defineDynamic,isDynamic:isDynamic,unbox:unbox,accessor:toAccessorString},m={next:"function"==typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"==typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},j="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date},w=3408,L=3410,I=3411,T=3412,E=3413,x=3414,b=3415,z=33901,C=33902,S=3379,v=3386,O=34921,k=36347,Q=36348,B=35661,U=35660,Y=34930,R=36349,_=34076,F=34024,P=7936,G=7937,V=7938,W=35724,Z=34047,H=36063,X=34852,J=function(e,t){var r=1;t.ext_texture_filter_anisotropic&&(r=e.getParameter(Z));var i=1,n=1;return t.webgl_draw_buffers&&(i=e.getParameter(X),n=e.getParameter(H)),{colorBits:[e.getParameter(L),e.getParameter(I),e.getParameter(T),e.getParameter(E)],depthBits:e.getParameter(x),stencilBits:e.getParameter(b),subpixelBits:e.getParameter(w),extensions:Object.keys(t).filter(function(e){return!!t[e]}),maxAnisotropic:r,maxDrawbuffers:i,maxColorAttachments:n,pointSizeDims:e.getParameter(z),lineWidthDims:e.getParameter(C),maxViewportDims:e.getParameter(v),maxCombinedTextureUnits:e.getParameter(B),maxCubeMapSize:e.getParameter(_),maxRenderbufferSize:e.getParameter(F),maxTextureUnits:e.getParameter(Y),maxTextureSize:e.getParameter(S),maxAttributes:e.getParameter(O),maxVertexUniforms:e.getParameter(k),maxVertexTextureUnits:e.getParameter(U),maxVaryingVectors:e.getParameter(Q),maxFragmentUniforms:e.getParameter(R),glsl:e.getParameter(W),renderer:e.getParameter(G),vendor:e.getParameter(P),version:e.getParameter(V)}},q=function(e){return Object.keys(e).map(function(t){return e[t]})},K=5120,$=5121,ee=5122,te=5123,re=5124,ie=5125,ne=5126,ae=loop(8,function(){return[]}),se={alloc:alloc,free:free,allocType:allocType,freeType:freeType},oe={shape:arrayShape$1,flatten:flattenArray},ue=5120,ce=5122,Me=5124,le=5121,fe=5123,Ae=5125,ge=5126,de=5126,De={int8:ue,int16:ce,int32:Me,uint8:le,uint16:fe,uint32:Ae,float:ge,float32:de},pe=35048,Ne=35040,ye={dynamic:pe,stream:Ne,static:35044},he=oe.flatten,me=oe.shape,je=35044,we=35040,Le=5121,Ie=5126,Te=[];Te[5120]=1,Te[5122]=2,Te[5124]=4,Te[5121]=1,Te[5123]=2,Te[5125]=4,Te[5126]=4;var Ee=0,xe=0,be=1,ze=1,Ce=4,Se=4,ve={points:Ee,point:xe,lines:be,line:ze,triangles:Ce,triangle:Se,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Oe=0,ke=1,Qe=4,Be=5120,Ue=5121,Ye=5122,Re=5123,_e=5124,Fe=5125,Pe=34963,Ge=35040,Ve=35044,We=new Float32Array(1),Ze=new Uint32Array(We.buffer),He=5123,Xe=34467,Je=3553,qe=34067,Ke=34069,$e=6408,et=6406,tt=6407,rt=6409,it=6410,nt=32854,at=32855,st=36194,ot=32819,ut=32820,ct=33635,Mt=34042,lt=6402,ft=34041,At=35904,gt=35906,dt=36193,Dt=33776,pt=33777,Nt=33778,yt=33779,ht=35986,mt=35987,jt=34798,wt=35840,Lt=35841,It=35842,Tt=35843,Et=36196,xt=5121,bt=5123,zt=5125,Ct=5126,St=10242,vt=10243,Ot=10497,kt=33071,Qt=33648,Bt=10240,Ut=10241,Yt=9728,Rt=9729,_t=9984,Ft=9985,Pt=9986,Gt=9987,Vt=33170,Wt=4352,Zt=4353,Ht=4354,Xt=34046,Jt=3317,qt=37440,Kt=37441,$t=37443,er=37444,tr=33984,rr=[_t,Pt,Ft,Gt],ir=[0,rt,it,tt,$e],nr={};nr[rt]=nr[et]=nr[lt]=1,nr[ft]=nr[it]=2,nr[tt]=nr[At]=3,nr[$e]=nr[gt]=4;var ar=objectName("HTMLCanvasElement"),sr=objectName("CanvasRenderingContext2D"),or=objectName("HTMLImageElement"),ur=objectName("HTMLVideoElement"),cr=Object.keys(e).concat([ar,sr,or,ur]),Mr=[];Mr[xt]=1,Mr[Ct]=4,Mr[dt]=2,Mr[bt]=2,Mr[zt]=4;var lr=[];lr[nt]=2,lr[at]=2,lr[st]=2,lr[ft]=4,lr[Dt]=.5,lr[pt]=.5,lr[Nt]=1,lr[yt]=1,lr[ht]=.5,lr[mt]=1,lr[jt]=1,lr[wt]=.5,lr[Lt]=.25,lr[It]=.5,lr[Tt]=.25,lr[Et]=.5;var fr=36161,Ar=32854,gr=32855,dr=36194,Dr=33189,pr=36168,Nr=34041,yr=35907,hr=34836,mr=34842,jr=34843,wr=[];wr[Ar]=2,wr[gr]=2,wr[dr]=2,wr[Dr]=2,wr[pr]=1,wr[Nr]=4,wr[yr]=4,wr[hr]=16,wr[mr]=8,wr[jr]=6;var Lr=function(e,t,r,i,n){function REGLRenderbuffer(e){this.id=u++,this.refCount=1,this.renderbuffer=e,this.format=Ar,this.width=0,this.height=0,n.profile&&(this.stats={size:0})}function destroy(t){var r=t.renderbuffer;p(r,"must not double destroy renderbuffer"),e.bindRenderbuffer(fr,null),e.deleteRenderbuffer(r),t.renderbuffer=null,t.refCount=0,delete c[t.id],i.renderbufferCount--}function createRenderbuffer(t,u){function reglRenderbuffer(t,i){var u=0,c=0,l=Ar;if("object"===(void 0===t?"undefined":a(t))&&t){var f=t;if("shape"in f){var A=f.shape;p(Array.isArray(A)&&A.length>=2,"invalid renderbuffer shape"),u=0|A[0],c=0|A[1]}else"radius"in f&&(u=c=0|f.radius),"width"in f&&(u=0|f.width),"height"in f&&(c=0|f.height);"format"in f&&(p.parameter(f.format,s,"invalid renderbuffer format"),l=s[f.format])}else"number"==typeof t?(u=0|t,c="number"==typeof i?0|i:u):t?p.raise("invalid arguments to renderbuffer constructor"):u=c=1;if(p(u>0&&c>0&&u<=r.maxRenderbufferSize&&c<=r.maxRenderbufferSize,"invalid renderbuffer size"),u!==M.width||c!==M.height||l!==M.format)return reglRenderbuffer.width=M.width=u,reglRenderbuffer.height=M.height=c,M.format=l,e.bindRenderbuffer(fr,M.renderbuffer),e.renderbufferStorage(fr,l,u,c),n.profile&&(M.stats.size=getRenderbufferSize(M.format,M.width,M.height)),reglRenderbuffer.format=o[M.format],reglRenderbuffer}function resize(t,i){var a=0|t,s=0|i||a;return a===M.width&&s===M.height?reglRenderbuffer:(p(a>0&&s>0&&a<=r.maxRenderbufferSize&&s<=r.maxRenderbufferSize,"invalid renderbuffer size"),reglRenderbuffer.width=M.width=a,reglRenderbuffer.height=M.height=s,e.bindRenderbuffer(fr,M.renderbuffer),e.renderbufferStorage(fr,M.format,a,s),n.profile&&(M.stats.size=getRenderbufferSize(M.format,M.width,M.height)),reglRenderbuffer)}var M=new REGLRenderbuffer(e.createRenderbuffer());return c[M.id]=M,i.renderbufferCount++,reglRenderbuffer(t,u),reglRenderbuffer.resize=resize,reglRenderbuffer._reglType="renderbuffer",reglRenderbuffer._renderbuffer=M,n.profile&&(reglRenderbuffer.stats=M.stats),reglRenderbuffer.destroy=function(){M.decRef()},reglRenderbuffer}function restoreRenderbuffers(){q(c).forEach(function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(fr,t.renderbuffer),e.renderbufferStorage(fr,t.format,t.width,t.height)}),e.bindRenderbuffer(fr,null)}var s={rgba4:Ar,rgb565:dr,"rgb5 a1":gr,depth:Dr,stencil:pr,"depth stencil":Nr};t.ext_srgb&&(s.srgba=yr),t.ext_color_buffer_half_float&&(s.rgba16f=mr,s.rgb16f=jr),t.webgl_color_buffer_float&&(s.rgba32f=hr);var o=[];Object.keys(s).forEach(function(e){o[s[e]]=e});var u=0,c={};return REGLRenderbuffer.prototype.decRef=function(){--this.refCount<=0&&destroy(this)},n.profile&&(i.getTotalRenderbufferSize=function(){var e=0;return Object.keys(c).forEach(function(t){e+=c[t].stats.size}),e}),{create:createRenderbuffer,clear:function(){q(c).forEach(destroy)},restore:restoreRenderbuffers}},Ir=36160,Tr=36161,Er=3553,xr=34069,br=36064,zr=36096,Cr=36128,Sr=33306,vr=36053,Or=36054,kr=36055,Qr=36057,Br=36061,Ur=36193,Yr=5121,Rr=5126,_r=6408,Fr=6402,Pr=[_r],Gr=[];Gr[_r]=4;var Vr=[];Vr[Yr]=1,Vr[Rr]=4,Vr[Ur]=2;var Wr=32854,Zr=32855,Hr=36194,Xr=33189,Jr=36168,qr=34041,Kr=35907,$r=34836,ei=34842,ti=34843,ri=[Wr,Zr,Hr,Kr,ei,ti,$r],ii={};ii[vr]="complete",ii[Or]="incomplete attachment",ii[Qr]="incomplete dimensions",ii[kr]="incomplete, missing attachment",ii[Br]="unsupported";var ni=5126,ai=35632,si=35633,oi=35718,ui=35721,ci=6408,Mi=5121,li=3333,fi=5126,Ai="xyzw".split(""),gi=5121,di=1,Di=2,pi=0,Ni=1,yi=2,hi=3,mi=4,ji="dither",wi="blend.enable",Li="blend.color",Ii="blend.equation",Ti="blend.func",Ei="depth.enable",xi="depth.func",bi="depth.range",zi="depth.mask",Ci="colorMask",Si="cull.enable",vi="cull.face",Oi="frontFace",ki="lineWidth",Qi="polygonOffset.enable",Bi="polygonOffset.offset",Ui="sample.alpha",Yi="sample.enable",Ri="sample.coverage",_i="stencil.enable",Fi="stencil.mask",Pi="stencil.func",Gi="stencil.opFront",Vi="stencil.opBack",Wi="scissor.enable",Zi="scissor.box",Hi="viewport",Xi="profile",Ji="framebuffer",qi="vert",Ki="frag",$i="elements",en="primitive",tn="count",rn="offset",nn="instances",an="Width",sn="Height",on=Ji+an,un=Ji+sn,cn=Hi+an,Mn=Hi+sn,ln="drawingBuffer",fn=ln+an,An=ln+sn,gn=[Ti,Ii,Pi,Gi,Vi,Ri,Hi,Zi,Bi],dn=34962,Dn=34963,pn=35632,Nn=35633,yn=3553,hn=34067,mn=2884,jn=3042,wn=3024,Ln=2960,In=2929,Tn=3089,En=32823,xn=32926,bn=32928,zn=5126,Cn=35664,Sn=35665,vn=35666,On=5124,kn=35667,Qn=35668,Bn=35669,Un=35670,Yn=35671,Rn=35672,_n=35673,Fn=35674,Pn=35675,Gn=35676,Vn=35678,Wn=35680,Zn=4,Hn=1028,Xn=1029,Jn=2304,qn=2305,Kn=32775,$n=32776,ea=519,ta=7680,ra=0,ia=1,na=32774,aa=513,sa=36160,oa=36064,ua={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},ca=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Ma={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},la={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},fa={frag:pn,vert:Nn},Aa={cw:Jn,ccw:qn},ga=new Declaration(!1,!1,!1,function(){}),da=34918,Da=34919,pa=35007,Na=function(e,t){function allocQuery(){return i.pop()||r.createQueryEXT()}function freeQuery(e){i.push(e)}function beginQuery(e){var t=allocQuery();r.beginQueryEXT(pa,t),n.push(t),pushScopeStats(n.length-1,n.length,e)}function endQuery(){r.endQueryEXT(pa)}function PendingStats(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}function allocPendingStats(){return a.pop()||new PendingStats}function freePendingStats(e){a.push(e)}function pushScopeStats(e,t,r){var i=allocPendingStats();i.startQueryIndex=e,i.endQueryIndex=t,i.sum=0,i.stats=r,s.push(i)}function update(){var e,t,i=n.length;if(0!==i){u.length=Math.max(u.length,i+1),o.length=Math.max(o.length,i+1),o[0]=0,u[0]=0;var a=0;for(e=0,t=0;t<n.length;++t){var c=n[t];r.getQueryObjectEXT(c,Da)?(a+=r.getQueryObjectEXT(c,da),freeQuery(c)):n[e++]=c,o[t+1]=a,u[t+1]=e}for(n.length=e,e=0,t=0;t<s.length;++t){var M=s[t],l=M.startQueryIndex,f=M.endQueryIndex;M.sum+=o[f]-o[l];var A=u[l],g=u[f];g===A?(M.stats.gpuTime+=M.sum/1e6,freePendingStats(M)):(M.startQueryIndex=A,M.endQueryIndex=g,s[e++]=M)}s.length=e}}var r=t.ext_disjoint_timer_query;if(!r)return null;var i=[],n=[],a=[],s=[],o=[],u=[];return{beginQuery:beginQuery,endQuery:endQuery,pushScopeStats:pushScopeStats,update:update,getNumPendingQueries:function(){return n.length},clear:function(){i.push.apply(i,n);for(var e=0;e<i.length;e++)r.deleteQueryEXT(i[e]);n.length=0,i.length=0},restore:function(){n.length=0,i.length=0}}},ya=16384,ha=256,ma=1024,ja=34962,wa="webglcontextlost",La="webglcontextrestored",Ia=1,Ta=2,Ea=3;return wrapREGL})},function(e,t,r){"use strict";var i,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":n(window))&&(i=window)}e.exports=i}]);